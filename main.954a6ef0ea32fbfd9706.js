!function(n){function t(t){for(var r,u,s=t[0],c=t[1],f=t[2],l=0,d=[];l<s.length;l++)u=s[l],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(a&&a(t);d.length;)d.shift()();return o.push.apply(o,f||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],r=!0,s=1;s<e.length;s++){var c=e[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),n=u(u.s=e[0]))}return n}var r={},i={0:0},o=[];function u(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.m=n,u.c=r,u.d=function(n,t,e){u.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},u.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},u.t=function(n,t){if(1&t&&(n=u(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(u.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)u.d(e,r,function(t){return n[t]}.bind(null,r));return e},u.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return u.d(t,"a",t),t},u.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u.p="/wot-session-dashboard/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var a=c;o.push([1,1]),e()}([,function(n,t,e){e(3),n.exports=e(2)},function(n,t,e){},function(n,t,e){"use strict";function r(n){return null!=n&&(Array.isArray(n)||ArrayBuffer.isView(n))}function i(n){return null!=n&&"function"==typeof n.Dispose}e.r(t),e.d(t,"ConnectionState",(function(){return gc})),e.d(t,"ConnectionState$reflection",(function(){return pc})),e.d(t,"LoadingState$00601",(function(){return mc})),e.d(t,"LoadingState$00601$reflection",(function(){return yc})),e.d(t,"Model",(function(){return vc})),e.d(t,"Model$reflection",(function(){return bc})),e.d(t,"Msg",(function(){return Ec})),e.d(t,"Msg$reflection",(function(){return Sc})),e.d(t,"connectToServer",(function(){return xc})),e.d(t,"init",(function(){return Cc})),e.d(t,"update",(function(){return Oc})),e.d(t,"viewStatusBar",(function(){return kc})),e.d(t,"viewWinRateWidget",(function(){return Mc})),e.d(t,"viewWn8Widget",(function(){return Tc})),e.d(t,"viewNetCreditsWidget",(function(){return Bc})),e.d(t,"view",(function(){return Pc}));function o(n,t,e){return n.has(t)?[!0,n.get(t)]:[!1,e]}class u{constructor(n){this.factory=n,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function s(n,t){let e=n.toString(10);for(;e.length<t;)e="0"+e;return e}function c(n){const t=n;return"number"==typeof t.offset?t.offset:1===n.kind?0:-6e4*n.getTimezoneOffset()}function f(n,t){return(n=n<0&&null!=t&&10!==t?4294967295+n+1:n).toString(t)}class a{static id(n){return a.idMap.has(n)||a.idMap.set(n,++a.count),a.idMap.get(n)}}function l(n){let t=0,e=5381;const r=n.length;for(;t<r;)e=33*e^n.charCodeAt(t++);return e}function d(n){return 2654435761*n|0}function h(n){return 0===n.length?0:n.reduce((n,t)=>(n<<5)+n^t)}function w(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return d(n);case"string":return l(n);default:if(function(n){return null!=n&&"function"==typeof n.GetHashCode}(n))return n.GetHashCode();if(r(n)){const t=n.length,e=new Array(t);for(let r=0;r<t;r++)e[r]=w(n[r]);return h(e)}return l(String(n))}}function g(n,t,e){if(null==n)return null==t;if(null==t)return!1;if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}function p(n,t){return g(n,t,m)}function m(n,t){return n===t||(null==n?null==t:null!=t&&("object"==typeof n&&(function(n){return null!=n&&"function"==typeof n.Equals}(n)?n.Equals(t):r(n)?r(t)&&p(n,t):n instanceof Date&&(t instanceof Date&&0===y(n,t)))))}function y(n,t){let e,r;return"offset"in n&&"offset"in t?(e=n.getTime(),r=t.getTime()):(e=n.getTime()+c(n),r=t.getTime()+c(t)),e===r?0:e<r?-1:1}function v(n,t){return n===t?0:n<t?-1:1}function b(n,t,e){if(null==n)return null==t?0:1;if(null==t)return-1;if(n.length!==t.length)return n.length<t.length?-1:1;for(let r=0,i=0;r<n.length;r++)if(i=e(n[r],t[r]),0!==i)return i;return 0}function E(n,t){return b(n,t,S)}function S(n,t){return n===t?0:null==n?null==t?0:-1:null==t?1:"object"!=typeof n?n<t?-1:1:function(n){return null!=n&&"function"==typeof n.CompareTo}(n)?n.CompareTo(t):r(n)&&r(t)?E(n,t):n instanceof Date&&t instanceof Date?y(n,t):1}function x(n,t,e){return n(t,e)<0?t:e}function C(n,t,e){return n(t,e)>0?t:e}a.idMap=new WeakMap,a.count=0;const O=0,k=1,M=2,T=3,B=4;function P(n,t){return n.replace(/[a-z]?[A-Z]/g,n=>1===n.length?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function R(n,t){switch(t){case k:return n.charAt(0).toLowerCase()+n.slice(1);case M:return P(n,"_");case T:return P(n,"_").toUpperCase();case B:return P(n,"-");case O:default:return n}}function F(n,t=O){function e(n){throw new Error("Cannot infer key and value of "+String(n))}const r={},i=t;for(let t of n){let n=O;if(null==t&&e(t),"function"==typeof t.toJSON&&(t=t.toJSON(),n=i),Array.isArray(t))switch(t.length){case 0:e(t);break;case 1:r[R(t[0],n)]=!0;break;case 2:const i=t[1];r[R(t[0],n)]=i;break;default:r[R(t[0],n)]=t.slice(1)}else"string"==typeof t?r[R(t,n)]=!0:e(t)}return r}function A(n,t){if(null==t)return;if(t.length>1)return t;let e;switch(n){case 2:e=(n,e)=>t(n)(e);break;case 3:e=(n,e,r)=>t(n)(e)(r);break;case 4:e=(n,e,r,i)=>t(n)(e)(r)(i);break;case 5:e=(n,e,r,i,o)=>t(n)(e)(r)(i)(o);break;case 6:e=(n,e,r,i,o,u)=>t(n)(e)(r)(i)(o)(u);break;case 7:e=(n,e,r,i,o,u,s)=>t(n)(e)(r)(i)(o)(u)(s);break;case 8:e=(n,e,r,i,o,u,s,c)=>t(n)(e)(r)(i)(o)(u)(s)(c);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+n)}return e.__CURRIED__=t,e}function j(n,t){if(null!=t){if("__CURRIED__"in t)return t.__CURRIED__;switch(n){case 2:return n=>e=>t(n,e);case 3:return n=>e=>r=>t(n,e,r);case 4:return n=>e=>r=>i=>t(n,e,r,i);case 5:return n=>e=>r=>i=>o=>t(n,e,r,i,o);case 6:return n=>e=>r=>i=>o=>u=>t(n,e,r,i,o,u);case 7:return n=>e=>r=>i=>o=>u=>s=>t(n,e,r,i,o,u,s);case 8:return n=>e=>r=>i=>o=>u=>s=>c=>t(n,e,r,i,o,u,s,c);default:throw new Error("Currying to more than 8-arity is not supported: "+n)}}}function D(n,t,e){if(null!=t){if("__CURRIED__"in t){t=t.__CURRIED__;for(let n=0;n<e.length;n++)t=t(e[n]);return t}switch(n){case 1:return n=>t.apply(void 0,e.concat([n]));case 2:return n=>r=>t.apply(void 0,e.concat([n,r]));case 3:return n=>r=>i=>t.apply(void 0,e.concat([n,r,i]));case 4:return n=>r=>i=>o=>t.apply(void 0,e.concat([n,r,i,o]));case 5:return n=>r=>i=>o=>u=>t.apply(void 0,e.concat([n,r,i,o,u]));case 6:return n=>r=>i=>o=>u=>s=>t.apply(void 0,e.concat([n,r,i,o,u,s]));case 7:return n=>r=>i=>o=>u=>s=>c=>t.apply(void 0,e.concat([n,r,i,o,u,s,c]));case 8:return n=>r=>i=>o=>u=>s=>c=>f=>t.apply(void 0,e.concat([n,r,i,o,u,s,c,f]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+n)}}}function I(n,t){return e=>function n(t,e,r,i){const o=r[i];if(0!==o){const n=o[0],t=o[1];n>1&&(e=j(n,e)),t>1&&(e=A(t,e))}const u=t(e);return i+1===r.length?u:t=>n(u,t,r,i+1)}(n,e,t,0)}function N(n,t,e){if(n.has(t))throw new Error("An item with the same key has already been added. Key: "+t);n.set(t,e)}function _(n,t){if(n.has(t))return n.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}function U(n,t){return null!=t&&Object.getPrototypeOf(n).constructor===Object.getPrototypeOf(t).constructor}function V(n,t){return function(n,t){n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}(n,t||L),n}class L{toString(){return"{"+Object.entries(this).map(([n,t])=>n+" = "+String(t)).join(";\n ")+"}"}GetHashCode(){return function(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return d(n);case"string":return l(n);default:return d(a.id(n))}}(this)}Equals(n){return this===n}}function $(n,t){if(n===t)return 0;if(null==t)return-1;for(;null!=n.tail;){if(null==t.tail)return 1;const e=S(n.head,t.head);if(0!==e)return e;n=n.tail,t=t.tail}return null==t.tail?0:-1}class q{constructor(n,t){this.head=n,this.tail=t}toString(){return"["+Array.from(this).join("; ")+"]"}toJSON(){return Array.from(this)}[Symbol.iterator](){let n=this;return{next:()=>{const t=null==n?void 0:n.head,e=null==(null==n?void 0:n.tail);return n=null==n?void 0:n.tail,{done:e,value:t}}}}GetHashCode(){return h(Array.from(this).map(w))}Equals(n){return 0===$(this,n)}CompareTo(n){return $(this,n)}}class G extends L{constructor(n,t,...e){super(),this.tag=0|n,this.name=t,this.fields=e}toString(){const n=this.fields.length;return 0===n?this.name:1===n?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(n=>String(n)).join(",")+")"}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}GetHashCode(){const n=this.fields.map(n=>w(n));return n.splice(0,0,d(this.tag)),h(n)}Equals(n){return this===n||U(this,n)&&this.tag===n.tag&&p(this.fields,n.fields)}CompareTo(n){return this===n?0:U(this,n)?this.tag===n.tag?E(this.fields,n.fields):this.tag<n.tag?-1:1:-1}}function W(n,t){const e={},r=null==t?Object.keys(n):t(n);for(let t=0;t<r.length;t++)e[r[t]]=n[r[t]];return e}function H(n,t,e){if(n===t)return!0;if(U(n,t)){const r=null==e?Object.keys(n):e(n);for(let e=0;e<r.length;e++)if(!m(n[r[e]],t[r[e]]))return!1;return!0}return!1}function z(n,t,e){if(n===t)return 0;if(U(n,t)){const r=null==e?Object.keys(n):e(n);for(let e=0;e<r.length;e++){const i=S(n[r[e]],t[r[e]]);if(0!==i)return i}return 0}return-1}class J extends L{toString(){return"{"+Object.entries(this).map(([n,t])=>n+" = "+String(t)).join(";\n ")+"}"}toJSON(){return W(this)}GetHashCode(){return h(Object.values(this).map(n=>w(n)))}Equals(n){return H(this,n)}CompareTo(n){return z(this,n)}}class Z extends J{constructor(n){super(),this.contents=n}}V((function(n){this.stack=Error().stack,this.message=n}),L);V((function(){}),L);class X{constructor(n,t,e,r){this.declaringType=n,this.tag=t,this.name=e,this.fields=r}}class Y{constructor(n,t,e,r,i,o){this.fullname=n,this.generics=t,this.construct=e,this.fields=r,this.cases=i,this.enumCases=o}toString(){return an(this)}Equals(n){return Q(this,n)}CompareTo(n){return nn(this,n)}}function K(n){return null!=n.generics?n.generics:[]}function Q(n,t){return""===n.fullname?""===t.fullname&&g(En(n),En(t),([n,t],[e,r])=>n===e&&Q(t,r)):n.fullname===t.fullname&&g(K(n),K(t),Q)}function nn(n,t){return n.fullname!==t.fullname?n.fullname<t.fullname?-1:1:b(K(n),K(t),nn)}function tn(n,t,e){return new Y(n,t,e)}function en(n,t,e,r){return new Y(n,t,e,r)}function rn(n,t,e,r){const i=new Y(n,t,e,void 0,()=>r().map((n,t)=>"string"==typeof n?new X(i,t,n):new X(i,t,n[0],n[1])));return i}function on(n){return new Y("Microsoft.FSharp.Collections.FSharpList`1",[n])}const un=new Y("System.Object"),sn=(new Y("Microsoft.FSharp.Core.Unit"),new Y("System.Char"),new Y("System.String"),new Y("System.Boolean"),new Y("System.SByte"),new Y("System.Byte"),new Y("System.Int16"),new Y("System.UInt16"),new Y("System.Int32")),cn=(new Y("System.UInt32"),new Y("System.Single"),new Y("System.Double"));new Y("System.Decimal");function fn(n){if(Array.isArray(n))return n[0];if(n instanceof X)return n.name;{const t=n.fullname.lastIndexOf(".");return-1===t?n.fullname:n.fullname.substr(t+1)}}function an(n){const t=null==n.generics||ln(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>an(n)).join(",")+"]":n.fullname}function ln(n){return n.fullname.endsWith("[]")}function dn(n){var t;return ln(n)?null===(t=n.generics)||void 0===t?void 0:t[0]:void 0}function hn(n){return null!=n.generics&&n.generics.length>0}function wn(n){return null!=n.enumCases&&n.enumCases.length>0}function gn(n){return null==n.generics?n:new Y(n.fullname,n.generics.map(()=>un))}function pn(n){var t;return null===(t=n.generics)||void 0===t?void 0:t[0]}function mn(n){if(wn(n)&&null!=n.enumCases)return n.enumCases.map(n=>n[1]);throw new Error(n.fullname+" is not an enum type")}function yn(n,t){if(null!=n.enumCases){if("string"==typeof t){for(const e of n.enumCases)if(e[0]===t)return e;throw new Error(`'${t}' was not found in ${n.fullname}`)}for(const e of n.enumCases)if(e[1]===t)return e;return["",t]}throw new Error(n.fullname+" is not an enum type")}function vn(n,t){const e=parseInt(t,10);return yn(n,isNaN(e)?t:e)[1]}function bn(n){if(null!=n.cases)return n.cases();throw new Error(n.fullname+" is not an F# union type")}function En(n){if(null!=n.fields)return n.fields();throw new Error(n.fullname+" is not an F# record type")}function Sn(n){if(On(n)&&null!=n.generics)return n.generics;throw new Error(n.fullname+" is not a tuple type")}function xn(n){return n instanceof Y?null!=n.cases:n instanceof G}function Cn(n){return n instanceof Y?null!=n.fields:n instanceof J}function On(n){return n.fullname.startsWith("System.Tuple")}function kn(n){return null==n.fields?[]:n.fields}function Mn(n,t){const e=(n.fields||[]).length;if(t.length!==e)throw new Error(`Expected an array of length ${e} but got ${t.length}`);return null!=n.declaringType.construct?new n.declaringType.construct(n.tag,n.name,...t):{}}function Tn(n,t){const e=En(n);if(e.length!==t.length)throw new Error(`Expected an array of length ${e.length} but got ${t.length}`);return null!=n.construct?new n.construct(...t):(r=e.reduce((n,[e,r],i)=>(n[e]=t[i],n),{}),Object.assign(Object.create(J.prototype),r));var r}class Bn{constructor(n){this.value=n}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return w(this.value)}Equals(n){return null!=n&&m(this.value,n instanceof Bn?n.value:n)}CompareTo(n){return null==n?1:S(this.value,n instanceof Bn?n.value:n)}}function Pn(n){return null==n||n instanceof Bn?new Bn(n):n}function Rn(n){if(null==n)throw new Error("Option has no value");return n instanceof Bn?n.value:n}function Fn(n,t){return null!=n?Rn(n):t}function An(n,t){return null!=t?Pn(n(Rn(t))):void 0}class jn extends G{}function Dn(n,t){return 0===t.tag?(e=n(t.fields[0]),new jn(0,"Ok",e)):t;var e}function In(n,t){return 1===t.tag?(e=n(t.fields[0]),new jn(1,"Error",e)):t;var e}var Nn={GetHashCode(){return h([this.s,this.e].concat(this.c))},Equals(n){return!this.cmp(n)},CompareTo(n){return this.cmp(n)}},_n="[big.js] ",Un=_n+"Invalid ",Vn=Un+"decimal places",Ln=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function $n(n,t){var e,r,i;if(0===t&&1/t<0)t="-0";else if(!Ln.test(t+=""))throw Error(Un+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),i=t.length,r=0;r<e&&r<i&&"0"==t.charAt(r);)++r;if(r==i)n.c=[n.e=0];else for(n.e=e-r-1,n.c=[],e=0;r<i;)n.c[e++]=+t.charAt(r++);return n=qn(n,Wn.DP,Wn.RM)}function qn(n,t,e,r){var i=n.c,o=n.e+t+1;if(o<i.length){if(1===e)r=i[o]>=5;else if(2===e)r=i[o]>5||5==i[o]&&(r||o<0||void 0!==i[o+1]||1&i[o-1]);else if(3===e)r=r||!!i[0];else if(r=!1,0!==e)throw Error("[big.js] Invalid rounding mode");if(o<1)i.length=1,r?(n.e=-t,i[0]=1):i[0]=n.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++n.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(e<0||e>3||e!==~~e)throw Error("[big.js] Invalid rounding mode");return n}function Gn(n,t,e,r){var i,o,u=n.constructor,s=!n.c[0];if(void 0!==e){if(e!==~~e||e<(3==t)||e>1e6)throw Error(3==t?Un+"precision":Vn);for(e=r-(n=new u(n)).e,n.c.length>++r&&qn(n,e,u.RM),2==t&&(r=n.e+e+1);n.c.length<r;)n.c.push(0)}if(i=n.e,e=(o=n.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(e>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>e)for(i-=e;i--;)o+="0";else i<e&&(o=o.slice(0,i)+"."+o.slice(i));else e>1&&(o=o.charAt(0)+"."+o.slice(1));return n.s<0&&(!s||4==t)?"-"+o:o}Nn.abs=function(){var n=new this.constructor(this);return n.s=1,n},Nn.cmp=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.c),o=n.c,u=r.s,s=n.s,c=r.e,f=n.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-s:0;if(u!=s)return u;if(t=u<0,c!=f)return c>f^t?1:-1;for(s=Math.max(i.length,o.length),u=0;u<s;u++)if((c=u<i.length?i[u]:0)!=(f=u<o.length?o[u]:0))return c>f^t?1:-1;return 0},Nn.div=function(n){var t=this.constructor,e=new t(this),r=(n=new t(n),e.c),i=n.c,o=e.s==n.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>1e6)throw Error(Vn);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var s,c,f,a,l,d=i.slice(),h=s=i.length,w=r.length,g=r.slice(0,s),p=g.length,m=n,y=m.c=[],v=0,b=u+(m.e=e.e-n.e)+1;for(m.s=o,o=b<0?0:b,d.unshift(0);p++<s;)g.push(0);do{for(f=0;f<10;f++){if(s!=(p=g.length))a=s>p?1:-1;else for(l=-1,a=0;++l<s;)if(i[l]!=g[l]){a=i[l]>g[l]?1:-1;break}if(!(a<0))break;for(c=p==s?i:d;p;){if(g[--p]<c[p]){for(l=p;l&&!g[--l];)g[l]=9;--g[l],g[p]+=10}g[p]-=c[p]}for(;!g[0];)g.shift()}y[v++]=a?f:++f,g[0]&&a?g[p]=r[h]||0:g=[r[h]]}while((h++<w||void 0!==g[0])&&o--);return y[0]||1==v||(y.shift(),m.e--),v>b&&qn(m,u,t.RM,void 0!==g[0]),m},Nn.eq=function(n){return!this.cmp(n)},Nn.gt=function(n){return this.cmp(n)>0},Nn.gte=function(n){return this.cmp(n)>-1},Nn.lt=function(n){return this.cmp(n)<0},Nn.lte=function(n){return this.cmp(n)<1},Nn.minus=Nn.sub=function(n){var t,e,r,i,o=this.constructor,u=new o(this),s=(n=new o(n),u.s),c=n.s;if(s!=c)return n.s=-c,u.plus(n);var f=u.c.slice(),a=u.e,l=n.c,d=n.e;if(!f[0]||!l[0])return l[0]?(n.s=-c,n):new o(f[0]?u:0);if(s=a-d){for((i=s<0)?(s=-s,r=f):(d=a,r=l),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(e=((i=f.length<l.length)?f:l).length,s=c=0;c<e;c++)if(f[c]!=l[c]){i=f[c]<l[c];break}if(i&&(r=f,f=l,l=r,n.s=-n.s),(c=(e=l.length)-(t=f.length))>0)for(;c--;)f[t++]=0;for(c=t;e>s;){if(f[--e]<l[e]){for(t=e;t&&!f[--t];)f[t]=9;--f[t],f[e]+=10}f[e]-=l[e]}for(;0===f[--c];)f.pop();for(;0===f[0];)f.shift(),--d;return f[0]||(n.s=1,f=[d=0]),n.c=f,n.e=d,n},Nn.mod=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.s),o=n.s;if(!n.c[0])throw Error("[big.js] Division by zero");return r.s=n.s=1,t=1==n.cmp(r),r.s=i,n.s=o,t?new e(r):(i=e.DP,o=e.RM,e.DP=e.RM=0,r=r.div(n),e.DP=i,e.RM=o,this.minus(r.times(n)))},Nn.plus=Nn.add=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.s),o=n.s;if(i!=o)return n.s=-o,r.minus(n);var u=r.e,s=r.c,c=n.e,f=n.c;if(!s[0]||!f[0])return f[0]?n:new e(s[0]?r:0*i);if(s=s.slice(),i=u-c){for(i>0?(c=u,t=f):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-f.length<0&&(t=f,f=s,s=t),i=f.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+f[i]+o)/10|0;for(o&&(s.unshift(o),++c),i=s.length;0===s[--i];)s.pop();return n.c=s,n.e=c,n},Nn.pow=function(n){var t=this.constructor,e=new t(this),r=new t(1),i=new t(1),o=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(Un+"exponent");for(o&&(n=-n);1&n&&(r=r.times(e)),n>>=1;)e=e.times(e);return o?i.div(r):r},Nn.round=function(n,t){var e=this.constructor;if(void 0===n)n=0;else if(n!==~~n||n<-1e6||n>1e6)throw Error(Vn);return qn(new e(this),n,void 0===t?e.RM:t)},Nn.sqrt=function(){var n,t,e,r=this.constructor,i=new r(this),o=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(_n+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),n=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):n=new r(o),u=n.e+(r.DP+=4);do{e=n,n=s.times(e.plus(i.div(e)))}while(e.c.slice(0,u).join("")!==n.c.slice(0,u).join(""));return qn(n,r.DP-=4,r.RM)},Nn.times=Nn.mul=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.c),o=n.c,u=i.length,s=o.length,c=r.e,f=n.e;if(n.s=r.s==n.s?1:-1,!i[0]||!o[0])return new e(0*n.s);for(n.e=c+f,u<s&&(t=i,i=o,o=t,f=u,u=s,s=f),t=new Array(f=u+s);f--;)t[f]=0;for(c=s;c--;){for(s=0,f=u+c;f>c;)s=t[f]+o[c]*i[f-c-1]+s,t[f--]=s%10,s=s/10|0;t[f]=(t[f]+s)%10}for(s?++n.e:t.shift(),c=t.length;!t[--c];)t.pop();return n.c=t,n},Nn.toExponential=function(n){return Gn(this,1,n,n)},Nn.toFixed=function(n){return Gn(this,2,n,this.e+n)},Nn.toPrecision=function(n){return Gn(this,3,n,n-1)},Nn.toString=function(){return Gn(this)},Nn.valueOf=Nn.toJSON=function(){return Gn(this,4)};var Wn=function n(){function t(e){var r=this;if(!(r instanceof t))return void 0===e?n():new t(e);e instanceof t?(r.s=e.s,r.e=e.e,r.c=e.c.slice(),function(n){if((n=qn(n,28,0)).c.length>1&&!n.c[0]){let t=n.c.findIndex(n=>n);n.c=n.c.slice(t),n.e=n.e-t}}(r)):$n(r,e),r.constructor=t}return t.prototype=Nn,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.version="5.2.2",t}(),Hn=Wn,zn=Hn;new Hn(0),new Hn(1),new Hn(-1),new Hn("79228162514264337593543950335"),new Hn("-79228162514264337593543950335");var Jn;function Zn(n,t){switch(t){case 8:return n?[0,255]:[-128,127];case 16:return n?[0,65535]:[-32768,32767];case 32:return n?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Xn(n,t,e){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(n.replace(/_/g,""));if(null!=r){const[,,n,i]=r;if(!function(n){switch(n){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(e=e||function(n,t){if(t&Jn.AllowHexSpecifier)return 16;switch(n){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(n,t)).test(i))return function(n,t){const[,e,r,i]=n;return{sign:e||"",prefix:r||"",digits:i,radix:t}}(r,e)}return null}function Yn(n,t,e,r){try{return[!0,function(n,t,e,r,i){const o=Xn(n,t,i);if(null!=o){let n=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(n)){const[t,i]=Zn(!0,r);!e&&10!==o.radix&&n>=t&&n<=i&&(n=n<<32-r>>32-r);const[u,s]=Zn(e,r);if(n>=u&&n<=s)return n}}throw new Error("Input string was not in a correct format.")}(n,t,e,r)]}catch(n){}return[!1,0]}function Kn(n){return-2147483648===n?n:-n}!function(n){n[n.AllowHexSpecifier=512]="AllowHexSpecifier"}(Jn||(Jn={}));var Qn=null;try{Qn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function nt(n,t,e){this.low=0|n,this.high=0|t,this.unsigned=!!e}function tt(n){return!0===(n&&n.__isLong__)}nt.prototype.GetHashCode=function(){let n=this.unsigned?1:0;return n=(n<<5)+n^this.high,n=(n<<5)+n^this.low,n},nt.prototype.Equals=function(n){return Tt(this,n)},nt.prototype.CompareTo=function(n){return Ft(this,n)},nt.prototype.toString=function(n){return Ct(this,n)},nt.prototype.toJSON=function(){return Ct(this)},nt.prototype.__isLong__,Object.defineProperty(nt.prototype,"__isLong__",{value:!0});var et={},rt={};function it(n,t){var e,r,i;return t?(i=0<=(n>>>=0)&&n<256)&&(r=rt[n])?r:(e=ut(n,(0|n)<0?-1:0,!0),i&&(rt[n]=e),e):(i=-128<=(n|=0)&&n<128)&&(r=et[n])?r:(e=ut(n,n<0?-1:0,!1),i&&(et[n]=e),e)}function ot(n,t){if(isNaN(n))return t?gt:wt;if(t){if(n<0)return gt;if(n>=lt)return bt}else{if(n<=-dt)return Et;if(n+1>=dt)return vt}return n<0?At(ot(-n,t)):ut(n%at|0,n/at|0,t)}function ut(n,t,e){return new nt(n,t,e)}var st=Math.pow;function ct(n,t,e){if(0===n.length)throw Error("empty string");if("NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return wt;if("number"==typeof t?(e=t,t=!1):t=!!t,(e=e||10)<2||36<e)throw RangeError("radix");var r=n.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return At(ct(n.substring(1),t,e));for(var i=ot(st(e,8)),o=wt,u=0;u<n.length;u+=8){var s=Math.min(8,n.length-u),c=parseInt(n.substring(u,u+s),e);if(s<8)o=jt(It(o,ot(st(e,s))),ot(c));else o=jt(o=It(o,i),ot(c))}return o.unsigned=t,o}function ft(n,t){return"number"==typeof n?ot(n,t):"string"==typeof n?ct(n,t):ut(n.low,n.high,"boolean"==typeof t?t:n.unsigned)}var at=4294967296,lt=at*at,dt=lt/2,ht=it(1<<24),wt=it(0),gt=it(0,!0),pt=it(1),mt=it(1,!0),yt=it(-1),vt=ut(-1,2147483647,!1),bt=ut(-1,-1,!0),Et=ut(0,-2147483648,!1);function St(n){return n.unsigned?n.low>>>0:n.low}function xt(n){return n.unsigned?(n.high>>>0)*at+(n.low>>>0):n.high*at+(n.low>>>0)}function Ct(n,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(Ot(n))return"0";if(kt(n)){if(Tt(n,Et)){var e=ot(t),r=Nt(n,e),i=Dt(It(r,e),n);return Ct(r,t)+St(i).toString(t)}return"-"+Ct(At(n),t)}for(var o=ot(st(t,6),n.unsigned),u=n,s="";;){var c=Nt(u,o),f=(St(Dt(u,It(c,o)))>>>0).toString(t);if(Ot(u=c))return f+s;for(;f.length<6;)f="0"+f;s=""+f+s}}function Ot(n){return 0===n.high&&0===n.low}function kt(n){return!n.unsigned&&n.high<0}function Mt(n){return 1==(1&n.low)}function Tt(n,t){return tt(t)||(t=ft(t)),(n.unsigned===t.unsigned||n.high>>>31!=1||t.high>>>31!=1)&&(n.high===t.high&&n.low===t.low)}function Bt(n,t){return Ft(n,t)<0}function Pt(n,t){return Ft(n,t)>0}function Rt(n,t){return Ft(n,t)>=0}function Ft(n,t){if(tt(t)||(t=ft(t)),Tt(n,t))return 0;var e=kt(n),r=kt(t);return e&&!r?-1:!e&&r?1:n.unsigned?t.high>>>0>n.high>>>0||t.high===n.high&&t.low>>>0>n.low>>>0?-1:1:kt(Dt(n,t))?-1:1}function At(n){return!n.unsigned&&Tt(n,Et)?Et:jt(_t(n),pt)}function jt(n,t){tt(t)||(t=ft(t));var e=n.high>>>16,r=65535&n.high,i=n.low>>>16,o=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=0,a=0,l=0,d=0;return l+=(d+=o+(65535&t.low))>>>16,a+=(l+=i+c)>>>16,f+=(a+=r+s)>>>16,f+=e+u,ut((l&=65535)<<16|(d&=65535),(f&=65535)<<16|(a&=65535),n.unsigned)}function Dt(n,t){return tt(t)||(t=ft(t)),jt(n,At(t))}function It(n,t){if(Ot(n))return n.unsigned?gt:wt;if(tt(t)||(t=ft(t)),Qn)return ut(Qn.mul(n.low,n.high,t.low,t.high),Qn.get_high(),n.unsigned);if(Ot(t))return n.unsigned?gt:wt;if(Tt(n,Et))return Mt(t)?Et:wt;if(Tt(t,Et))return Mt(n)?Et:wt;if(kt(n))return kt(t)?It(At(n),At(t)):At(It(At(n),t));if(kt(t))return At(It(n,At(t)));if(Bt(n,ht)&&Bt(t,ht))return ot(xt(n)*xt(t),n.unsigned);var e=n.high>>>16,r=65535&n.high,i=n.low>>>16,o=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=65535&t.low,a=0,l=0,d=0,h=0;return d+=(h+=o*f)>>>16,l+=(d+=i*f)>>>16,d&=65535,l+=(d+=o*c)>>>16,a+=(l+=r*f)>>>16,l&=65535,a+=(l+=i*c)>>>16,l&=65535,a+=(l+=o*s)>>>16,a+=e*f+r*c+i*s+o*u,ut((d&=65535)<<16|(h&=65535),(a&=65535)<<16|(l&=65535),n.unsigned)}function Nt(n,t){if(tt(t)||(t=ft(t)),Ot(t))throw Error("division by zero");var e,r,i;if(Qn)return n.unsigned||-2147483648!==n.high||-1!==t.low||-1!==t.high?ut((n.unsigned?Qn.div_u:Qn.div_s)(n.low,n.high,t.low,t.high),Qn.get_high(),n.unsigned):n;if(Ot(n))return n.unsigned?gt:wt;if(n.unsigned){if(t.unsigned||(t=function(n){return n.unsigned?n:ut(n.low,n.high,!0)}(t)),Pt(t,n))return gt;if(Pt(t,Lt(n,1)))return mt;i=gt}else{if(Tt(n,Et))return Tt(t,pt)||Tt(t,yt)?Et:Tt(t,Et)?pt:Tt(e=Ut(Nt(Vt(n,1),t),1),wt)?kt(t)?pt:yt:i=jt(e,Nt(r=Dt(n,It(t,e)),t));if(Tt(t,Et))return n.unsigned?gt:wt;if(kt(n))return kt(t)?Nt(At(n),At(t)):At(Nt(At(n),t));if(kt(t))return At(Nt(n,At(t)));i=wt}for(r=n;Rt(r,t);){e=Math.max(1,Math.floor(xt(r)/xt(t)));for(var o=Math.ceil(Math.log(e)/Math.LN2),u=o<=48?1:st(2,o-48),s=ot(e),c=It(s,t);kt(c)||Pt(c,r);)c=It(s=ot(e-=u,n.unsigned),t);Ot(s)&&(s=pt),i=jt(i,s),r=Dt(r,c)}return i}function _t(n){return ut(~n.low,~n.high,n.unsigned)}function Ut(n,t){return tt(t)&&(t=St(t)),0==(t&=63)?n:t<32?ut(n.low<<t,n.high<<t|n.low>>>32-t,n.unsigned):ut(0,n.low<<t-32,n.unsigned)}function Vt(n,t){return tt(t)&&(t=St(t)),0==(t&=63)?n:t<32?ut(n.low>>>t|n.high<<32-t,n.high>>t,n.unsigned):ut(n.high>>t-32,n.high>=0?0:-1,n.unsigned)}function Lt(n,t){if(tt(t)&&(t=St(t)),0===(t&=63))return n;var e=n.high;return t<32?ut(n.low>>>t|e<<32-t,e>>>t,n.unsigned):ut(32===t?e:e>>>t-32,0,n.unsigned)}var $t=nt;const qt=jt,Gt=It,Wt=Nt,Ht=function(n,t){return tt(t)||(t=ft(t)),Qn?ut((n.unsigned?Qn.rem_u:Qn.rem_s)(n.low,n.high,t.low,t.high),Qn.get_high(),n.unsigned):Dt(n,It(Nt(n,t),t))},zt=At,Jt=function(n,t){return tt(t)||(t=ft(t)),ut(n.low&t.low,n.high&t.high,n.unsigned)},Zt=Ft,Xt=ut,Yt=function(n,t,e){return e?function(n,t){return new nt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)}(n,t):function(n,t){return new nt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)}(n,t)},Kt=ot,Qt=St,ne=function(n,t){return t?function(n){var t=n.high,e=n.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(n):function(n){var t=n.high,e=n.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]}(n)},te=xt,ee=Ct;function re(n,t,e){let r=n,i=0;switch(e){case 0:r=n<<24>>24,i=r;break;case 4:r=n<<24>>>24;break;case 1:r=n<<16>>16,i=r;break;case 5:r=n<<16>>>16;break;case 2:r=n>>0,i=r;break;case 6:r=n>>>0}return ut(r,i>>31,t)}function ie(n,t,e,r,i){const o=Xn(n,t,i);if(null!=o){const t=(n,t)=>{const e=Math.max(n.length,t.length);return n.padStart(e,"0")<=t.padStart(e,"0")},r="-"===o.sign,i=function(n,t,e){switch(t){case 2:return n?"1111111111111111111111111111111111111111111111111111111111111111":e?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return n?"1777777777777777777777":e?"1000000000000000000000":"777777777777777777777";case 10:return n?"18446744073709551615":e?"9223372036854775808":"9223372036854775807";case 16:return n?"FFFFFFFFFFFFFFFF":e?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(e||10!==o.radix,o.radix,r);if(t(o.digits.toUpperCase(),i))return ct(n=r?o.sign+o.digits:o.digits,e,o.radix)}throw new Error("Input string was not in a correct format.")}function oe(n,t,e,r){try{return[!0,ie(n,t,e)]}catch(n){}return[!1,wt]}class ue{constructor(n){this.iter=n}MoveNext(){const n=this.iter.next();return this.current=n.value,!n.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function se(n){return new ue(n[Symbol.iterator]())}function ce(n){return{next:()=>n.MoveNext()?{done:!1,value:n.Current}:{done:!0,value:void 0}}}function fe(n){const t={[Symbol.iterator]:n,toString:()=>"seq ["+Array.from(t).join("; ")+"]"};return t}function ae(n,t){return he(()=>{let e=!1;let r=[n[Symbol.iterator](),void 0];return ke(()=>{var n,i;let o;if(!e){if(o=null===(n=r[0])||void 0===n?void 0:n.next(),null!=o&&!o.done)return[o.value,r];e=!0,r=[void 0,t[Symbol.iterator]()]}return o=null===(i=r[1])||void 0===i?void 0:i.next(),null==o||o.done?void 0:[o.value,r]},r)})}function le(n){return he(()=>{const t=n[Symbol.iterator]();let e;return ke(n=>{let r=!1;for(;!r;)if(null==n){const e=t.next();e.done?r=!0:n=e.value[Symbol.iterator]()}else{const t=n.next();t.done?n=void 0:(e=t.value,r=!0)}return null!=n?[e,n]:void 0},void 0)})}function de(n,t){return le(be(n,t))}function he(n){return fe(()=>n()[Symbol.iterator]())}function we(n){return[n]}function ge(n,t){let e;for(const r=t[Symbol.iterator]();e=r.next(),!e.done;)if(n(e.value))return!0;return!1}function pe(n,t){return ge(t=>m(t,n),t)}function me(n,t,e){if(Array.isArray(e)||ArrayBuffer.isView(e))return e.reduce(n,t);{let r;for(let i=0,o=e[Symbol.iterator]();r=o.next(),!r.done;i++)t=n(t,r.value,i);return t}}function ye(n,t){me((t,e)=>{n(e)},void 0,t)}function ve(n,t){me((t,e,r)=>{n(null!=r?r:0,e)},void 0,t)}function be(n,t){return he(()=>ke(t=>{const e=t.next();return e.done?void 0:[n(e.value),t]},t[Symbol.iterator]()))}function Ee(n,t){return he(()=>{let e=0;return ke(t=>{const r=t.next();return r.done?void 0:[n(e++,r.value),t]},t[Symbol.iterator]())})}function Se(n,t,e){if(0===t)throw new Error("Step cannot be 0");return he(()=>ke(n=>t>0&&n<=e||t<0&&n>=e?[n,n+t]:void 0,n))}function xe(n,t){return fe(()=>{const e=t[Symbol.iterator]();for(let t=1;t<=n;t++)if(e.next().done)throw new Error("Seq has not enough elements");return e})}function Ce(n,t,e){return me((t,r)=>e.Add(t,n(r)),e.GetZero(),t)}function Oe(n,t,e=!1){return he(()=>{const r=t[Symbol.iterator]();return ke(t=>{if(t<n){const n=r.next();if(!n.done)return[n.value,t+1];if(!e)throw new Error("Seq has not enough elements")}},0)})}function ke(n,t){return fe(()=>{let e=t;return{next(){const t=n(e);if(null!=t){const n=Rn(t);if(null!=n)return e=n[1],{done:!1,value:n[0]}}return{done:!0,value:void 0}}}})}const Me=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function Te(n){const t=n<0,e=(n=Math.abs(n))%36e5/6e4;return(t?"-":"+")+s(~~(n/36e5),2)+":"+s(e,2)}function Be(n,t){const e=n.toISOString();return"first"===t?e.substring(0,e.indexOf("T")):e.substring(e.indexOf("T")+1,e.length-1)}function Pe(n,t,e){return t.replace(/(\w)\1*/g,t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const i=e?n.getUTCFullYear():n.getFullYear();r=t.length<4?i%100:i;break;case"M":r=(e?n.getUTCMonth():n.getMonth())+1;break;case"d":r=e?n.getUTCDate():n.getDate();break;case"H":r=e?n.getUTCHours():n.getHours();break;case"h":const o=e?n.getUTCHours():n.getHours();r=o>12?o%12:o;break;case"m":r=e?n.getUTCMinutes():n.getMinutes();break;case"s":r=e?n.getUTCSeconds():n.getSeconds();break;case"f":r=e?n.getUTCMilliseconds():n.getMilliseconds()}return Number.isNaN(r)?t:r<10&&t.length>1?"0"+r:""+r})}function Re(n,t){var e,r,i;const o=new Date(n.getTime()+(null!==(e=n.offset)&&void 0!==e?e:0));if("string"!=typeof t)return o.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Te(null!==(r=n.offset)&&void 0!==r?r:0);if(1!==t.length)return Pe(o,t,!0);switch(t){case"D":case"d":return Be(o,"first");case"T":case"t":return Be(o,"second");case"O":case"o":return function(n,t){const e=n.toISOString();return e.substring(0,e.length-1)+Te(t)}(o,null!==(i=n.offset)&&void 0!==i?i:0);default:throw new Error("Unrecognized Date print format")}}function Fe(n,t){const e=1===n.kind;if("string"!=typeof t)return e?n.toUTCString():n.toLocaleString();if(1!==t.length)return Pe(n,t,e);switch(t){case"D":case"d":return e?Be(n,"first"):n.toLocaleDateString();case"T":case"t":return e?Be(n,"second"):n.toLocaleTimeString();case"O":case"o":return function(n,t){if(t)return n.toISOString();{const t=null==n.kind||2===n.kind;return s(n.getFullYear(),4)+"-"+s(n.getMonth()+1,2)+"-"+s(n.getDate(),2)+"T"+s(n.getHours(),2)+":"+s(n.getMinutes(),2)+":"+s(n.getSeconds(),2)+"."+s(n.getMilliseconds(),3)+(t?Te(-6e4*n.getTimezoneOffset()):"")}}(n,e);default:throw new Error("Unrecognized Date print format")}}function Ae(n,t,e){return null!=n.offset?Re(n,t):Fe(n,t)}function je(n,t){const e=new Date(n);return e.kind=0|(null==t?0:t),e}function De(){return je(-621355968e5,0)}function Ie(n){let t=new Date(n);if(isNaN(t.getTime())){const e=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(n);if(null==e)throw new Error("The string is not a valid Date.");{let n,r=0;if(null!=e[2]){const n=e[2].split(":");r=3600*parseInt(n[0],10)+60*parseInt(n[1]||"0",10)+parseFloat(n[2]||"0"),null!=e[3]&&"PM"===e[3].toUpperCase()&&(r+=720)}if(null!=e[4]){if(null!=e[1])n=new Date(e[1]+" UTC");else{const t=new Date;n=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}const t=e[4].substr(1).split(":");let i=60*parseInt(t[0],10)+parseInt(t[1]||"0",10);"+"===e[4][0]&&(i*=-1),r+=60*i}else if(null!=e[1])n=new Date(e[1]);else{const t=new Date;n=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}t=new Date(n.getTime()+1e3*r),t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))}}return t}function Ne(n,t=!1){const e=Ie(n),r=Me.exec(n),i=null!=r?t&&"Z"===r[0]?1:2:0;return je(e.getTime(),i)}function _e(n,t=0){if(0!=(-276&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let e="g";return e+=1&t?"i":"",e+=2&t?"m":"",e+=16&t?"s":"",new RegExp(n,e)}function Ue(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Ve(n,t,e=0){let r;if(r=n instanceof RegExp?(r=n,n=t,r.lastIndex=e,r):r=_e(t,e),!r.global)throw new Error("Non-global RegExp");let i=r.exec(n);const o=[];for(;null!==i;)o.push(i),i=r.exec(n);return o}const Le=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,$e=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g,qe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ge(n){return"number"==typeof n||n instanceof $t||n instanceof zn}function We(n,t){return n instanceof $t?Zt(n,t)<0:n instanceof zn?n.cmp(t)<0:n<t}function He(n,t){return n instanceof $t?Gt(n,t):n instanceof zn?n.mul(t):n*t}function ze(n,t){return n instanceof $t?String(n)+(0).toFixed(t).substr(1):n.toFixed(t)}function Je(n,t){return n instanceof $t?String(n)+(0).toPrecision(t).substr(1):n.toPrecision(t)}function Ze(n,t){return n instanceof $t?String(n)+(0).toExponential(t).substr(1):n.toExponential(t)}function Xe(n){return n instanceof $t?ee(n.unsigned?n:Yt(ne(n),!0),16):(Number(n)>>>0).toString(16)}function Ye(n){return{input:n,cont:(t=n,n=>Le.test(t)?function n(t,e){return(...r)=>{let i=t;for(const n of r)i=nr(i,n);return Le.test(i)?n(i,e):e(i.replace(/%%/g,"%"))}}(t,n):n(t))};var t}function Ke(n){return n.cont(n=>n)}function Qe(n){return n.cont(n=>{throw new Error(n)})}function nr(n,t){return n.replace(Le,(n,e,r,i,o,u)=>{let s="";if(Ge(t))switch("x"!==u.toLowerCase()&&(We(t,0)?(t=He(t,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":t=ze(t,o=null!=o?o:6);break;case"g":case"G":t=null!=o?Je(t,o):Je(t);break;case"e":case"E":t=null!=o?Ze(t,o):Ze(t);break;case"x":t=Xe(t);break;case"X":t=Xe(t).toUpperCase();break;default:t=String(t)}if(i=parseInt(i,10),isNaN(i))t=s+t;else{const n=r.indexOf("0")>=0,e=r.indexOf("-")>=0,o=e||!n?" ":"0";t="0"===o?s+(t=ir(t,i-s.length,o,e)):ir(s+t,i,o,e)}return(e+t).replace(/%/g,"%%")})}function tr(n,...t){return"object"==typeof n&&t.length>0&&(n=t[0],t.shift()),n.replace($e,(n,e,r,i,o,u)=>{let s=t[e];if(Ge(s))switch(o=null==o?null:parseInt(o,10),i){case"f":case"F":s=ze(s,o=null!=o?o:2);break;case"g":case"G":s=null!=o?Je(s,o):Je(s);break;case"e":case"E":s=null!=o?Ze(s,o):Ze(s);break;case"p":case"P":o=null!=o?o:2,s=ze(He(s,100),o)+" %";break;case"d":case"D":s=null!=o?ir(String(s),o,"0"):String(s);break;case"x":case"X":s=null!=o?ir(Xe(s),o,"0"):Xe(s),"X"===i&&(s=s.toUpperCase());break;default:if(u){let n="";s=u.replace(/(0+)(\.0+)?/,(t,e,r)=>(We(s,0)&&(s=He(s,-1),n="-"),s=ze(s,null!=r?r.length-1:0),ir(s,(e||"").length-n.length+(null!=r?r.length:0),"0"))),s=n+s}}else s instanceof Date&&(s=Ae(s,u||i));return r=parseInt((r||" ").substring(1),10),isNaN(r)||(s=ir(String(s),Math.abs(r)," ",r<0)),s})}function er(n,t){return Array.isArray(t)?t.join(n):Array.from(t).join(n)}function rr(n,t){const e=function(n,...t){if(0===t.length)return n.trim();const e="["+Ue(t.join(""))+"]+";return n.replace(new RegExp("^"+e),"").replace(new RegExp(e+"$"),"")}(n,"{","}").toLowerCase();if(qe.test(e))return t?[!0,e]:e;if(t)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function ir(n,t,e,r){e=e||" ",t-=n.length;for(let i=0;i<t;i++)n=r?n+e:e+n;return n}const or=V((function(n,t){const e=new Z(null);this.comparer=t,e.contents=this,this.hashMap=new Map([]),this["init@20-1"]=1,ye((function(n){ar(e.contents,n[0],n[1])}),n)}));function ur(n,t){const e=0|n.comparer.GetHashCode(t),r=o(n.hashMap,e,null);return r[0]?[!0,e,r[1].findIndex((function(e){return n.comparer.Equals(t,e[0])}))]:[!1,e,-1]}function sr(n,t){const e=ur(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1])[e[2]];case 1:return}}function cr(n){n.hashMap.clear()}function fr(n){return 0|Ce((function(n){return n.length}),n.hashMap.values(),{GetZero:()=>0,Add:(n,t)=>n+t})}function ar(n,t,e){const r=ur(n,t);switch(r[0]&&r[2]>-1?0:1){case 0:{const n=tr("An item with the same key has already been added. Key: {0}",t);throw new Error(n)}case 1:if(r[0]){_(n.hashMap,r[1]).push([t,e])}else n.hashMap.set(r[1],[[t,e]])}}function lr(n,t){const e=ur(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1]).splice(e[2],1),!0;case 1:return!1}}or.prototype[Symbol.iterator]=function(){const n=this;return ce(se(he((function(){return de((function(n){return be((function(n){return n}),n)}),n.hashMap.values())}))))},or.prototype.Add=function(n){ar(this,n[0],n[1])},or.prototype.Clear=function(){cr(this)},or.prototype.Contains=function(n){const t=sr(this,n[0]);switch(null!=t&&m(t[1],n[1])?0:1){case 0:return!0;case 1:return!1}},or.prototype.CopyTo=function(n,t){ve((function(e,r){n[t+e]=r}),this)},Object.defineProperty(or.prototype,"Count",{get:function(){return 0|fr(this)}}),Object.defineProperty(or.prototype,"IsReadOnly",{get:function(){return!1}}),or.prototype.Remove=function(n){const t=this,e=sr(t,n[0]);if(null!=e){if(m(e[1],n[1])){lr(t,n[0])}return!0}return!1},Object.defineProperty(or.prototype,"size",{get:function(){return 0|fr(this)}}),or.prototype.clear=function(){cr(this)},or.prototype.delete=function(n){return lr(this,n)},or.prototype.entries=function(){return be((function(n){return n}),this)},or.prototype.get=function(n){return function(n,t){const e=sr(n,t);if(null!=e){return e[1]}throw new Error("The item was not found in collection")}(this,n)},or.prototype.has=function(n){return function(n,t){const e=ur(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,n)},or.prototype.keys=function(){return be((function(n){return n[0]}),this)},or.prototype.set=function(n,t){return function(n,t,e){const r=ur(n,t);switch(r[0]&&r[2]>-1?0:1){case 0:_(n.hashMap,r[1])[r[2]]=[t,e];break;case 1:if(r[0]){_(n.hashMap,r[1]).push([t,e])}else n.hashMap.set(r[1],[[t,e]])}}(this,n,t),this},or.prototype.values=function(){return be((function(n){return n[1]}),this)};const dr=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function hr(n){return function n(t,e){n:for(;;){const r=t,i=e;switch(i.tag){case 1:return r+1|0;case 2:t=n(r+1,i.fields[2]),e=i.fields[3];continue n;default:return 0|r}break}}(0,n)}function wr(){return new dr(0,"MapEmpty")}function gr(n){switch(n.tag){case 1:return 1;case 2:return 0|n.fields[4];default:return 0}}function pr(n,t,e,r){switch(0===n.tag&&0===r.tag?0:1){case 0:return new dr(1,"MapOne",t,e);case 1:{const i=0|gr(n),o=0|gr(r);return new dr(2,"MapNode",t,e,n,r,(0|(i<o?o:i))+1)}}}function mr(n,t,e,r){const i=0|gr(n),o=0|gr(r);if(o>i+2){if(2===r.tag){if(gr(r.fields[2])>i+1){if(2===r.fields[2].tag)return pr(pr(n,t,e,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],pr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return pr(pr(n,t,e,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===n.tag){if(gr(n.fields[3])>o+1){if(2===n.fields[3].tag)return pr(pr(n.fields[2],n.fields[0],n.fields[1],n.fields[3].fields[2]),n.fields[3].fields[0],n.fields[3].fields[1],pr(n.fields[3].fields[3],t,e,r));throw new Error("re  balance")}return pr(n.fields[2],n.fields[0],n.fields[1],pr(n.fields[3],t,e,r))}throw new Error("rebalance")}return pr(n,t,e,r)}function yr(n,t,e,r){switch(r.tag){case 1:{const i=0|n.Compare(t,r.fields[0]);return i<0?new dr(2,"MapNode",t,e,new dr(0,"MapEmpty"),r,2):0===i?new dr(1,"MapOne",t,e):new dr(2,"MapNode",t,e,r,new dr(0,"MapEmpty"),2)}case 2:{const i=0|n.Compare(t,r.fields[0]);return i<0?mr(yr(n,t,e,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new dr(2,"MapNode",t,e,r.fields[2],r.fields[3],r.fields[4]):mr(r.fields[2],r.fields[0],r.fields[1],yr(n,t,e,r.fields[3]))}default:return new dr(1,"MapOne",t,e)}}function vr(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?Pn(o.fields[1]):void 0;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return Pn(o.fields[1]);n=r,t=i,e=o.fields[3];continue n}default:return}break}}function br(n,t){const e=se(t);try{return function(n,t,e){for(;;){const r=n,i=t,o=e;if(!o.MoveNext())return i;{const u=o.Current;n=r,t=yr(r,u[0],u[1],i),e=o}}}(n,wr(),e)}finally{i(e)&&e.Dispose()}}const Er=V((function(n,t){this.stack=n,this.started=t}),J);function Sr(n){for(;;){const t=n;if(null==t.tail)return new q;if(1===t.head.tag)return t;2!==t.head.tag?n=t.tail:n=new q(t.head.fields[2],new q(new dr(1,"MapOne",t.head.fields[0],t.head.fields[1]),new q(t.head.fields[3],t.tail)))}}function xr(n){return new Er(Sr(new q(n,new q)),!1)}function Cr(n){if(n.started){const t=n.stack;if(null==t.tail)return function(){throw new Error("enumeration already finished")}();if(1===t.head.tag)return[t.head.fields[0],t.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const Or=V((function(n){this.s=n,this.i=xr(this.s)}));function kr(n){return function(n){return this instanceof Or?Or.call(this,n):new Or(n)}(n)}function Mr(n){return ke((function(n){return n.MoveNext()?[n.Current,n]:void 0}),kr(n))}Object.defineProperty(Or.prototype,"Current",{get:function(){return Cr(this.i)}}),Or.prototype.MoveNext=function(){return function(n){if(n.started){const t=n.stack;if(null==t.tail)return!1;if(1===t.head.tag)return n.stack=Sr(t.tail),!(null==n.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return n.started=!0,!(null==n.stack.tail)}(this.i)},Or.prototype.Reset=function(){this.i=xr(this.s)},Or.prototype.Dispose=function(){};const Tr=V((function(n,t){this.comparer=n,this.tree=t}));function Br(n,t){return this instanceof Tr?Tr.call(this,n,t):new Tr(n,t)}function Pr(n){return n.tree}function Rr(n,t){return function(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return o.fields[1];n=r,t=i,e=o.fields[3];continue n}default:throw new Error("key not found")}break}}(n.comparer,t,n.tree)}function Fr(n,t){return Br(n.comparer,function n(t,e){switch(e.tag){case 1:return new dr(1,"MapOne",e.fields[0],t(e.fields[0],e.fields[1]));case 2:{const r=n(t,e.fields[2]),i=t(e.fields[0],e.fields[1]),o=n(t,e.fields[3]);return new dr(2,"MapNode",e.fields[0],i,r,o,e.fields[4])}default:return wr()}}(t,n.tree))}function Ar(n){return hr(n.tree)}function jr(n,t){return function(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return!0;n=r,t=i,e=o.fields[3];continue n}default:return!1}break}}(n.comparer,t,n.tree)}function Dr(n,t,e){return i=n,o=t,Br((r=e).comparer,yr(r.comparer,i,o,r.tree));var r,i,o}function Ir(n,t){return r=n,vr((e=t).comparer,r,e.tree);var e,r}function Nr(n,t){return Fr(t,n)}function _r(n,t){return Br(t,(e=t,r=n,me((function(n,t){return yr(e,t[0],t[1],n)}),wr(),r)));var e,r}function Ur(n){return Br(n,new dr(0,"MapEmpty"))}Tr.prototype.toString=function(){let n,t;return t=be((function(n){return tr("({0}, {1})",n[0],n[1])}),this),n=er("; ",t),"map ["+n+"]"},Tr.prototype.GetHashCode=function(){const n=function(n,t){return(n<<1)+t+631};let t=0;const e=kr(Pr(this));for(;e.MoveNext();){const r=e.Current;t=n(t,w(r[0])),t=n(t,w(r[1]))}return 0|Math.abs(t)},Tr.prototype.Equals=function(n){return 0===this.CompareTo(n)},Tr.prototype[Symbol.iterator]=function(){return ce(kr(this.tree))},Tr.prototype.CompareTo=function(n){const t=this;let e=0,r=!1;const o=kr(Pr(t));try{const u=kr(Pr(n));try{for(;!r&&0===e;){const n=[o.MoveNext(),u.MoveNext()];if(n[0])if(n[1]){const n=o.Current,r=u.Current,i=0|t.comparer.Compare(n[0],r[0]);e=0!==i?i:S(n[1],r[1])}else e=1;else n[1]?e=-1:r=!0}return 0|e}finally{i(u)&&u.Dispose()}}finally{i(o)&&o.Dispose()}},Object.defineProperty(Tr.prototype,"size",{get:function(){return 0|Ar(this)}}),Tr.prototype.clear=function(){throw new Error("Map cannot be mutated")},Tr.prototype.delete=function(n){throw new Error("Map cannot be mutated")},Tr.prototype.entries=function(){return Mr(Pr(this))},Tr.prototype.get=function(n){return Rr(this,n)},Tr.prototype.has=function(n){return jr(this,n)},Tr.prototype.keys=function(){return be((function(n){return n[0]}),Mr(Pr(this)))},Tr.prototype.set=function(n,t){throw new Error("Map cannot be mutated")},Tr.prototype.values=function(){return be((function(n){return n[1]}),Mr(Pr(this)))};const Vr=V((function(n,t){const e=new Z(null);this.comparer=t,e.contents=this,this.hashMap=new Map([]),this["init@21-2"]=1,ye((function(n){Gr(e.contents,n)}),n)}));function Lr(n,t){const e=0|n.comparer.GetHashCode(t),r=o(n.hashMap,e,null);return r[0]?[!0,e,r[1].findIndex((function(e){return n.comparer.Equals(t,e)}))]:[!1,e,-1]}function $r(n){n.hashMap.clear()}function qr(n){return 0|Ce((function(n){return n.length}),n.hashMap.values(),{GetZero:()=>0,Add:(n,t)=>n+t})}function Gr(n,t){const e=Lr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!1;case 1:if(e[0]){_(n.hashMap,e[1]).push(t);return!0}return n.hashMap.set(e[1],[t]),!0}}function Wr(n,t){const e=Lr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Hr(n,t){const e=Lr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1]).splice(e[2],1),!0;case 1:return!1}}Vr.prototype[Symbol.iterator]=function(){const n=this;return ce(se(he((function(){return de((function(n){return be((function(n){return n}),n)}),n.hashMap.values())}))))},Vr.prototype.Add=function(n){Gr(this,n)},Vr.prototype.Clear=function(){$r(this)},Vr.prototype.Contains=function(n){return Wr(this,n)},Vr.prototype.CopyTo=function(n,t){ve((function(e,r){n[t+e]=r}),this)},Object.defineProperty(Vr.prototype,"Count",{get:function(){return 0|qr(this)}}),Object.defineProperty(Vr.prototype,"IsReadOnly",{get:function(){return!1}}),Vr.prototype.Remove=function(n){return Hr(this,n)},Object.defineProperty(Vr.prototype,"size",{get:function(){return 0|qr(this)}}),Vr.prototype.add=function(n){Gr(this,n);return this},Vr.prototype.add_=function(n){return Gr(this,n)},Vr.prototype.clear=function(){$r(this)},Vr.prototype.delete=function(n){return Hr(this,n)},Vr.prototype.has=function(n){return Wr(this,n)},Vr.prototype.keys=function(){return be((function(n){return n}),this)},Vr.prototype.values=function(){return be((function(n){return n}),this)},Vr.prototype.entries=function(){return be((function(n){return[n,n]}),this)};const zr=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Jr(n){return new zr(2,"SetOne",n)}function Zr(n,t,e,r){return new zr(1,"SetNode",n,t,e,r)}function Xr(n){switch(n.tag){case 2:return 1;case 1:return 0|n.fields[3];default:return 0}}function Yr(n,t,e){switch(0===n.tag&&0===e.tag?0:1){case 0:return Jr(t);case 1:{const r=0|Xr(n),i=0|Xr(e);return Zr(t,n,e,(0|(r<i?i:r))+1)}}}function Kr(n,t,e){const r=0|Xr(n),i=0|Xr(e);if(i>r+2){if(1===e.tag){if(Xr(e.fields[1])>r+1){if(1===e.fields[1].tag)return Yr(Yr(n,t,e.fields[1].fields[1]),e.fields[1].fields[0],Yr(e.fields[1].fields[2],e.fields[0],e.fields[2]));throw new Error("rebalance")}return Yr(Yr(n,t,e.fields[1]),e.fields[0],e.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===n.tag){if(Xr(n.fields[2])>i+1){if(1===n.fields[2].tag)return Yr(Yr(n.fields[1],n.fields[0],n.fields[2].fields[1]),n.fields[2].fields[0],Yr(n.fields[2].fields[2],t,e));throw new Error("rebalance")}return Yr(n.fields[1],n.fields[0],Yr(n.fields[2],t,e))}throw new Error("rebalance")}return Yr(n,t,e)}function Qr(n,t,e){switch(e.tag){case 2:{const r=0|n.Compare(t,e.fields[0]);return r<0?Zr(t,new zr(0,"SetEmpty"),e,2):0===r?e:Zr(t,e,new zr(0,"SetEmpty"),2)}case 0:return Jr(t);default:{const r=0|n.Compare(t,e.fields[0]);return r<0?Kr(Qr(n,t,e.fields[1]),e.fields[0],e.fields[2]):0===r?e:Kr(e.fields[1],e.fields[0],Qr(n,t,e.fields[2]))}}}const ni=V((function(n,t){this.stack=n,this.started=t}),J);function ti(n){for(;;){const t=n;if(null==t.tail)return new q;if(2===t.head.tag)return t;1!==t.head.tag?n=t.tail:n=new q(t.head.fields[1],new q(Jr(t.head.fields[0]),new q(t.head.fields[2],t.tail)))}}function ei(n){return new ni(ti(new q(n,new q)),!1)}function ri(n){if(n.started){const t=n.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(2===t.head.tag)return t.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const ii=V((function(n){this.s=n,this.i=ei(this.s)}));function oi(n){return function(n){return this instanceof ii?ii.call(this,n):new ii(n)}(n)}function ui(n,t,e){return 0===t.tag?0===e.tag?0:-1:0===e.tag?1:0|function(n,t,e){n:for(;;){const U=n,V=t,L=e;var r,i,o,u,s,c,f,a,l,d,h,w,g,p,m,y,v,b,E,S,x,C,O,k,M,T,B,P,R,F,A,j,D,I,N,_;switch(null!=V.tail?null!=L.tail?2===L.head.tag?2===V.head.tag?(r=4,u=V.head.fields[0],s=L.head.fields[0],c=V.tail,f=L.tail):1===V.head.tag?0===V.head.fields[1].tag?(r=6,g=V.head.fields[1],p=V.head.fields[0],m=V.head.fields[2],y=L.head.fields[0],v=V.tail,b=L.tail):(r=9,B=V.head.fields[0],P=V.head.fields[1],R=V.head.fields[2],F=V.tail):(r=10,A=L.head.fields[0],j=L.tail):1===L.head.tag?0===L.head.fields[1].tag?2===V.head.tag?(r=5,a=V.head.fields[0],l=L.head.fields[0],d=L.head.fields[2],h=V.tail,w=L.tail):1===V.head.tag?0===V.head.fields[1].tag?(r=7,E=V.head.fields[0],S=V.head.fields[2],x=L.head.fields[0],C=L.head.fields[2],O=V.tail,k=L.tail):(r=9,B=V.head.fields[0],P=V.head.fields[1],R=V.head.fields[2],F=V.tail):(r=11,D=L.head.fields[0],I=L.head.fields[1],N=L.head.fields[2],_=L.tail):2===V.head.tag?(r=8,M=V.head.fields[0],T=V.tail):1===V.head.tag?(r=9,B=V.head.fields[0],P=V.head.fields[1],R=V.head.fields[2],F=V.tail):(r=11,D=L.head.fields[0],I=L.head.fields[1],N=L.head.fields[2],_=L.tail):2===V.head.tag?(r=8,M=V.head.fields[0],T=V.tail):1===V.head.tag?(r=9,B=V.head.fields[0],P=V.head.fields[1],R=V.head.fields[2],F=V.tail):(r=3,i=V.tail,o=L.tail):r=2:r=null!=L.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:n=U,t=i,e=o;continue n;case 4:{const r=0|U.Compare(u,s);if(0!==r)return 0|r;n=U,t=c,e=f;continue n}case 5:{const r=0|U.Compare(a,l);if(0!==r)return 0|r;n=U,t=new q(new zr(0,"SetEmpty"),h),e=new q(d,w);continue n}case 6:{const r=0|U.Compare(p,y);if(0!==r)return 0|r;n=U,t=new q(m,v),e=new q(g,b);continue n}case 7:{const r=0|U.Compare(E,x);if(0!==r)return 0|r;n=U,t=new q(S,O),e=new q(C,k);continue n}case 8:n=U,t=new q(new zr(0,"SetEmpty"),new q(Jr(M),T)),e=L;continue n;case 9:n=U,t=new q(P,new q(Zr(B,new zr(0,"SetEmpty"),R,0),F)),e=L;continue n;case 10:n=U,t=V,e=new q(new zr(0,"SetEmpty"),new q(Jr(A),j));continue n;case 11:n=U,t=V,e=new q(I,new q(Zr(D,new zr(0,"SetEmpty"),N,0),_));continue n}break}}(n,new q(t,new q),new q(e,new q))}function si(n,t){const e=se(t);try{return function(n,t,e){for(;;){const r=n,i=t,o=e;if(!o.MoveNext())return i;n=r,t=Qr(r,o.Current,i),e=o}}(n,new zr(0,"SetEmpty"),e)}finally{i(e)&&e.Dispose()}}Object.defineProperty(ii.prototype,"Current",{get:function(){return ri(this.i)}}),ii.prototype.MoveNext=function(){return function(n){if(n.started){const t=n.stack;if(null==t.tail)return!1;if(2===t.head.tag)return n.stack=ti(t.tail),!(null==n.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return n.started=!0,!(null==n.stack.tail)}(this.i)},ii.prototype.Reset=function(){this.i=ei(this.s)},ii.prototype.Dispose=function(){};const ci=V((function(n,t){this.comparer=n,this.tree=t}));function fi(n,t){return this instanceof ci?ci.call(this,n,t):new ci(n,t)}function ai(n){return n.comparer}function li(n){return n.tree}function di(n,t){return fi(t,si(t,n))}ci.prototype.toString=function(){return"set ["+(er("; ",be((function(n){return String(n)}),this))+"]")},ci.prototype.GetHashCode=function(){let n=0;const t=oi(li(this));for(;t.MoveNext();){n=((0|n)<<1)+(0|w(t.Current))+631}return 0|Math.abs(n)},ci.prototype.Equals=function(n){return 0===ui(ai(this),li(this),li(n))},ci.prototype.CompareTo=function(n){return 0|ui(ai(this),li(this),li(n))},ci.prototype[Symbol.iterator]=function(){return ce(oi(li(this)))};function hi(n,t,e,r){return n.fill(r,t,t+e),n}function wi(n,t,e){if(ArrayBuffer.isView(t)){const r=0|t.length,i=new e(r);for(let e=0;e<=r-1;e++)i[e]=n(t[e]);return i}return t.map((function(t){return n(t)}))}function gi(n,t,e){if(n<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new e(n);for(let e=0;e<=n-1;e++)r[e]=t(e);return r}function pi(n,t,e){return e.reduce((function(t,e){return n(t,e)}),t)}function mi(n,t,e,r){return function(n,t,e,r){let i=r;if(t.length!==e.length)throw new Error("Arrays had different lengths");const o=0|t.length;for(let r=1;r<=o;r++)i=n(r-1,t[o-r],e[o-r],i);return i}((function(t,e,r,i){return n(e,r,i)}),t,e,r)}function yi(n,t){return t.from(n)}function vi(n){for(;;){const t=n;if(null==t.tail)return;if(null==t.tail.tail)return Pn(t.head);n=t.tail}}function bi(n,t,e){for(;;){const r=n,i=t,o=e;if(null==o.tail)return i;n=r,t=r(i,o.head),e=o.tail}}function Ei(n){return bi((function(n,t){return new q(t,n)}),new q,n)}function Si(n){return Ei(me((function(n,t){return new q(t,n)}),new q,n))}function xi(n){return bi((function(n,t){return n+1}),0,n)}function Ci(n,t){return bi((function(n,t){return new q(t,n)}),t,Ei(n))}function Oi(n,t){return Ei(bi((function(t,e){return new q(n(e),t)}),new q,t))}function ki(n,t){bi((function(t,e){n(e)}),void 0,t)}function Mi(n){let t=new q;for(let e=function(n){if(r(n))return n.length;{let t=0;for(const e of n)t++;return t}}(n)-1;e>=0;e--)t=new q(n[e],t);return t}function Ti(n,t){return Ei(bi((function(t,e){return n(e)?new q(e,t):t}),new q,t))}const Bi=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Pi=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t){this.Hash=n,this.Coders=t}),J);const Ri=V((function(){this.cache=new Map([])}));function Fi(){return this instanceof Ri?Ri.call(this):new Ri}function Ai(n,t,e){const r=o(n.cache,t,null);if(r[0])return r[1];{const r=e();return N(n.cache,t,r),r}}const ji=Fi(),Di=Fi();function Ii(n){return n.slice(void 0,1).toLowerCase()+n.slice(1,n.length)}function Ni(n,t){switch(n.tag){case 2:return function(n,t,e,r,i=0){if("string"==typeof n){const e=n;n=_e(t,null!=r?r:0),t=e,r=void 0}if("function"==typeof e)return r=null==r?-1:r,t.substring(0,i)+t.substring(i).replace(n,(function(){let n=arguments[0];if(r){r--;const t=[],i=arguments.length;for(let n=0;n<i-2;n++)t.push(arguments[n]);t.index=arguments[i-2],t.input=arguments[i-1],n=e(t)}return n}));if(e=e.replace(/\$0/g,n=>"$&"),null!=r){let o;const u=t.substring(i),s=Ve(n,u),c=Ve.length>r?(o=s[r-1],u.substring(0,o.index+o[0].length)):u;return t.substring(0,i)+c.replace(n,e)+t.substring(i+c.length)}return t.replace(n,e)}(Ii(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Ii(t)}}const _i=V((function(n,t){this.bound=0|n,this.digits=t}),J);function Ui(n,t){for(;;){const e=n,r=t;if(0===r)return 1;if(r%2!=0)return e*Ui(e*e,~~(r/2))|0;n=e*e,t=~~(r/2)}}Xt(2013265921,0,!1),Xt(2013265921,0,!0);gi(28,(function(n){return Ui(2,n)}),Int32Array);function Vi(n){return n.bound}function Li(n,t){return n.digits[t]}function $i(n,t){return re(Li(n,t),!1,2)}function qi(n,t,e){n.digits[t]=e}function Gi(n,t){for(;;){const e=n,r=t;if(0===r)return Xt(1,0,!1);if(r%2!=0)return Gt(e,Gi(Gt(e,e),~~(r/2)));n=Gt(e,e),t=~~(r/2)}}function Wi(n,t){for(;;){const e=n,r=t;if(0===r)return 1;if(r%2!=0)return e*Wi(e*e,~~(r/2))|0;n=e*e,t=~~(r/2)}}const Hi=Xt(16777216,0,!1),zi=Xt(16777215,0,!1);Xt(16777215,0,!0);function Ji(n){return new _i(n,new Int32Array(n))}function Zi(n){const t=0|function(n,t){for(;;){const e=n,r=t;if(-1===r||0!==e[r])return r+1|0;n=e,t=r-1}}(n.digits,n.bound-1);return n.bound=t,n}function Xi(n){const t=0|(n<0?0:n);if(t<16777216){const n=Ji(1);return n.digits[0]=t,Zi(n)}{const n=Ji(2);for(let e=0;e<=1;e++)n.digits[e]=~~(t/Wi(16777216,e))%16777216;return Zi(n)}}const Yi=Xi(1),Ki=Xi(0);function Qi(n){return n.bound-1}function no(n){return 0===n.bound}function to(n,t){if(n.bound===t.bound){return function(n,t,e){for(;;){const r=n,i=t,o=e;if(-1===o)return!0;if(r[o]!==i[o])return!1;n=r,t=i,e=o-1}}(n.digits,t.digits,n.bound-1)}return!1}function eo(n,t){if(n.bound<t.bound)return-1;if(n.bound>t.bound)return 1;return 0|function(n,t,e){for(;;){const r=n,i=t,o=e;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;n=r,t=i,e=o-1}}(n.digits,t.digits,n.bound-1)}function ro(n,t){return-1===eo(n,t)}function io(n,t,e){for(var r;;){const i=n,o=t,u=e;if(!(Zt(o,Xt(0,0,!1))>0))break;{const s=qt($i(i,u),o);qi(i,u,(r=Jt(s,zi),~~Qt(r))),n=i,t=Wt(s,Hi),e=u+1}}}function oo(n,t){var e;const r=0|Vi(n),i=Ji(r+1|0),o=re(t,!1,2);let u=Xt(0,0,!1);for(let t=0;t<=r-1;t++){const r=qt(qt(u,$i(i,t)),Gt($i(n,t),o));qi(i,t,(e=Jt(r,zi),~~Qt(e))),u=Wt(r,Hi)}return io(i,u,r),Zi(i)}function uo(n,t){const e=1===Vi(n),r=1===Vi(t);return e&&r?function(n,t){var e;const r=Ji(2),i=Gt(re(n,!1,2),re(t,!1,2));return qi(r,0,(e=Jt(i,zi),~~Qt(e))),qi(r,1,~~Qt(Wt(i,Hi))),Zi(r)}(Li(n,0),Li(t,0)):e?oo(t,Li(n,0)):r?oo(n,Li(t,0)):function(n,t){var e;const r=Ji(n.bound+t.bound|0);for(let i=0;i<=n.bound-1;i++){const o=re(n.digits[i],!1,2);let u=Xt(0,0,!1),s=0|i;for(let n=0;n<=t.bound-1;n++){const i=re(t.digits[n],!1,2),c=qt(qt(re(r.digits[s],!1,2),u),Gt(o,i));r.digits[s]=(e=Jt(c,zi),~~Qt(e)),u=Wt(c,Hi),s+=1}io(r,u,s)}return Zi(r)}(n,t)}const so=V((function(n,t,e,r,i,o,u){this.bigL=0|n,this.twoToBigL=0|t,this.k=0|e,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),J);function co(n,t,e,r){return new so(n,Wi(2,n),t,e,r,~~(24/n),gi(~~(24/n),(function(t){return Wi(2,n*t)}),Int32Array))}const fo=[co(1,28,268435456,268435456),co(2,26,67108864,134217728),co(3,24,16777216,50331648),co(4,22,4194304,16777216),co(5,20,1048576,5242880),co(6,18,262144,1572864),co(7,16,65536,458752),co(8,14,16384,131072),co(9,12,4096,36864),co(10,10,1024,10240),co(11,8,256,2816),co(12,6,64,768),co(13,4,16,208)];gi(24,(function(n){return Wi(2,n)-1}),Int32Array),gi(24,(function(n){return Wi(2,n)}),Int32Array),gi(24,(function(n){return Gi(Xt(2,0,!1),n)}),Array);fo[0].bigN;function ao(n,t){return uo(n,t)}function lo(n,t,e,r){const i=[n.digits,Qi(n)],o=[e.digits,Qi(e)],u=re(t,!1,2);let s=0,c=Gt(u,re(o[0][0],!1,2));for(;Zt(c,Xt(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let n,t;const e=Jt(c,zi);let f;t=~~Qt(e),n=t;f=Wt(c,Hi),n<=i[0][s+r]?i[0][s+r]=i[0][s+r]-n:(i[0][s+r]=i[0][s+r]+(16777216-n),f=qt(f,Xt(1,0,!1))),c=s<o[1]?qt(f,Gt(u,re(o[0][s+1],!1,2))):f,s+=1}Zi(n)}function ho(n,t,e,r){const i=[n.digits,Qi(n)],o=[e.digits,Qi(e)],u=re(t,!1,2);let s=0,c=Gt(u,re(o[0][0],!1,2));for(;Zt(c,Xt(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let n,t;const e=Jt(c,zi);let f;t=~~Qt(e),n=t;f=Wt(c,Hi),n<16777216-i[0][s+r]?i[0][s+r]=i[0][s+r]+n:(i[0][s+r]=n-(16777216-i[0][s+r]),f=qt(f,Xt(1,0,!1))),c=s<o[1]?qt(f,Gt(u,re(o[0][s+1],!1,2))):f,s+=1}Zi(n)}function wo(n,t,e){const r=[Qi(t),Qi(n)];if(r[1]<r[0]+e)return 0;{let c;if(0===r[0])if(r[1]===e)c=~~(n.digits[e]/t.digits[0]);else{const e=Wt(qt(Gt(re(n.digits[r[1]],!1,2),Hi),re(n.digits[r[1]-1],!1,2)),re(t.digits[0],!1,2));c=~~Qt(e)}else if(r[1]===r[0]+e)c=~~(n.digits[r[1]]/(t.digits[r[0]]+1));else{const e=Wt(qt(Gt(re(n.digits[r[1]],!1,2),Hi),re(n.digits[r[1]-1],!1,2)),qt(re(t.digits[r[0]],!1,2),Xt(1,0,!1)));c=~~Qt(e)}if(0===c){return 1!=(o=e,u=n,s=0,(i=t).bound+o<u.bound+s?-1:i.bound+o>u.bound+o?1:0|function(n,t,e){n:for(;;){const r=n,i=t,u=e;if(-1===u)return 0;{const c=0|(u<o?0:r[u-o]),f=0|(u<s?0:i[u-s]);if(c===f){n=r,t=i,e=u-1;continue n}return c<f?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|c}var i,o,u,s}function go(n,t){if(no(t))throw new Error;if(Qi(n)<Qi(t))return[Ki,n];{const i=new _i((e=n).bound,(r=e.digits,Int32Array,r.slice())),o=Ji(Qi(n)-Qi(t)+1+1);let u=0|Qi(n);const s=0|Qi(t);let c=u-s|0;const f=function(n){};let a=!1;for(;!a;){f([o,i,c,u]);const n=0|wo(i,t,c);n>0?(lo(i,n,t,c),ho(o,n,Yi,c),f([o,i,c,u])):(a=0===n&&0===c,a||(u===s+c?(f([o,i,c-1,u]),c-=1):(f([o,i,c-1,u-1]),c-=1,u-=1)))}return[Zi(o),Zi(i)]}var e,r}Xi(2);function po(n){return Xi(n)}function mo(n){return function(n){const t=Zt(n,Xt(0,0,!1))<0?Xt(0,0,!1):n,e=Ji(3);for(let n=0;n<=2;n++)e.digits[n]=~~Qt(Ht(Wt(t,Gi(Hi,n)),Hi));return Zi(e)}(n)}function yo(n){const t=0|Qi(n),e=function(n,e,r){for(;;){const i=n,o=e,u=r;if(Qi(u)>t)return new q([o,u],i);n=new q([o,u],i),e=o+1,r=ao(u,u)}}(new q,0,Xi(10)),r=function n(t,e,r,i){if(null!=i.tail){const o=go(r,i.head[1]);if(t&&no(o[0])){return n(t,e,o[1],i.tail)}{const r=n(!1,e,o[1],i.tail);return n(t,r,o[0],i.tail)}}{const n=0|function(n){if(1===n.bound)return 0|n.digits[0];{let t=0;for(let e=n.bound-1;e>=0;e--)t=n.digits[e]+16777216*t;return 0|t}}(r);return t&&0===n?e:new q(f(n),e)}}(!0,new q,n,e);if(null==r.tail)return"0";{let n;return n=yi(r,Array),er("",n)}}function vo(n){return n.bound<=1}function bo(n){return 0<n.bound?0|n.digits[0]:0}const Eo=V((function(n,t){this.signInt=n,this.v=t}),J);function So(n,t){return this instanceof Eo?Eo.call(this,n,t):new Eo(n,t)}function xo(n){return vo(n)&&bo(n)<Eo.smallLim?Eo.smallPosTab[bo(n)]:n}function Co(n){return n.signInt}function Oo(n){return n.v}function ko(n,t){const e=[Co(n),Co(t)];switch(-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9){case 0:case 1:return to(Oo(n),Oo(t));case 2:case 3:return!!no(Oo(n))&&no(Oo(t));case 4:return!0;case 5:case 6:return no(Oo(t));case 7:case 8:return no(Oo(n));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function Mo(n,t){const e=[Co(n),Co(t)];switch(-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9){case 0:return ro(Oo(n),Oo(t));case 1:return ro(Oo(t),Oo(n));case 2:return!1;case 3:return!no(Oo(n))||!no(Oo(t));case 4:return!1;case 5:return!no(Oo(t));case 6:case 7:return!1;case 8:return!no(Oo(n));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function To(n){return n>=0?So.call(this,1,xo(po(n))):-2147483648===n?So.call(this,-1,xo(mo(zt(re(n,!1,2))))):So.call(this,-1,xo(po(Kn(n))))}function Bo(){return Eo.one}function Po(){return Eo.two}function Ro(){return Eo.zero}Eo.smallLim=4096,Eo.smallPosTab=gi(Eo.smallLim,po,Array),Eo.one=To(1),Eo.two=To(2),Eo.zero=To(0),Eo.prototype.toString=function(){const n=this;switch(0|Co(n)){case-1:return no(Oo(n))?"0":"-"+yo(Oo(n));case 0:return"0";case 1:return yo(Oo(n));default:throw new Error("signs should be +/- 1 or 0")}},Eo.prototype.Equals=function(n){return n instanceof Eo&&ko(this,n)},Eo.prototype.GetHashCode=function(){return 0|(0===Co(n=this)?1:Co(n)+function(n){let t=0;for(let e=0;e<=n.bound-1;e++)t=n.digits[e]+(t<<3);return 0|t}(Oo(n))|0);var n},Eo.prototype.CompareTo=function(n){if(n instanceof Eo)return 0|(Mo(t=this,e=n)?-1:ko(t,e)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var t,e};Ro(),Bo(),Po();Ro(),Bo();function Fo(n,t){const e=new Date(n);return e.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),e}function Ao(){return Fo(-621355968e5,0)}function jo(n){const t=Ie(n),e=Me.exec(n),r=null==e?-6e4*t.getTimezoneOffset():"Z"===e[0]?0:36e5*parseInt(e[1],10)+6e4*parseInt(e[2],10);return Fo(t.getTime(),r)}function Do(n){return n<0?Math.ceil(n):Math.floor(n)}function Io(n=0,t=0,e=0,r=0,i=0){switch(arguments.length){case 1:return No(arguments[0]);case 3:n=0,t=arguments[0],e=arguments[1],r=arguments[2],i=0}return 864e5*n+36e5*t+6e4*e+1e3*r+i}function No(n){return te(Wt(n,1e4))}function _o(n,t="c",e){if(-1===["c","g","G"].indexOf(t))throw new Error("Custom formats are not supported");const r=Math.abs(function(n){return Do(n/864e5)}(n)),i=Math.abs(function(n){return Do(n%864e5/36e5)}(n)),o=Math.abs(function(n){return Do(n%36e5/6e4)}(n)),u=Math.abs(function(n){return Do(n%6e4/1e3)}(n)),c=Math.abs(function(n){return Do(n%1e3)}(n));return`${n<0?"-":""}${0!==r||"c"!==t&&"g"!==t?"c"===t?r+".":r+":":""}${"g"===t?i:s(i,2)}:${s(o,2)}:${s(u,2)}${0!==c||"c"!==t&&"g"!==t?"g"===t?"."+s(c,3):"."+function(n,t,e){let r=n.toString(10);for(;r.length<t;)r="0"+r;for(;r.length<e;)r+="0";return r}(c,3,7):""}`}function Uo(n){const t=n.search("\\."),e=n.search("\\:");if(-1===t&&-1===e){const t=parseInt(n,0);if(isNaN(t))throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`);return Io(t,0,0,0,0)}if(e>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(n);if(null!=t&&null!=t[4]&&null!=t[5]){let e=0,r=0,i=0;const o=null!=t[1]&&"-"===t[1]?-1:1,u=+t[4],s=+t[5];if(null!=t[3]&&(e=+t[3]),null!=t[7]&&(i=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`)}return o*Io(e,u,s,i,r)}}throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`)}function Vo(n){return void 0===n}function Lo(n,t,e){try{return"Expecting "+n+" but instead got:"+(e?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+n+" but decoder failed. Couldn't report given value due to circular structure."+(e?"\n":" ")}}function $o(n,t){const e=2===t.tag?Lo(t.fields[0],t.fields[1],!0):1===t.tag?Lo(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?Lo(t.fields[0],t.fields[1],!0):4===t.tag?Lo(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+er("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:Lo(t.fields[0],t.fields[1],!1);return 7===t.tag?e:"Error at: `"+n+"`\n"+e}function qo(n,t,e){let r;return r=D(1,t,[n])(e),1===r.tag?new jn(1,"Error",$o(r.fields[0][0],r.fields[0][1])):new jn(0,"Ok",r.fields[0])}function Go(n,t){try{return qo("$",n,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new jn(1,"Error","Given an invalid JSON: "+n.message);throw n}}function Wo(n,t){if("string"==typeof t)return new jn(0,"Ok",t);{const e=[n,new Bi(0,"BadPrimitive","a string",t)];return new jn(1,"Error",e)}}function Ho(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-128<=e&&e<=127)return new jn(0,"Ok",(e+128&255)-128);{const t=[n,new Bi(1,"BadPrimitiveExtra","a sbyte",e,"Value was either too large or too small for a sbyte")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","a sbyte",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!1,8),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","a sbyte",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a sbyte",t)];return new jn(1,"Error",e)}}}function zo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=255)return new jn(0,"Ok",255&e);{const t=[n,new Bi(1,"BadPrimitiveExtra","a byte",e,"Value was either too large or too small for a byte")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","a byte",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!0,8),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","a byte",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a byte",t)];return new jn(1,"Error",e)}}}function Jo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-32768<=e&&e<=32767)return new jn(0,"Ok",(e+32768&65535)-32768);{const t=[n,new Bi(1,"BadPrimitiveExtra","an int16",e,"Value was either too large or too small for an int16")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","an int16",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!1,16),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","an int16",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","an int16",t)];return new jn(1,"Error",e)}}}function Zo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=65535)return new jn(0,"Ok",65535&e);{const t=[n,new Bi(1,"BadPrimitiveExtra","an uint16",e,"Value was either too large or too small for an uint16")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","an uint16",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!0,16),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","an uint16",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","an uint16",t)];return new jn(1,"Error",e)}}}function Xo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-2147483648<=e&&e<=2147483647)return new jn(0,"Ok",~~e);{const t=[n,new Bi(1,"BadPrimitiveExtra","an int",e,"Value was either too large or too small for an int")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","an int",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!1,32),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","an int",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","an int",t)];return new jn(1,"Error",e)}}}function Yo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=4294967295)return new jn(0,"Ok",e>>>0);{const t=[n,new Bi(1,"BadPrimitiveExtra","an uint32",e,"Value was either too large or too small for an uint32")];return new jn(1,"Error",t)}}{const t=[n,new Bi(1,"BadPrimitiveExtra","an uint32",e,"Value is not an integral value")];return new jn(1,"Error",t)}}if("string"==typeof t){let e;if(e=Yn(t,511,!0,32),e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","an uint32",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","an uint32",t)];return new jn(1,"Error",e)}}}(()=>{const n=Xt(0,2147483648,!1),t=Xt(4294967295,2147483647,!1)})(),(()=>{const n=Xt(0,0,!0),t=Xt(4294967295,4294967295,!0)})();function Ko(n,t){if("number"==typeof t)return new jn(0,"Ok",t);{const e=[n,new Bi(0,"BadPrimitive","a float",t)];return new jn(1,"Error",e)}}function Qo(n,t){if("string"==typeof t){const r=function(n,t){try{return null==n||""===n.trim()?[!1,De()]:[!0,Ne(n)]}catch(n){return[!1,De()]}}(t,De());if(r[0]){const n=1===(e=r[1]).kind?e:je(e.getTime(),1);return new jn(0,"Ok",n)}{const e=[n,new Bi(0,"BadPrimitive","a datetime",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a datetime",t)];return new jn(1,"Error",e)}var e}function nu(n,t){if("string"==typeof t){const e=function(n,t){try{return[!0,jo(n)]}catch(n){return[!1,Ao()]}}(t,Ao());if(e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","a datetimeoffset",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a datetime",t)];return new jn(1,"Error",e)}}function tu(n,t){if("string"==typeof t){const e=function(n,t){try{return[!0,Uo(n)]}catch(n){return[!1,0]}}(t);if(e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","a timespan",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a timespan",t)];return new jn(1,"Error",e)}}function eu(n,t,e){let r;if(r=D(1,t,[n])(e),1===r.tag){if(null==e)return new jn(0,"Ok",void 0);if(1===r.tag)return new jn(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new jn(0,"Ok",Pn(r.fields[0]))}function ru(n,t,e){var r;const i=Fn(t,er(".",new q("$",n))),o="an object with path `"+er(".",n)+"`";return new jn(1,"Error",[i,new Bi(4,"BadPath",o,e,(r=vi(n),Fn(r,"")))])}function iu(n,t,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[n];return Vo(i)?new jn(1,"Error",[e,new Bi(3,"BadField","an object with a field named `"+n+"`",r)]):t(e+"."+n,i)}return new jn(1,"Error",[e,new Bi(2,"BadType","an object",r)])}function ou(n,t,e,r){let i;if(i=bi((function(t,e){if(null==t[2]){if(null==t[1]){const e=ru(n,t[0],r);return[t[0],t[1],e]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const i=t[1][e];if(Vo(i)){const e=ru(n,void 0,r);return[t[0],i,e]}return[t[0]+"."+e,i,void 0]}{const n=new jn(1,"Error",[t[0],new Bi(2,"BadType","an object",t[1])]);return[t[0],t[1],n]}}return[t[0],t[1],t[2]]}),[e,r,void 0],n),null==i[2])return t(i[0],i[1]);return i[2]}function uu(n,t,e,r){const i=e+".["+f(n)+"]";if(Array.isArray(r)){const e=r;if(n<e.length)return t(i,e[n]);{const t="a longer array. Need index `"+f(n)+"` but there are only `"+(f(0|e.length)+"` entries"),o=[i,new Bi(5,"TooSmallArray",t,r)];return new jn(1,"Error",o)}}{const n=[i,new Bi(0,"BadPrimitive","an array",r)];return new jn(1,"Error",n)}}function su(n,t,e){if(Array.isArray(e)){let r=-1;const i=e;let o;return o=pi((function(e,i){if(r+=1,0===e.tag){const o=n(t+".["+f(r)+"]",i);return 0===o.tag?new jn(0,"Ok",new q(o.fields[0],e.fields[0])):new jn(1,"Error",o.fields[0])}return e}),new jn(0,"Ok",new q),i),Dn(Ei,o)}{const n=[t,new Bi(0,"BadPrimitive","a list",e)];return new jn(1,"Error",n)}}function cu(n,t,e){if(Array.isArray(e)){let r=-1;const i=e,o=hi(new Array(i.length),0,i.length,null);return pi((function(e,i){if(r+=1,0===e.tag){const o=n(t+".["+f(r)+"]",i);return 0===o.tag?(e.fields[0][r]=o.fields[0],new jn(0,"Ok",e.fields[0])):new jn(1,"Error",o.fields[0])}return e}),new jn(0,"Ok",o),i)}{const n=[t,new Bi(0,"BadPrimitive","an array",e)];return new jn(1,"Error",n)}}function fu(n,t){if(null!==t&&Object.getPrototypeOf(t||!1)===Object.prototype){let n;return n=Si(Object.keys(t)),new jn(0,"Ok",n)}{const e=[n,new Bi(0,"BadPrimitive","an object",t)];return new jn(1,"Error",e)}}function au(n,t,e){return new jn(0,"Ok",n)}function lu(n,t,e){const r=[t,new Bi(6,"FailMessage",n)];return new jn(1,"Error",r)}function du(n,t,e,r){const i=t(e,r);return 0===i.tag?n(i.fields[0],e,r):new jn(1,"Error",i.fields[0])}function hu(n,t,e,r){const i=t(e,r);return 1===i.tag?new jn(1,"Error",i.fields[0]):new jn(0,"Ok",n(i.fields[0]))}function wu(n,t,e,r){let i;return i=D(1,e,[t])(r),1===i.tag?(n.push(i.fields[0]),null):i.fields[0]}const gu=V((function(n,t){const e=this;e.errors=[],e.required={Field:(r,i)=>wu(e.errors,n,(function(n,t){return iu(r,i,n,t)}),t),At:(r,i)=>wu(e.errors,n,(function(n,t){return ou(r,i,n,t)}),t),Raw:r=>wu(e.errors,n,r,t)},e.optional={Field:(r,i)=>wu(e.errors,n,(function(n,t){return function(n,t,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[n];return Vo(i)?new jn(0,"Ok",void 0):eu(e+"."+n,t,i)}return new jn(1,"Error",[e,new Bi(2,"BadType","an object",r)])}(r,i,n,t)}),t),At:(r,i)=>wu(e.errors,n,(function(n,t){return function(n,t,e,r){let i;return i=bi((function(t,e){if(null==t[2]){if(null==t[1]){const e=ru(n,t[0],r);return[t[0],t[1],e]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const n=t[1][e];return[t[0]+"."+e,n,void 0]}{const n=new jn(1,"Error",[t[0],new Bi(2,"BadType","an object",t[1])]);return[t[0],t[1],n]}}return[t[0],t[1],t[2]]}),[e,r,void 0],n),null==i[2]?Vo(i[1])?new jn(0,"Ok",void 0):eu(i[0],t,i[1]):i[2]}(r,i,n,t)}),t),Raw(r){let i;if(i=D(1,r,[n])(t),1!==i.tag)return Pn(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag||2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag||4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag||6===i.fields[0][1].tag||7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?void 0:(e.errors.push(i.fields[0]),null);case 1:return;case 2:return e.errors.push(i.fields[0]),null}}}}));function pu(n){return Br(t={Compare:S},br(t,n));var t}function mu(n,t,e,r){var i,o,u,s,c,f;if(t.length!==r.length){const a=[e,(o=0|t.length,u=0|r.length,s=Ke(Ye("Expected %i %s but got %i")),c=s(o),f=c(n),i=f(u),new Bi(6,"FailMessage",i))];return new jn(1,"Error",a)}{const n=new jn(0,"Ok",new q);return mi(A(3,I((function(n){return function(t){return function(r){if(0===r.tag){return Dn((function(n){return new q(n,r.fields[0])}),t(e,n))}return r}}}),[0,[0,2],0])),r,t,n)}}function yu(n,t,e,r,i,o){let u;const s=bn(e);var c;if(c=function(n){return fn(n)===r},u=s.find(c),null!=u){const e=u;if(0===o.length){const n=Mn(e,[]);return new jn(0,"Ok",n)}{let r;r=wi((function(e){return bu(n,t,!1,e[1])}),kn(e),Array);return Dn((function(n){return Mn(e,yi(n,Array))}),mu("union fields",r,i,o))}}{const n=[i,new Bi(6,"FailMessage","Cannot find case "+r+" in "+an(e))];return new jn(1,"Error",n)}}function vu(n,t,e,r){const i=new Z(null);let o;const u=an(r);let s;if(o=Dr(u,i,n),Cn(r)){let n;const e=En(r);n=wi((function(n){return[Ni(t,fn(n)),bu(o,t,!1,n[1])]}),e,Array),s=function(t){return function(e){const i=function(n,t,e){if(null===e||Object.getPrototypeOf(e||!1)!==Object.prototype){const n=[t,new Bi(0,"BadPrimitive","an object",e)];return new jn(1,"Error",n)}{const o=new jn(0,"Ok",new q);return r=function(n,r){return 0===r.tag?Dn((function(n){return new q(n,r.fields[0])}),n[1](t+"."+n[0])(e[n[0]])):r},i=o,n.reduceRight((function(n,t){return r(t,n)}),i)}var r,i}(n,t,e);return Dn((function(n){return Tn(r,yi(n,Array))}),i)}}}else if(xn(r))s=function(n){return function(e){if("string"==typeof e){return yu(o,t,r,e,n,[])}if(Array.isArray(e)){const i=e;let u;return u=i[0],yu(o,t,r,u,n,i.slice(1,i.length))}{const t=[n,new Bi(0,"BadPrimitive","a string or array",e)];return new jn(1,"Error",t)}}};else{if(!e){let n;const t=an(r);throw n=Ke(Ye("Cannot generate auto decoder for %s. Please pass an extra decoder."))(t),new Error(n)}s=function(n){return function(t){return new jn(1,"Error",[n,new Bi(2,"BadType","an extra coder for "+an(r),t)])}}}return i.contents=s,s}function bu(n,t,e,r){var i,o;const u=an(r),s=Ir(u,n);if(null==s){if(ln(r)){let e;const i=dn(r);return e=bu(n,t,!1,i),function(n){return function(t){return cu(A(2,e),n,t)}}}if(wn(r)){const n=an(pn(r));return"System.SByte"===n?function(n){return function(t){const e=Ho(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=pe(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}}}:"System.Byte"===n?function(n){return function(t){const e=zo(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=pe(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}}}:"System.Int16"===n?function(n){return function(t){const e=Jo(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let u,s;if(s=mn(r),u=pe(e.fields[0],s),u){const n=vn(r,(i=(i=e.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}var i,o}}:"System.UInt16"===n?function(n){return function(t){const e=Zo(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=pe(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}}}:"System.Int32"===n?function(n){return function(t){const e=Xo(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=pe(e.fields[0],o),i){const n=vn(r,f(e.fields[0]));return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}}}:"System.UInt32"===n?function(n){return function(t){const e=Yo(n)(t);if(1===e.tag)return new jn(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=pe(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new jn(0,"Ok",n)}{const e=[n,new Bi(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new jn(1,"Error",e)}}}}:(i=Qe(Ye("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(n){const t=i(n);return function(n){const e=t(n);return function(n){return e(n)}}})(an(r))}if(hn(r)){if(On(r)){let e;const i=Sn(r);return e=wi((function(e){return bu(n,t,!1,e)}),i,Array),function(n){return function(t){if(Array.isArray(t)){return Dn((function(n){return yi(n,Array)}),mu("tuple elements",e,n,t))}{const e=[n,new Bi(0,"BadPrimitive","an array",t)];return new jn(1,"Error",e)}}}}{const i=an(gn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let e,i;const o=K(r)[0];return i=bu(n,t,!0,o),e=function(n){return function(t){return e=A(2,i),r=n,null==(o=t)?new jn(0,"Ok",void 0):Dn((function(n){return Pn(n)}),e(r,o));var e,r,o}},e}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let e,i;const o=K(r)[0];return i=bu(n,t,!1,o),e=function(n){return function(t){return su(A(2,i),n,t)}},e}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let e;const i=K(r)[0];let u;e=bu(n,t,!1,i);const s=K(r)[1];let f;u=bu(n,t,!1,s);const l=Mi([function(n){return function(t){return function(n,t,e,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const n=[e,new Bi(0,"BadPrimitive","an object",r)];return new jn(1,"Error",n)}return me((function(i,o){if(0===i.tag){let u;if(u=D(1,n,[e])(o),0===u.tag){const n=t(e+"."+o,r[o]);if(0===n.tag){const t=new q([u.fields[0],n.fields[0]],i.fields[0]);return new jn(0,"Ok",t)}return new jn(1,"Error",n.fields[0])}return new jn(1,"Error",u.fields[0])}return i}),new jn(0,"Ok",new q),Object.keys(r))}(A(2,e),A(2,u),n,t)}},(c=A(2,e),a=A(2,u),o=function(n){return function(t){return du((function(n,t,e){return du((function(t,e,r){return au([n,t])}),(function(n,t){return uu(1,a,n,t)}),t,e)}),(function(n,t){return uu(0,c,n,t)}),n,t)}},function(n){return function(t){return su(A(2,o),n,t)}})]);return f=function(n){return function(t){return e=n,r=t,function(n,t){n:for(;;){const i=n,o=t;if(null==i.tail){const n=[e,new Bi(7,"BadOneOf",o)];return new jn(1,"Error",n)}{const u=qo(e,A(2,i.head),r);if(1===u.tag){n=i.tail,t=Ci(o,new q(u.fields[0],new q));continue n}return new jn(0,"Ok",u.fields[0])}}}(l,new q);var e,r}},function(n){return function(t){return hu((function(n){return pu(n)}),A(2,f),n,t)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let e;const i=K(r)[0];return e=bu(n,t,!1,i),function(n){return function(t){const r=cu(A(2,e),n,t);if(0===r.tag){let n;return n=di(r.fields[0],{Compare:S}),new jn(0,"Ok",n)}return new jn(1,"Error",r.fields[0])}}}return vu(n,t,e,r)}}return"System.Boolean"===u?function(n){return function(t){return function(n,t){if("boolean"==typeof t)return new jn(0,"Ok",t);{const e=[n,new Bi(0,"BadPrimitive","a boolean",t)];return new jn(1,"Error",e)}}(n,t)}}:"Microsoft.FSharp.Core.Unit"===u?function(n){return function(t){return function(n,t){if(null==t)return new jn(0,"Ok",void 0);{const e=[n,new Bi(0,"BadPrimitive","null",t)];return new jn(1,"Error",e)}}(n,t)}}:"System.String"===u?function(n){return function(t){return Wo(n,t)}}:"System.SByte"===u?Ho:"System.Byte"===u?zo:"System.Int16"===u?Jo:"System.UInt16"===u?Zo:"System.Int32"===u?Xo:"System.UInt32"===u?Yo:"System.Double"===u?function(n){return function(t){return Ko(n,t)}}:"System.Single"===u?function(n){return function(t){return function(n,t){if("number"==typeof t)return new jn(0,"Ok",t);{const e=[n,new Bi(0,"BadPrimitive","a float32",t)];return new jn(1,"Error",e)}}(n,t)}}:"System.DateTime"===u?function(n){return function(t){return Qo(n,t)}}:"System.DateTimeOffset"===u?function(n){return function(t){return nu(n,t)}}:"System.TimeSpan"===u?function(n){return function(t){return tu(n,t)}}:"System.Guid"===u?function(n){return function(t){return function(n,t){if("string"==typeof t){const e=rr(t,!0);if(e[0])return new jn(0,"Ok",e[1]);{const e=[n,new Bi(0,"BadPrimitive","a guid",t)];return new jn(1,"Error",e)}}{const e=[n,new Bi(0,"BadPrimitive","a guid",t)];return new jn(1,"Error",e)}}(n,t)}}:"System.Object"===u?function(n){return function(n){return new jn(0,"Ok",n)}}:vu(n,t,e,r)}{const n=s;return function(t){return function(e){return n.contents(t)(e)}}}var c,a}function Eu(n){if(null!=n){return Nr((function(n,t){return new Z(t[1])}),n.Coders)}return Ur({Compare:v})}Object.defineProperty(gu.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty(gu.prototype,"Optional",{get:function(){return this.optional}});V((function(){}));const Su=V((function(){}));function xu(n,t,e){return function(n){return function(r){return du(e,t,n,r)}}}function Cu(n,t){return function(n){return function(n){return au(t)}}}function Ou(n,t){return j(2,t)}!function(){this instanceof Su?Su.call(this):new Su}();function ku(n){return xu(0,Wo,A(3,(function(t){var e,r;return Ou(0,t===n?function(n,t){return au(void 0)}:A(2,(r=Ke(Ye("Expected %s to be %s."))(t),e=r(n),function(n){return function(t){return lu(e,n)}})))})))}const Mu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Tu(){return rn("BattleResult.VehicleId",[],Mu,()=>[["VehicleId",[["Item",sn]]]])}const Bu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Pu=V((function(n,t,e,r,i,o,u,s,c){this.VehicleId=n,this.DamageDealt=0|t,this.Spots=0|e,this.Frags=0|r,this.DefencePoints=0|i,this.GrossCredits=0|o,this.AutoRepairCost=0|u,this.AutoLoadCost=0|s,this.AutoEquipCost=0|c}),J);function Ru(){return en("BattleResult.VehicleSummary",[],Pu,()=>[["VehicleId",Tu()],["DamageDealt",sn],["Spots",sn],["Frags",sn],["DefencePoints",sn],["GrossCredits",sn],["AutoRepairCost",sn],["AutoLoadCost",sn],["AutoEquipCost",sn]])}const Fu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Au(n){const t=function(t){const e=Mi(["personal",f(n.fields[0]),t]);return function(n){return function(t){return function(r){return ou(e,n,t,r)}}}};return xu(0,A(2,t("damageDealt")(A(2,Xo))),A(3,(function(e){return xu(0,A(2,t("spotted")(A(2,Xo))),A(3,(function(r){return xu(0,A(2,t("kills")(A(2,Xo))),A(3,(function(i){return xu(0,A(2,t("droppedCapturePoints")(A(2,Xo))),A(3,(function(o){return xu(0,A(2,t("credits")(A(2,Xo))),A(3,(function(u){return xu(0,A(2,t("autoRepairCost")(A(2,Xo))),A(3,(function(s){return xu(0,A(2,t("autoLoadCost")((function(n,t){return uu(0,A(2,Xo),n,t)}))),A(3,(function(c){return xu(0,A(2,t("autoEquipCost")((function(n,t){return uu(0,A(2,Xo),n,t)}))),A(3,(function(t){return Cu(0,new Pu(new Mu(0,"VehicleId",n.fields[0]),e,r,i,o,u,s,c,t))})))})))})))})))})))})))})))})))}const ju=xu(0,(function(n,t){return iu("personal",fu,n,t)}),A(3,(function(n){var t,e,r;return Cu(0,(t=Oi((function(n){return Yn(n,511,!1,32)}),n),e=function(n){return n[0]?new Mu(0,"VehicleId",n[1]):void 0},r=t,Ei(bi((function(n,t){const r=e(t);if(null==r)return n;{const t=Rn(r);return new q(t,n)}}),new q,r))))}))),Du=xu(0,A(2,ju),A(3,(function(n){var t;return xu(0,A(2,(t=Oi(Au,n),function(n){return function(e){return r=n,i=e,function(n,t){n:for(;;){const e=n,o=t;if(null==e.tail)return new jn(0,"Ok",o);{const u=e.head(r)(i);if(1===u.tag)return new jn(1,"Error",u.fields[0]);n=e.tail,t=Ci(o,new q(u.fields[0],new q));continue n}}}(t,new q);var r,i}})),A(3,(function(n){var t;return xu(0,A(2,(t=Mi(["common","bonusType"]),function(n){return function(e){return ou(t,A(2,Xo),n,e)}})),A(3,(function(t){var e;return 1===t?xu(0,A(2,function(n,t){if(null==t)return function(t){return function(e){return lu(n,t)}};{const n=Rn(t);return function(t){return function(t){return au(n)}}}}("Expected random battle to have a vehicle summary.",null!=(e=n).tail?Pn(e.head):void 0)),A(3,(function(n){return Cu(0,new Fu(0,"RandomBattle",n))}))):Cu(0,new Fu(1,"Other",n))})))})))}))),Iu=V((function(n,t){this.Outcome=n,this.BonusType=t}),J);function Nu(){return en("BattleResult.BattleResult",[],Iu,()=>[["Outcome",rn("BattleResult.Outcome",[],Bu,()=>["Victory","DrawOrLoss"])],["BonusType",rn("BattleResult.BonusType",[],Fu,()=>[["RandomBattle",[["Item",Ru()]]],["Other",[["Item",on(Ru())]]]])]])}function _u(){var n;return xu(0,A(2,(n=Mi(["common","winnerTeam"]),function(t){return function(e){return ou(n,A(2,Xo),t,e)}})),A(3,(function(n){var t;return xu(0,A(2,(t=Mi(["personal","avatar","team"]),function(n){return function(e){return ou(t,A(2,Xo),n,e)}})),A(3,(function(t){const e=n===t?new Bu(0,"Victory"):new Bu(1,"DrawOrLoss");return xu(0,A(2,Du),A(3,(function(n){return Cu(0,new Iu(e,n))})))})))})))}function Uu(n){return 1!==n.Outcome.tag}function Vu(n){return 0===n.BonusType.tag}function Lu(n){return 1===n.BonusType.tag?n.BonusType.fields[0]:new q(n.BonusType.fields[0],new q)}function $u(n){return(0|bi((function(n,t){return n+t.GrossCredits}),0,Lu(n)))-(0|bi((function(n,t){return n+t.AutoRepairCost+t.AutoLoadCost+t.AutoEquipCost}),0,Lu(n)))}const qu=V((function(){}));function Gu(n,t){return{then(n,e){try{return t().then(n,e)}catch(n){if(m(e,null)){return Promise.reject(n)}try{return Promise.resolve(e(n))}catch(n){return Promise.reject(n)}}},catch(n){try{return t().catch(n)}catch(t){try{return Promise.resolve(n(t))}catch(n){return Promise.reject(n)}}}}}function Wu(n,t){return new Promise((function(n,e){try{let r;r=Promise.resolve(t),r.then(n,e)}catch(n){e(n)}}))}const Hu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const zu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Ju(n){return n}function Zu(n){const t={};return ye((function(n){t[n[0]]=n[1]}),n),t}function Xu(n){return Array.from(n)}function Yu(n){return Ae(n,"O")}function Ku(n){return _o(n)}function Qu(n){return String(n)}function ns(n){return String(n)}function ts(n){return String(n)}function es(n){return String(n)}function rs(n){return Ae(n,"O")}function is(n,t){return JSON.stringify(t,A(2,null),Pn(n))}function os(n){return function(t){let e;return e=An(n,t),i=function(){return null},null!=(r=e)?Rn(r):i();var r,i}}function us(n,t,e,r){const i=new Z(null);let o;const u=an(r);let s;if(o=Dr(u,i,n),Cn(r)){let n;const i=En(r);n=wi((function(n){const r=Ni(t,fn(n)),i=ss(o,t,e,n[1]);return function(t){return function(o){const u=function(n,t){return n[t[0]]}(t,n);return(!e||e&&null!=u)&&(o[r]=i(u)),o}}}),i,Array),s=function(t){return me(A(2,I((function(n){return function(e){return e(t,n)}}),[0,[0,2]])),{},n)}}else{if(!xn(r)){let n;const t=an(r);throw n=Ke(Ye("Cannot generate auto encoder for %s. Please pass an extra encoder."))(t),new Error(n)}s=function(n){const i=function(n,t){const e=bn(t)[n.tag];if(null==e)throw new Error(`Cannot find case ${n.name} in union type`);return[e,n.fields]}(n,r),u=0|i[1].length;if(0===u){return fn(i[0])}{const n=kn(i[0]),r=hi(new Array(u+1),0,u+1,null),s=fn(i[0]);r[0]=s;for(let s=1;s<=u;s++){const u=ss(o,t,e,n[s-1][1]);r[s]=u(i[1][s-1])}return r}}}return i.contents=s,s}function ss(n,t,e,r){var i;const o=an(r),s=Ir(o,n);if(null==s){if(ln(r)){let i;const o=dn(r);return i=ss(n,t,e,o),function(n){let t;return t=be(i,n),Xu(t)}}if(wn(r)){const n=an(pn(r));return"System.SByte"===n?Qu:"System.Byte"===n?ns:"System.Int16"===n?ts:"System.UInt16"===n?es:"System.Int32"===n?function(n){return n}:"System.UInt32"===n?function(n){return n}:(i=Qe(Ye("Cannot generate auto encoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra encoder.\n                    ")),function(n){const t=i(n);return function(n){return t(n)}})(an(r))}if(hn(r)){if(On(r)){let i;const o=Sn(r);return i=wi((function(r){return ss(n,t,e,r)}),o,Array),function(n){let t;return t=Ee((function(n,t){return i[n](t)}),n),Xu(t)}}{const i=an(gn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){const i=new u((function(){let i,o;const u=K(r)[0];return o=ss(n,t,e,u),i=os(o),i}));return function(n){return null==n?null:i.Value(n)}}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i||"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let i;const o=K(r)[0];return i=ss(n,t,e,o),function(n){let t;return t=be(i,n),Xu(t)}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){const i=K(r)[0];let o;const u=K(r)[1];if(o=ss(n,t,e,u),"System.String"===an(i)||"System.Guid"===an(i))return function(n){return me((function(n,t){const e=t;return n[e[0]]=o(e[1]),n}),{},n)};{let r;const u=ss(n,t,e,i);return r=function(n){return u(n)},function(n){let t;return t=be((function(n){const t=n;return[r(t[0]),o(t[1])]}),n),Xu(t)}}}return us(n,t,e,r)}}return"System.Boolean"===o?function(n){return n}:"Microsoft.FSharp.Core.Unit"===o?function(){return null}:"System.String"===o?function(n){return n}:"System.SByte"===o?Qu:"System.Byte"===o?ns:"System.Int16"===o?ts:"System.UInt16"===o?es:"System.Int32"===o?function(n){return n}:"System.UInt32"===o?function(n){return n}:"System.Double"===o?function(n){return n}:"System.Single"===o?function(n){return n}:"System.DateTime"===o?rs:"System.DateTimeOffset"===o?Yu:"System.TimeSpan"===o?Ku:"System.Guid"===o?Ju:"System.Object"===o?function(n){return n}:us(n,t,e,r)}{const n=s;return function(t){return n.contents(t)}}}function cs(n){if(null!=n){return Nr((function(n,t){return new Z(t[0])}),n.Coders)}return Ur({Compare:v})}V((function(){}));!function(){this instanceof qu?qu.call(this):new qu}();const fs=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function as(n,t,e,r){return is(0,function(n,t,e,r){const i=r.ResolveType(),o=Fn(n,new Pi(0,"PascalCase")),u=Fn(e,!0);let s,c;const f=an(i);let a,l;return c=String(o)+f,l=An((function(n){return n.Hash}),t),a=Fn(l,""),s=a+c,Ai(ji,s,(function(){return ss(cs(t),o,u,i)}))}(t,e,void 0,r)(n))}function ls(n,t,e,r,i){let o;const u=function(n,t,e){const r=e.ResolveType(),i=Fn(n,new Pi(0,"PascalCase"));let o,u;const s=an(r);let c,f;return u=String(i)+s,f=An((function(n){return n.Hash}),t),c=Fn(f,""),o=c+u,Ai(Di,o,(function(){return bu(Eu(t),i,!1,r)}))}(t,e,i);let s;o=Fn(j(2,r),u);const c=i;return s=function(n){return t=n,"Microsoft.FSharp.Core.Unit"===an(c.ResolveType())?new jn(0,"Ok",void 0):t();var t},Wu(0,Gu(0,(function(){var t,e;return(n.ok?Wu(0,Gu(0,(function(){return n.text().then((function(n){return Promise.resolve(s((function(){let t;if(t=Go(A(2,o),n),1===t.tag){const n=new fs(1,"DecodingFailed",t.fields[0]);return new jn(1,"Error",n)}return new jn(0,"Ok",t.fields[0])})))}))}))):(e=new fs(2,"FetchFailed",n),t=new jn(1,"Error",e),Promise.resolve(t))).then((function(n){return Promise.resolve(n)}))})))}V((function(){}));function ds(n,t,e,r,i,o,u,s,c,f){var a,l,d,h,w;try{let g,p;const m=Mi([(a=Fn(r,"GET"),new zu(0,"Method",a)),(d=Fn(o,new q),h=e,w=d,l=null!=h?new q(new Hu(11,"Content-Type","application/json"),w):w,new zu(1,"Headers",F(l,0)))]);let y;return p=function(n,t,e,r,i){let o;return o=An((function(n){let o,u;return u=as(n,t,e,r),o=new zu(2,"Body",u),new q(o,i)}),n),Fn(o,i)}(e,u,s,f,m),g=function(n,t){let e;return e=An((function(n){return Ci(t,n)}),n),Fn(e,t)}(i,p),y=Wu(0,Gu(0,(function(){return(e=n,r=g,fetch(e,F(r,1))).then((function(n){return ls(n,u,s,t,c)}));var e,r}))),y.then(void 0,(function(n){let t;return t=new fs(3,"NetworkError",n),new jn(1,"Error",t)}))}catch(n){return Wu(0,Gu(0,(function(){var t;return Promise.resolve((t=new fs(0,"PreparingRequestFailed",n),new jn(1,"Error",t)))})))}}function hs(n,t,e,r,i,o,u,s,c,a){return Wu(0,Gu(0,(function(){return ds(n,t,e,r,i,o,u,s,c,a).then((function(n){let t;if(1===n.tag)throw new Error(function(n){switch(n.tag){case 1:return"[Thoth.Fetch] Error while decoding the response:\n\n"+n.fields[0];case 2:return"[Thoth.Fetch] Request failed:\n\n"+f(n.fields[0].status)+" "+n.fields[0].statusText+" for URL "+n.fields[0].url;case 3:return"[Thoth.Fetch] A network error occured:\n\n"+n.fields[0].message;default:return"[Thoth.Fetch] Request preparation failed:\n\n"+n.fields[0].message}}(n.fields[0]));return t=n.fields[0],Promise.resolve(t)}))})))}const ws=V((function(n,t,e,r,i){this.DamageDealtTarget=n,this.SpotsTarget=t,this.FragsTarget=e,this.DefencePointsTarget=r,this.WinRateTarget=i}),J);function gs(){return en("ExpectedValues.ExpectedValues",[],ws,()=>[["DamageDealtTarget",cn],["SpotsTarget",cn],["FragsTarget",cn],["DefencePointsTarget",cn],["WinRateTarget",cn]])}const ps=(()=>{let n,t,e;return e=xu(0,(function(n,t){return iu("IDNum",A(2,Xo),n,t)}),A(3,(function(n){return xu(0,(function(n,t){return iu("expDamage",Ko,n,t)}),A(3,(function(t){return xu(0,(function(n,t){return iu("expSpot",Ko,n,t)}),A(3,(function(e){return xu(0,(function(n,t){return iu("expFrag",Ko,n,t)}),A(3,(function(r){return xu(0,(function(n,t){return iu("expDef",Ko,n,t)}),A(3,(function(i){return xu(0,(function(n,t){return iu("expWinRate",Ko,n,t)}),A(3,(function(o){return Cu(0,[new Mu(0,"VehicleId",n),new ws(t,e,r,i,o/100)])})))})))})))})))})))}))),t=function(n){return function(t){return su(A(2,e),n,t)}},n=function(n){return function(e){return iu("data",A(2,t),n,e)}},function(t){return function(e){return hu((function(n){return _r(n,{Compare:(n,t)=>n.CompareTo(t)})}),A(2,n),t,e)}}})();function ms(){return n="https://static.modxvm.com/wn8-data-exp/json/wn8exp.json",t=void 0,e=void 0,r=void 0,i=void 0,o=void 0,u=A(2,ps),hs(n,u,t,void 0,e,r,i,o,{ResolveType:()=>tn("Microsoft.FSharp.Collections.FSharpMap`2",[Tu(),gs()])},{ResolveType:()=>un});var n,t,e,r,i,o,u}function ys(n,t){return Zu([["jsonrpc","2.0"],["method",n],["params",t],["id",n]])}function vs(n,t){var e;return xu(0,A(2,(e=ku(n),function(n){return function(t){return iu("id",A(2,e),n,t)}})),A(3,(function(){return Ou(0,(function(n,e){return iu("result",t,n,e)}))})))}const bs=V((function(n){this.BattleResultsOffset=0|n}),J);function Es(n){var t,e;return e=Mi([ys("subscribe",null),(t=Zu([["after",n.BattleResultsOffset]]),ys("get_battle_results",t))]),Array.from(e)}const Ss=V((function(n,t){this.BattleResultsOffset=0|n,this.BattleResults=t}),J);const xs=V((function(n,t){this.BattleResultsOffset=0|n,this.BattleResult=t}),J);function Cs(){let n;return n=xu(0,(function(n,t){return iu("timestamp",A(2,Xo),n,t)}),A(3,(function(n){var t;return xu(0,A(2,(t=_u(),function(n){return function(e){return iu("battleResult",A(2,t),n,e)}})),A(3,(function(t){return Cu(0,new xs(n,t))})))}))),t="subscription",e=A(2,n),xu(0,A(2,(r=ku(t),function(n){return function(t){return iu("method",A(2,r),n,t)}})),A(3,(function(){return Ou(0,(function(n,t){return iu("params",e,n,t)}))})));var t,e,r}class Os{constructor(n=!1){this._id=0,this._cancelled=n,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,n]of this._listeners)n()}}addListener(n){const t=this._id;return this._listeners.set(this._id++,n),t}removeListener(n){return this._listeners.delete(n)}register(n,t){const e=this,r=this.addListener(null==t?n:()=>n(t));return{Dispose(){e.removeListener(r)}}}}class ks extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,ks.prototype)}}function Ms(n){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new ks);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{n(t)}catch(n){t.onError(n)}});else try{n(t)}catch(n){t.onError(n)}}}function Ts(n,t){return Ms(e=>{n({onSuccess:n=>{try{t(n)(e)}catch(n){e.onError(n)}},onError:e.onError,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline})})}function Bs(n){return Ms(t=>t.onSuccess(n))}new class{Bind(n,t){return Ts(n,t)}Combine(n,t){return this.Bind(n,()=>t)}Delay(n){return Ms(t=>n()(t))}For(n,t){const e=n[Symbol.iterator]();let r=e.next();return this.While(()=>!r.done,this.Delay(()=>{const n=t(r.value);return r=e.next(),n}))}Return(n){return Bs(n)}ReturnFrom(n){return n}TryFinally(n,t){return Ms(e=>{n({onSuccess:n=>{t(),e.onSuccess(n)},onError:n=>{t(),e.onError(n)},onCancel:n=>{t(),e.onCancel(n)},cancelToken:e.cancelToken,trampoline:e.trampoline})})}TryWith(n,t){return Ms(e=>{n({onSuccess:e.onSuccess,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline,onError:n=>{try{t(n)(e)}catch(n){e.onError(n)}}})})}Using(n,t){return this.TryFinally(t(n),()=>n.Dispose())}While(n,t){return n()?this.Bind(t,()=>this.While(n,t)):this.Return(void 0)}Zero(){return Ms(n=>n.onSuccess(void 0))}};new Os;function Ps(n,t){console.error(Pn(n),t)}function Rs(n,t){ki((function(t){t(n)}),t)}function Fs(){return new q}function As(n){return t=n,Ei(me((function(n,t){return bi((function(n,t){return new q(t,n)}),n,t)}),new q,t));var t}function js(n){return new q((function(t){t(n)}),new q)}V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n){this.__html=n}),J);const Ds=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Is=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Ns(n){const t=er(" ",n);return new Is(24,"ClassName",t)}const _s=V((function(){}));!function(){this instanceof _s?_s.call(this):new _s}();var Us=e(0);const Vs=V((function(n,t){this.Background=n,this.Text=t}),J);const Ls=new Vs("bg-black","text-white"),$s=new Vs("bg-r-very-bad","text-r-very-bad-fg"),qs=new Vs("bg-r-bad","text-r-bad-fg"),Gs=new Vs("bg-r-below-average","text-r-below-average-fg"),Ws=new Vs("bg-r-average","text-r-average-fg"),Hs=new Vs("bg-r-good","text-r-good-fg"),zs=new Vs("bg-r-very-good","text-r-very-good-fg"),Js=new Vs("bg-r-great","text-r-great-fg"),Zs=new Vs("bg-r-unicum","text-r-unicum-fg"),Xs=new Vs("bg-r-super-unicum","text-r-super-unicum-fg");function Ys(n,t){return S(t,n)<0?Pn(void 0):void 0}function Ks(n){if(null!=Ys(.45,n))return $s;if(null!=Ys(.47,n))return qs;if(null!=Ys(.49,n))return Gs;if(null!=Ys(.52,n))return Ws;if(null!=Ys(.54,n))return Hs;if(null!=Ys(.56,n))return zs;if(null!=Ys(.6,n))return Js;return null!=Ys(.65,n)?Zs:Xs}function Qs(n){const t=100*n;return Ke(Ye("%.0f%%"))(t)}function nc(n){if(null!=Ys(300,n))return $s;if(null!=Ys(600,n))return qs;if(null!=Ys(900,n))return Gs;if(null!=Ys(1250,n))return Ws;if(null!=Ys(1600,n))return Hs;if(null!=Ys(1900,n))return zs;if(null!=Ys(2350,n))return Js;return null!=Ys(2900,n)?Zs:Xs}function tc(n,t){let e=0,r=0,i=0,o=0,u=0,s=0,c=0,f=0,a=0,l=0;ye((function(t){if(0===t.BonusType.tag){let h;h=Ir(t.BonusType.fields[0].VehicleId,n),ye((function(n){e+=t.BonusType.fields[0].DamageDealt,r+=t.BonusType.fields[0].Spots,i+=t.BonusType.fields[0].Frags,o+=t.BonusType.fields[0].DefencePoints,u=0===t.Outcome.tag?u+1:u,s+=n.DamageDealtTarget,c+=n.SpotsTarget,f+=n.FragsTarget,a+=n.DefencePointsTarget,l+=n.WinRateTarget}),null==(d=h)?[]:[Rn(d)])}var d}),t);const d=[s,c,f,a,l];switch(0===d[0]&&0===d[1]&&0===d[2]&&0===d[3]&&0===d[4]?0:1){case 0:return;case 1:{const n=e/s,t=r/c,d=i/f,h=o/a,w=function(n,t){return(n-t)/(1-t)},g=C(v,0,w(u/l,.71)),p=C(v,0,w(n,.22)),m=C(v,0,x(v,p+.2,w(d,.12)));return 980*p+210*p*m+155*m*C(v,0,x(v,p+.1,w(t,.38)))+75*C(v,0,x(v,p+.1,w(h,.1)))*m+14.5*x(v,1.8,g)}}}function ec(n){return Ke(Ye("%.0f"))(n)}const rc=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const ic=V((function(n){this.state=new rc(0,"Writable",hi(new Array(C(v,n,10)),0,C(v,n,10),null),0)}));function oc(n){const t=n.state;if(1===t.tag){const e=(t.fields[2]+1)%t.fields[0].length|0,r=e===t.fields[1];return n.state=r?new rc(0,"Writable",t.fields[0],t.fields[1]):new rc(1,"ReadWritable",t.fields[0],t.fields[1],e),Pn(t.fields[0][t.fields[2]])}}function uc(n,t){const e=n.state;if(1===e.tag){e.fields[0][e.fields[1]]=t;const u=(e.fields[1]+1)%e.fields[0].length|0,s=u===e.fields[2];n.state=s?new rc(1,"ReadWritable",(r=e.fields[2],i=e.fields[0],o=he((function(){return ae(xe(r,i),he((function(){return ae(Oe(r,i),he((function(){return de((function(n){return we(null)}),Se(0,1,i.length))})))})))})),Array.from(o)),e.fields[0].length,0):new rc(1,"ReadWritable",e.fields[0],u,e.fields[2])}else{e.fields[0][e.fields[1]]=t;const r=(e.fields[1]+1)%e.fields[0].length|0;n.state=new rc(1,"ReadWritable",e.fields[0],r,e.fields[1])}var r,i,o}const sc=V((function(n,t,e,r,i,o,u){this.init=n,this.update=t,this.subscribe=e,this.view=r,this.setState=i,this.onError=o,this.syncDispatch=u}),J);function cc(n,t){return new sc(t.init,t.update,t.subscribe,t.view,n,t.onError,t.syncDispatch)}function fc(n){return j(2,n.view)}function ac(n,t){const e=t.init(n),r=function(n){return this instanceof ic?ic.call(this,n):new ic(n)}(10);let i=!1,o=e[0];const u=D(1,t.syncDispatch,[function(n){var e;if(i)uc(r,n);else{i=!0;let s=Pn(n);for(;null!=s;){const n=Rn(s);try{const e=t.update(n,o);t.setState(e[0],u),Rs(u,e[1]),o=e[0]}catch(r){t.onError([(e=Ke(Ye("Unable to process the message: %A")),e(n)),r])}s=oc(r)}i=!1}}]);let s;t.setState(e[0],u);try{s=t.subscribe(e[0])}catch(n){t.onError(["Unable to subscribe:",n]),s=Fs()}const c=Ci(s,e[1]);Rs(u,c)}const lc=V((function(n,t,e){this.model=n,this.render=t,this.equal=e}),J);const dc=V((function(n){Us.a.call(this,n)}),Us.a);function hc(n,t,e,r){const i=new lc(e,(function(){return t(e,r)}),n);let o;return o=dc,Us.c(o,i)}function wc(n,t,e){let r=void 0;return cc((function(i,o){if(null!=r){const n=r;window.cancelAnimationFrame(n)}r=window.requestAnimationFrame((function(r){Us.f(n((function(n,t){return n===t}),A(2,fc(e)),i,o),document.getElementById(t))}))}),e)}dc.prototype.shouldComponentUpdate=function(n,t){return!this.props.equal(this.props.model,n.model)},dc.prototype.render=function(){return this.props.render()};const gc=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function pc(){return rn("App.ConnectionState",[],gc,()=>["Connecting","Subscribed","Disconnected","ProtocolError"])}const mc=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function yc(n){return rn("App.LoadingState`1",[n],mc,()=>["Loading",["Loaded",[["Item",n]]],"Errored"])}const vc=V((function(n,t,e,r){this.ConnectionState=n,this.ExpectedValues=t,this.BattleResults=e,this.BattleResultsOffset=0|r}),J);function bc(){return en("App.Model",[],vc,()=>[["ConnectionState",pc()],["ExpectedValues",yc(tn("Microsoft.FSharp.Collections.FSharpMap`2",[Tu(),gs()]))],["BattleResults",on(Nu())],["BattleResultsOffset",sn]])}const Ec=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Sc(){return rn("App.Msg",[],Ec,()=>["Connect",["ConnectionStateChanged",[["Item",pc()]]],["GotInitResponse",[["Item",en("Protocol.InitResponse",[],Ss,()=>[["BattleResultsOffset",sn],["BattleResults",on(Nu())]])]]],["GotSubscriptionNotification",[["Item",en("Protocol.SubscriptionNotification",[],xs,()=>[["BattleResultsOffset",sn],["BattleResult",Nu()]])]]],"FetchExpectedValues",["GotExpectedValues",[["Item",tn("Microsoft.FSharp.Collections.FSharpMap`2",[Tu(),gs()])]]],"FetchingExpectedValuesErrored"])}function xc(n,t){const e=new WebSocket("ws://localhost:15455"),r=function(){e.onclose=function(n){},e.close(),t(new Ec(1,"ConnectionStateChanged",new gc(3,"ProtocolError")))};e.onopen=function(t){let r,i,o;r=void 0;o=Es(new bs(n)),i=is(0,o),e.send(i)},e.onclose=function(n){let e;e=void 0,t(new Ec(1,"ConnectionStateChanged",new gc(2,"Disconnected")))},e.onmessage=function(n){let i,o,u;u=n.data;const s=function(){var n;let t;return t=xu(0,(function(n,t){return iu("end",A(2,Xo),n,t)}),A(3,(function(n){var t,e;return xu(0,A(2,(e=_u(),t=function(n){return function(t){return su(A(2,e),n,t)}},function(n){return function(e){return iu("battleResults",A(2,t),n,e)}})),A(3,(function(t){return Cu(0,new Ss(n,t))})))}))),xu(0,A(2,(n=vs("subscribe",(function(n,t){return au(void 0)})),function(t){return function(e){return uu(0,A(2,n),t,e)}})),A(3,(function(){var n;return Ou(0,A(2,(n=vs("get_battle_results",A(2,t)),function(t){return function(e){return uu(1,A(2,n),t,e)}})))})))}();return o=Go(A(2,s),u),i=Dn((function(n){e.onmessage=function(n){let e,i,o;o=n.data;return i=Go(A(2,Cs()),o),e=Dn((function(n){t(new Ec(3,"GotSubscriptionNotification",n))}),i),In((function(n){r()}),e)},t(new Ec(1,"ConnectionStateChanged",new gc(1,"Subscribed"))),t(new Ec(2,"GotInitResponse",n))}),o),In((function(n){r()}),i)},t(new Ec(1,"ConnectionStateChanged",new gc(0,"Connecting")))}function Cc(){var n,t;return[new vc(new gc(2,"Disconnected"),new mc(0,"Loading"),new q,0),As(Mi([(n=new Ec(0,"Connect"),js(n)),(t=new Ec(4,"FetchExpectedValues"),js(t))]))]}function Oc(n,t){var e,r,i,o,u,s,c,f,a,l;switch(n.tag){case 1:return[new vc(n.fields[0],t.ExpectedValues,t.BattleResults,t.BattleResultsOffset),Fs()];case 3:return[(e=Ci(t.BattleResults,new q(n.fields[0].BattleResult,new q)),new vc(t.ConnectionState,t.ExpectedValues,e,n.fields[0].BattleResultsOffset)),Fs()];case 2:return[(r=Ci(t.BattleResults,n.fields[0].BattleResults),new vc(t.ConnectionState,t.ExpectedValues,r,n.fields[0].BattleResultsOffset)),Fs()];case 4:return[(i=new mc(0,"Loading"),new vc(t.ConnectionState,i,t.BattleResults,t.BattleResultsOffset)),(c=function(){return ms()},f=void 0,a=function(n){return new Ec(5,"GotExpectedValues",n)},l=function(n){return new Ec(6,"FetchingExpectedValuesErrored")},new q((function(n){c(f).then((function(t){return n(a(t))})).catch((function(t){return n(l(t))}))}),new q))];case 5:return[(o=new mc(1,"Loaded",n.fields[0]),new vc(t.ConnectionState,o,t.BattleResults,t.BattleResultsOffset)),Fs()];case 6:return[(u=new mc(2,"Errored"),new vc(t.ConnectionState,u,t.BattleResults,t.BattleResultsOffset)),Fs()];default:return 2===t.ConnectionState.tag?[t,(s=function(n){xc(t.BattleResultsOffset,n)},new q(s,new q))]:[t,Fs()]}}function kc(n,t){var e,r,i,o,u,s,c,f,a,l,d,h,w,g,p,m,y,v,b,E;const S=function(n,e){const r=[new Ds(40,"OnClick",(function(n){t(e)})),Ns(["bg-gray-100","hover:bg-gray-300","text-sm","py-1","px-4","border-solid","border-2","border-gray-300","rounded"])],i=[n];return Us.c("button",F(r,1),...i)};if(0===n.ConnectionState.tag){const n=[Ns(["bg-blue-400","p-2"])],t=[(e=[],r=["Connecting to battle results server ",(i=[new Is(24,"ClassName","font-bold")],o=["..."],Us.c("span",F(i,1),...o))],Us.c("h3",F(e,1),...r))];return Us.c("aside",F(n,1),...t)}if(2===n.ConnectionState.tag){const n=[Ns(["bg-red-600","p-2","space-x-8","flex","items-center"])],t=[(u=[new Is(24,"ClassName","flex-grow")],s=[(c=[new Is(24,"ClassName","font-bold")],f=["Disconnected."],Us.c("h3",F(c,1),...f)),(a=[],l=["Could not connect to the battle results server. Please make sure that WoT is running and that the ",(d=[new Is(54,"Href","https://wgmods.net/4662/"),new Is(24,"ClassName","underline")],h=["Battle Results Server"],Us.c("a",F(d,1),...h))," mod is installed correctly."],Us.c("p",F(a,1),...l))],Us.c("div",F(u,1),...s)),S("Connect",new Ec(0,"Connect"))];return Us.c("aside",F(n,1),...t)}if(3===n.ConnectionState.tag){const n=[Ns(["bg-red-600","p-2"])],t=[(w=[new Is(24,"ClassName","font-bold")],g=["Oh no."],Us.c("h3",F(w,1),...g)),(p=[],m=["Something went wrong. Please make sure that the the latest version of the ",(y=[new Is(54,"Href","https://wgmods.net/4662/"),new Is(24,"ClassName","underline")],v=["Battle Results Server"],Us.c("a",F(y,1),...v))," mod is installed."],Us.c("p",F(p,1),...m))];return Us.c("aside",F(n,1),...t)}if(2===n.ExpectedValues.tag){const n=[Ns(["bg-red-600","p-2","space-x-8","flex","items-center"])],t=[(b=[new Is(24,"ClassName","flex-grow")],E=["Could not fetch expected values for WN8 calculation."],Us.c("h3",F(b,1),...E)),S("Retry",new Ec(4,"FetchExpectedValues"))];return Us.c("aside",F(n,1),...t)}return null}function Mc(n){var t,e,r,i,o,u;let s;s=Ti(Vu,n.BattleResults);const c=function(n){if(null!=n.tail){return xi(Ti(Uu,n))/xi(n)}}(s);let f,a,l,d;a=An(Ks,c),f=Fn(a,Ls),d=An(Qs,c),l=Fn(d,"N/A");const h=[Ns(["col-span-1","row-span-1",f.Background,"flex","items-center","justify-center"])],w=[(t=[Ns(["text-center",f.Text,"leading-tight"])],e=[(r=[new Is(24,"ClassName","text-xl")],i=["Win Rate"],Us.c("h2",F(r,1),...i)),(o=[new Is(24,"ClassName","text-6xl")],u=[l],Us.c("p",F(o,1),...u))],Us.c("div",F(t,1),...e))];return Us.c("section",F(h,1),...w)}function Tc(n){var t,e,r,i,o,u;const s=1===n.ExpectedValues.tag?tc(n.ExpectedValues.fields[0],n.BattleResults):void 0;let c,f,a,l;f=An(nc,s),c=Fn(f,Ls),l=An(ec,s),a=Fn(l,"N/A");const d=[Ns(["col-span-1","row-span-1",c.Background,"flex","items-center","justify-center"])],h=[(t=[Ns(["text-center",c.Text,"leading-tight"])],e=[(r=[new Is(24,"ClassName","text-xl")],i=["WN8"],Us.c("h2",F(r,1),...i)),(o=[new Is(24,"ClassName","text-6xl")],u=[a],Us.c("p",F(o,1),...u))],Us.c("div",F(t,1),...e))];return Us.c("section",F(d,1),...h)}function Bc(n){var t,e,r,i,o,u,s,c;let f,a;a=Oi($u,n.BattleResults),f=bi((function(n,t){return n+t}),0,a);const l=[Ns(["col-span-1","row-span-1","bg-white","flex","items-center","justify-center"])],d=[(t=[Ns(["text-center","text-black","leading-tight"])],e=[(r=[new Is(24,"ClassName","text-xl")],i=["Net Credits"],Us.c("h2",F(r,1),...i)),(o=[new Is(24,"ClassName","text-6xl")],u=[(c=Ke(Ye("%d")),s=c(f),s)],Us.c("p",F(o,1),...u))],Us.c("div",F(t,1),...e))];return Us.c("section",F(l,1),...d)}function Pc(n,t){var e,r,i,o,u,s;const c=[kc(n,t),(e=[Ns(["bg-gray-900","text-white","p-2"])],r=[(i=[],o=["WoT Session Dashboard"],Us.c("h1",F(i,1),...o))],Us.c("header",F(e,1),...r)),(u=[Ns(["grid","grid-flow-row-dense","grid-rows-h-48","grid-cols-fill-w-64"])],s=[Mc(n),Tc(n),Bc(n)],Us.c("main",F(u,1),...s))];return Us.c(Us.b,F([],1),...c)}!function(){let n;const t=new sc((function(){return Cc()}),Oc,(function(n){return Fs()}),e=Pc,(function(n,t){e(n,t)}),(function(n){Ps(n[0],n[1])}),A(2,(function(n){return n})));var e;n=wc(hc,"elmish-app",t),ac(void 0,n)}()}]);
//# sourceMappingURL=main.954a6ef0ea32fbfd9706.js.map