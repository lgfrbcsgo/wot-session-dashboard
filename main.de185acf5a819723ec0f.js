!function(n){function t(t){for(var r,u,s=t[0],c=t[1],f=t[2],l=0,d=[];l<s.length;l++)u=s[l],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(a&&a(t);d.length;)d.shift()();return o.push.apply(o,f||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],r=!0,s=1;s<e.length;s++){var c=e[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),n=u(u.s=e[0]))}return n}var r={},i={0:0},o=[];function u(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.m=n,u.c=r,u.d=function(n,t,e){u.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},u.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},u.t=function(n,t){if(1&t&&(n=u(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(u.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)u.d(e,r,function(t){return n[t]}.bind(null,r));return e},u.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return u.d(t,"a",t),t},u.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u.p="/wot-session-dashboard/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var a=c;o.push([1,1]),e()}([,function(n,t,e){e(3),n.exports=e(2)},function(n,t,e){},function(n,t,e){"use strict";function r(n){return null!=n&&(Array.isArray(n)||ArrayBuffer.isView(n))}function i(n){return null!=n&&"function"==typeof n.Dispose}e.r(t),e.d(t,"ConnectionState",(function(){return Qs})),e.d(t,"ConnectionState$reflection",(function(){return nc})),e.d(t,"LoadingState$00601",(function(){return tc})),e.d(t,"LoadingState$00601$reflection",(function(){return ec})),e.d(t,"Model",(function(){return rc})),e.d(t,"Model$reflection",(function(){return ic})),e.d(t,"Msg",(function(){return oc})),e.d(t,"Msg$reflection",(function(){return uc})),e.d(t,"connectToServer",(function(){return sc})),e.d(t,"init",(function(){return cc})),e.d(t,"update",(function(){return fc})),e.d(t,"viewStatusBar",(function(){return ac})),e.d(t,"viewWinRateWidget",(function(){return lc})),e.d(t,"viewWn8Widget",(function(){return dc})),e.d(t,"view",(function(){return hc}));function o(n,t,e){return n.has(t)?[!0,n.get(t)]:[!1,e]}class u{constructor(n){this.factory=n,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function s(n,t){let e=n.toString(10);for(;e.length<t;)e="0"+e;return e}function c(n){const t=n;return"number"==typeof t.offset?t.offset:1===n.kind?0:-6e4*n.getTimezoneOffset()}function f(n,t){return(n=n<0&&null!=t&&10!==t?4294967295+n+1:n).toString(t)}class a{static id(n){return a.idMap.has(n)||a.idMap.set(n,++a.count),a.idMap.get(n)}}function l(n){let t=0,e=5381;const r=n.length;for(;t<r;)e=33*e^n.charCodeAt(t++);return e}function d(n){return 2654435761*n|0}function h(n){return 0===n.length?0:n.reduce((n,t)=>(n<<5)+n^t)}function w(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return d(n);case"string":return l(n);default:if(function(n){return null!=n&&"function"==typeof n.GetHashCode}(n))return n.GetHashCode();if(r(n)){const t=n.length,e=new Array(t);for(let r=0;r<t;r++)e[r]=w(n[r]);return h(e)}return l(String(n))}}function g(n,t,e){if(null==n)return null==t;if(null==t)return!1;if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}function p(n,t){return g(n,t,m)}function m(n,t){return n===t||(null==n?null==t:null!=t&&("object"==typeof n&&(function(n){return null!=n&&"function"==typeof n.Equals}(n)?n.Equals(t):r(n)?r(t)&&p(n,t):n instanceof Date&&(t instanceof Date&&0===y(n,t)))))}function y(n,t){let e,r;return"offset"in n&&"offset"in t?(e=n.getTime(),r=t.getTime()):(e=n.getTime()+c(n),r=t.getTime()+c(t)),e===r?0:e<r?-1:1}function v(n,t){return n===t?0:n<t?-1:1}function b(n,t,e){if(null==n)return null==t?0:1;if(null==t)return-1;if(n.length!==t.length)return n.length<t.length?-1:1;for(let r=0,i=0;r<n.length;r++)if(i=e(n[r],t[r]),0!==i)return i;return 0}function S(n,t){return b(n,t,E)}function E(n,t){return n===t?0:null==n?null==t?0:-1:null==t?1:"object"!=typeof n?n<t?-1:1:function(n){return null!=n&&"function"==typeof n.CompareTo}(n)?n.CompareTo(t):r(n)&&r(t)?S(n,t):n instanceof Date&&t instanceof Date?y(n,t):1}function x(n,t,e){return n(t,e)<0?t:e}function O(n,t,e){return n(t,e)>0?t:e}a.idMap=new WeakMap,a.count=0;const C=0,k=1,M=2,P=3,T=4;function B(n,t){return n.replace(/[a-z]?[A-Z]/g,n=>1===n.length?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function F(n,t){switch(t){case k:return n.charAt(0).toLowerCase()+n.slice(1);case M:return B(n,"_");case P:return B(n,"_").toUpperCase();case T:return B(n,"-");case C:default:return n}}function R(n,t=C){function e(n){throw new Error("Cannot infer key and value of "+String(n))}const r={},i=t;for(let t of n){let n=C;if(null==t&&e(t),"function"==typeof t.toJSON&&(t=t.toJSON(),n=i),Array.isArray(t))switch(t.length){case 0:e(t);break;case 1:r[F(t[0],n)]=!0;break;case 2:const i=t[1];r[F(t[0],n)]=i;break;default:r[F(t[0],n)]=t.slice(1)}else"string"==typeof t?r[F(t,n)]=!0:e(t)}return r}function j(n,t){if(null==t)return;if(t.length>1)return t;let e;switch(n){case 2:e=(n,e)=>t(n)(e);break;case 3:e=(n,e,r)=>t(n)(e)(r);break;case 4:e=(n,e,r,i)=>t(n)(e)(r)(i);break;case 5:e=(n,e,r,i,o)=>t(n)(e)(r)(i)(o);break;case 6:e=(n,e,r,i,o,u)=>t(n)(e)(r)(i)(o)(u);break;case 7:e=(n,e,r,i,o,u,s)=>t(n)(e)(r)(i)(o)(u)(s);break;case 8:e=(n,e,r,i,o,u,s,c)=>t(n)(e)(r)(i)(o)(u)(s)(c);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+n)}return e.__CURRIED__=t,e}function A(n,t){if(null!=t){if("__CURRIED__"in t)return t.__CURRIED__;switch(n){case 2:return n=>e=>t(n,e);case 3:return n=>e=>r=>t(n,e,r);case 4:return n=>e=>r=>i=>t(n,e,r,i);case 5:return n=>e=>r=>i=>o=>t(n,e,r,i,o);case 6:return n=>e=>r=>i=>o=>u=>t(n,e,r,i,o,u);case 7:return n=>e=>r=>i=>o=>u=>s=>t(n,e,r,i,o,u,s);case 8:return n=>e=>r=>i=>o=>u=>s=>c=>t(n,e,r,i,o,u,s,c);default:throw new Error("Currying to more than 8-arity is not supported: "+n)}}}function D(n,t,e){if(null!=t){if("__CURRIED__"in t){t=t.__CURRIED__;for(let n=0;n<e.length;n++)t=t(e[n]);return t}switch(n){case 1:return n=>t.apply(void 0,e.concat([n]));case 2:return n=>r=>t.apply(void 0,e.concat([n,r]));case 3:return n=>r=>i=>t.apply(void 0,e.concat([n,r,i]));case 4:return n=>r=>i=>o=>t.apply(void 0,e.concat([n,r,i,o]));case 5:return n=>r=>i=>o=>u=>t.apply(void 0,e.concat([n,r,i,o,u]));case 6:return n=>r=>i=>o=>u=>s=>t.apply(void 0,e.concat([n,r,i,o,u,s]));case 7:return n=>r=>i=>o=>u=>s=>c=>t.apply(void 0,e.concat([n,r,i,o,u,s,c]));case 8:return n=>r=>i=>o=>u=>s=>c=>f=>t.apply(void 0,e.concat([n,r,i,o,u,s,c,f]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+n)}}}function I(n,t){return e=>function n(t,e,r,i){const o=r[i];if(0!==o){const n=o[0],t=o[1];n>1&&(e=A(n,e)),t>1&&(e=j(t,e))}const u=t(e);return i+1===r.length?u:t=>n(u,t,r,i+1)}(n,e,t,0)}function N(n,t,e){if(n.has(t))throw new Error("An item with the same key has already been added. Key: "+t);n.set(t,e)}function _(n,t){if(n.has(t))return n.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}function U(n,t){return null!=t&&Object.getPrototypeOf(n).constructor===Object.getPrototypeOf(t).constructor}function V(n,t){return function(n,t){n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}(n,t||L),n}class L{toString(){return"{"+Object.entries(this).map(([n,t])=>n+" = "+String(t)).join(";\n ")+"}"}GetHashCode(){return function(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return d(n);case"string":return l(n);default:return d(a.id(n))}}(this)}Equals(n){return this===n}}function $(n,t){if(n===t)return 0;if(null==t)return-1;for(;null!=n.tail;){if(null==t.tail)return 1;const e=E(n.head,t.head);if(0!==e)return e;n=n.tail,t=t.tail}return null==t.tail?0:-1}class q{constructor(n,t){this.head=n,this.tail=t}toString(){return"["+Array.from(this).join("; ")+"]"}toJSON(){return Array.from(this)}[Symbol.iterator](){let n=this;return{next:()=>{const t=null==n?void 0:n.head,e=null==(null==n?void 0:n.tail);return n=null==n?void 0:n.tail,{done:e,value:t}}}}GetHashCode(){return h(Array.from(this).map(w))}Equals(n){return 0===$(this,n)}CompareTo(n){return $(this,n)}}class G extends L{constructor(n,t,...e){super(),this.tag=0|n,this.name=t,this.fields=e}toString(){const n=this.fields.length;return 0===n?this.name:1===n?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(n=>String(n)).join(",")+")"}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}GetHashCode(){const n=this.fields.map(n=>w(n));return n.splice(0,0,d(this.tag)),h(n)}Equals(n){return this===n||U(this,n)&&this.tag===n.tag&&p(this.fields,n.fields)}CompareTo(n){return this===n?0:U(this,n)?this.tag===n.tag?S(this.fields,n.fields):this.tag<n.tag?-1:1:-1}}function H(n,t){const e={},r=null==t?Object.keys(n):t(n);for(let t=0;t<r.length;t++)e[r[t]]=n[r[t]];return e}function W(n,t,e){if(n===t)return!0;if(U(n,t)){const r=null==e?Object.keys(n):e(n);for(let e=0;e<r.length;e++)if(!m(n[r[e]],t[r[e]]))return!1;return!0}return!1}function z(n,t,e){if(n===t)return 0;if(U(n,t)){const r=null==e?Object.keys(n):e(n);for(let e=0;e<r.length;e++){const i=E(n[r[e]],t[r[e]]);if(0!==i)return i}return 0}return-1}class J extends L{toString(){return"{"+Object.entries(this).map(([n,t])=>n+" = "+String(t)).join(";\n ")+"}"}toJSON(){return H(this)}GetHashCode(){return h(Object.values(this).map(n=>w(n)))}Equals(n){return W(this,n)}CompareTo(n){return z(this,n)}}class Z extends J{constructor(n){super(),this.contents=n}}V((function(n){this.stack=Error().stack,this.message=n}),L);V((function(){}),L);class X{constructor(n,t,e,r){this.declaringType=n,this.tag=t,this.name=e,this.fields=r}}class Y{constructor(n,t,e,r,i,o){this.fullname=n,this.generics=t,this.construct=e,this.fields=r,this.cases=i,this.enumCases=o}toString(){return an(this)}Equals(n){return Q(this,n)}CompareTo(n){return nn(this,n)}}function K(n){return null!=n.generics?n.generics:[]}function Q(n,t){return""===n.fullname?""===t.fullname&&g(Sn(n),Sn(t),([n,t],[e,r])=>n===e&&Q(t,r)):n.fullname===t.fullname&&g(K(n),K(t),Q)}function nn(n,t){return n.fullname!==t.fullname?n.fullname<t.fullname?-1:1:b(K(n),K(t),nn)}function tn(n,t,e){return new Y(n,t,e)}function en(n,t,e,r){return new Y(n,t,e,r)}function rn(n,t,e,r){const i=new Y(n,t,e,void 0,()=>r().map((n,t)=>"string"==typeof n?new X(i,t,n):new X(i,t,n[0],n[1])));return i}function on(n){return new Y("Microsoft.FSharp.Collections.FSharpList`1",[n])}const un=new Y("System.Object"),sn=(new Y("Microsoft.FSharp.Core.Unit"),new Y("System.Char"),new Y("System.String"),new Y("System.Boolean"),new Y("System.SByte"),new Y("System.Byte"),new Y("System.Int16"),new Y("System.UInt16"),new Y("System.Int32")),cn=(new Y("System.UInt32"),new Y("System.Single"),new Y("System.Double"));new Y("System.Decimal");function fn(n){if(Array.isArray(n))return n[0];if(n instanceof X)return n.name;{const t=n.fullname.lastIndexOf(".");return-1===t?n.fullname:n.fullname.substr(t+1)}}function an(n){const t=null==n.generics||ln(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>an(n)).join(",")+"]":n.fullname}function ln(n){return n.fullname.endsWith("[]")}function dn(n){var t;return ln(n)?null===(t=n.generics)||void 0===t?void 0:t[0]:void 0}function hn(n){return null!=n.generics&&n.generics.length>0}function wn(n){return null!=n.enumCases&&n.enumCases.length>0}function gn(n){return null==n.generics?n:new Y(n.fullname,n.generics.map(()=>un))}function pn(n){var t;return null===(t=n.generics)||void 0===t?void 0:t[0]}function mn(n){if(wn(n)&&null!=n.enumCases)return n.enumCases.map(n=>n[1]);throw new Error(n.fullname+" is not an enum type")}function yn(n,t){if(null!=n.enumCases){if("string"==typeof t){for(const e of n.enumCases)if(e[0]===t)return e;throw new Error(`'${t}' was not found in ${n.fullname}`)}for(const e of n.enumCases)if(e[1]===t)return e;return["",t]}throw new Error(n.fullname+" is not an enum type")}function vn(n,t){const e=parseInt(t,10);return yn(n,isNaN(e)?t:e)[1]}function bn(n){if(null!=n.cases)return n.cases();throw new Error(n.fullname+" is not an F# union type")}function Sn(n){if(null!=n.fields)return n.fields();throw new Error(n.fullname+" is not an F# record type")}function En(n){if(Cn(n)&&null!=n.generics)return n.generics;throw new Error(n.fullname+" is not a tuple type")}function xn(n){return n instanceof Y?null!=n.cases:n instanceof G}function On(n){return n instanceof Y?null!=n.fields:n instanceof J}function Cn(n){return n.fullname.startsWith("System.Tuple")}function kn(n){return null==n.fields?[]:n.fields}function Mn(n,t){const e=(n.fields||[]).length;if(t.length!==e)throw new Error(`Expected an array of length ${e} but got ${t.length}`);return null!=n.declaringType.construct?new n.declaringType.construct(n.tag,n.name,...t):{}}function Pn(n,t){const e=Sn(n);if(e.length!==t.length)throw new Error(`Expected an array of length ${e.length} but got ${t.length}`);return null!=n.construct?new n.construct(...t):(r=e.reduce((n,[e,r],i)=>(n[e]=t[i],n),{}),Object.assign(Object.create(J.prototype),r));var r}var Tn;function Bn(n,t){switch(t){case 8:return n?[0,255]:[-128,127];case 16:return n?[0,65535]:[-32768,32767];case 32:return n?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Fn(n,t,e){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(n.replace(/_/g,""));if(null!=r){const[,,n,i]=r;if(!function(n){switch(n){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(e=e||function(n,t){if(t&Tn.AllowHexSpecifier)return 16;switch(n){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(n,t)).test(i))return function(n,t){const[,e,r,i]=n;return{sign:e||"",prefix:r||"",digits:i,radix:t}}(r,e)}return null}function Rn(n,t,e,r){try{return[!0,function(n,t,e,r,i){const o=Fn(n,t,i);if(null!=o){let n=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(n)){const[t,i]=Bn(!0,r);!e&&10!==o.radix&&n>=t&&n<=i&&(n=n<<32-r>>32-r);const[u,s]=Bn(e,r);if(n>=u&&n<=s)return n}}throw new Error("Input string was not in a correct format.")}(n,t,e,r)]}catch(n){}return[!1,0]}function jn(n){return-2147483648===n?n:-n}!function(n){n[n.AllowHexSpecifier=512]="AllowHexSpecifier"}(Tn||(Tn={}));var An=null;try{An=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function Dn(n,t,e){this.low=0|n,this.high=0|t,this.unsigned=!!e}function In(n){return!0===(n&&n.__isLong__)}Dn.prototype.GetHashCode=function(){let n=this.unsigned?1:0;return n=(n<<5)+n^this.high,n=(n<<5)+n^this.low,n},Dn.prototype.Equals=function(n){return ft(this,n)},Dn.prototype.CompareTo=function(n){return ht(this,n)},Dn.prototype.toString=function(n){return ot(this,n)},Dn.prototype.toJSON=function(){return ot(this)},Dn.prototype.__isLong__,Object.defineProperty(Dn.prototype,"__isLong__",{value:!0});var Nn={},_n={};function Un(n,t){var e,r,i;return t?(i=0<=(n>>>=0)&&n<256)&&(r=_n[n])?r:(e=Ln(n,(0|n)<0?-1:0,!0),i&&(_n[n]=e),e):(i=-128<=(n|=0)&&n<128)&&(r=Nn[n])?r:(e=Ln(n,n<0?-1:0,!1),i&&(Nn[n]=e),e)}function Vn(n,t){if(isNaN(n))return t?Xn:Zn;if(t){if(n<0)return Xn;if(n>=Wn)return tt}else{if(n<=-zn)return et;if(n+1>=zn)return nt}return n<0?wt(Vn(-n,t)):Ln(n%Hn|0,n/Hn|0,t)}function Ln(n,t,e){return new Dn(n,t,e)}var $n=Math.pow;function qn(n,t,e){if(0===n.length)throw Error("empty string");if("NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return Zn;if("number"==typeof t?(e=t,t=!1):t=!!t,(e=e||10)<2||36<e)throw RangeError("radix");var r=n.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return wt(qn(n.substring(1),t,e));for(var i=Vn($n(e,8)),o=Zn,u=0;u<n.length;u+=8){var s=Math.min(8,n.length-u),c=parseInt(n.substring(u,u+s),e);if(s<8)o=gt(mt(o,Vn($n(e,s))),Vn(c));else o=gt(o=mt(o,i),Vn(c))}return o.unsigned=t,o}function Gn(n,t){return"number"==typeof n?Vn(n,t):"string"==typeof n?qn(n,t):Ln(n.low,n.high,"boolean"==typeof t?t:n.unsigned)}var Hn=4294967296,Wn=Hn*Hn,zn=Wn/2,Jn=Un(1<<24),Zn=Un(0),Xn=Un(0,!0),Yn=Un(1),Kn=Un(1,!0),Qn=Un(-1),nt=Ln(-1,2147483647,!1),tt=Ln(-1,-1,!0),et=Ln(0,-2147483648,!1);function rt(n){return n.unsigned?n.low>>>0:n.low}function it(n){return n.unsigned?(n.high>>>0)*Hn+(n.low>>>0):n.high*Hn+(n.low>>>0)}function ot(n,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(ut(n))return"0";if(st(n)){if(ft(n,et)){var e=Vn(t),r=yt(n,e),i=pt(mt(r,e),n);return ot(r,t)+rt(i).toString(t)}return"-"+ot(wt(n),t)}for(var o=Vn($n(t,6),n.unsigned),u=n,s="";;){var c=yt(u,o),f=(rt(pt(u,mt(c,o)))>>>0).toString(t);if(ut(u=c))return f+s;for(;f.length<6;)f="0"+f;s=""+f+s}}function ut(n){return 0===n.high&&0===n.low}function st(n){return!n.unsigned&&n.high<0}function ct(n){return 1==(1&n.low)}function ft(n,t){return In(t)||(t=Gn(t)),(n.unsigned===t.unsigned||n.high>>>31!=1||t.high>>>31!=1)&&(n.high===t.high&&n.low===t.low)}function at(n,t){return ht(n,t)<0}function lt(n,t){return ht(n,t)>0}function dt(n,t){return ht(n,t)>=0}function ht(n,t){if(In(t)||(t=Gn(t)),ft(n,t))return 0;var e=st(n),r=st(t);return e&&!r?-1:!e&&r?1:n.unsigned?t.high>>>0>n.high>>>0||t.high===n.high&&t.low>>>0>n.low>>>0?-1:1:st(pt(n,t))?-1:1}function wt(n){return!n.unsigned&&ft(n,et)?et:gt(vt(n),Yn)}function gt(n,t){In(t)||(t=Gn(t));var e=n.high>>>16,r=65535&n.high,i=n.low>>>16,o=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=0,a=0,l=0,d=0;return l+=(d+=o+(65535&t.low))>>>16,a+=(l+=i+c)>>>16,f+=(a+=r+s)>>>16,f+=e+u,Ln((l&=65535)<<16|(d&=65535),(f&=65535)<<16|(a&=65535),n.unsigned)}function pt(n,t){return In(t)||(t=Gn(t)),gt(n,wt(t))}function mt(n,t){if(ut(n))return n.unsigned?Xn:Zn;if(In(t)||(t=Gn(t)),An)return Ln(An.mul(n.low,n.high,t.low,t.high),An.get_high(),n.unsigned);if(ut(t))return n.unsigned?Xn:Zn;if(ft(n,et))return ct(t)?et:Zn;if(ft(t,et))return ct(n)?et:Zn;if(st(n))return st(t)?mt(wt(n),wt(t)):wt(mt(wt(n),t));if(st(t))return wt(mt(n,wt(t)));if(at(n,Jn)&&at(t,Jn))return Vn(it(n)*it(t),n.unsigned);var e=n.high>>>16,r=65535&n.high,i=n.low>>>16,o=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,f=65535&t.low,a=0,l=0,d=0,h=0;return d+=(h+=o*f)>>>16,l+=(d+=i*f)>>>16,d&=65535,l+=(d+=o*c)>>>16,a+=(l+=r*f)>>>16,l&=65535,a+=(l+=i*c)>>>16,l&=65535,a+=(l+=o*s)>>>16,a+=e*f+r*c+i*s+o*u,Ln((d&=65535)<<16|(h&=65535),(a&=65535)<<16|(l&=65535),n.unsigned)}function yt(n,t){if(In(t)||(t=Gn(t)),ut(t))throw Error("division by zero");var e,r,i;if(An)return n.unsigned||-2147483648!==n.high||-1!==t.low||-1!==t.high?Ln((n.unsigned?An.div_u:An.div_s)(n.low,n.high,t.low,t.high),An.get_high(),n.unsigned):n;if(ut(n))return n.unsigned?Xn:Zn;if(n.unsigned){if(t.unsigned||(t=function(n){return n.unsigned?n:Ln(n.low,n.high,!0)}(t)),lt(t,n))return Xn;if(lt(t,Et(n,1)))return Kn;i=Xn}else{if(ft(n,et))return ft(t,Yn)||ft(t,Qn)?et:ft(t,et)?Yn:ft(e=bt(yt(St(n,1),t),1),Zn)?st(t)?Yn:Qn:i=gt(e,yt(r=pt(n,mt(t,e)),t));if(ft(t,et))return n.unsigned?Xn:Zn;if(st(n))return st(t)?yt(wt(n),wt(t)):wt(yt(wt(n),t));if(st(t))return wt(yt(n,wt(t)));i=Zn}for(r=n;dt(r,t);){e=Math.max(1,Math.floor(it(r)/it(t)));for(var o=Math.ceil(Math.log(e)/Math.LN2),u=o<=48?1:$n(2,o-48),s=Vn(e),c=mt(s,t);st(c)||lt(c,r);)c=mt(s=Vn(e-=u,n.unsigned),t);ut(s)&&(s=Yn),i=gt(i,s),r=pt(r,c)}return i}function vt(n){return Ln(~n.low,~n.high,n.unsigned)}function bt(n,t){return In(t)&&(t=rt(t)),0==(t&=63)?n:t<32?Ln(n.low<<t,n.high<<t|n.low>>>32-t,n.unsigned):Ln(0,n.low<<t-32,n.unsigned)}function St(n,t){return In(t)&&(t=rt(t)),0==(t&=63)?n:t<32?Ln(n.low>>>t|n.high<<32-t,n.high>>t,n.unsigned):Ln(n.high>>t-32,n.high>=0?0:-1,n.unsigned)}function Et(n,t){if(In(t)&&(t=rt(t)),0===(t&=63))return n;var e=n.high;return t<32?Ln(n.low>>>t|e<<32-t,e>>>t,n.unsigned):Ln(32===t?e:e>>>t-32,0,n.unsigned)}var xt=Dn;const Ot=gt,Ct=mt,kt=yt,Mt=function(n,t){return In(t)||(t=Gn(t)),An?Ln((n.unsigned?An.rem_u:An.rem_s)(n.low,n.high,t.low,t.high),An.get_high(),n.unsigned):pt(n,mt(yt(n,t),t))},Pt=wt,Tt=function(n,t){return In(t)||(t=Gn(t)),Ln(n.low&t.low,n.high&t.high,n.unsigned)},Bt=ht,Ft=Ln,Rt=function(n,t,e){return e?function(n,t){return new Dn(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)}(n,t):function(n,t){return new Dn(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)}(n,t)},jt=Vn,At=rt,Dt=function(n,t){return t?function(n){var t=n.high,e=n.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(n):function(n){var t=n.high,e=n.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]}(n)},It=it,Nt=ot;function _t(n,t,e){let r=n,i=0;switch(e){case 0:r=n<<24>>24,i=r;break;case 4:r=n<<24>>>24;break;case 1:r=n<<16>>16,i=r;break;case 5:r=n<<16>>>16;break;case 2:r=n>>0,i=r;break;case 6:r=n>>>0}return Ln(r,i>>31,t)}function Ut(n,t,e,r,i){const o=Fn(n,t,i);if(null!=o){const t=(n,t)=>{const e=Math.max(n.length,t.length);return n.padStart(e,"0")<=t.padStart(e,"0")},r="-"===o.sign,i=function(n,t,e){switch(t){case 2:return n?"1111111111111111111111111111111111111111111111111111111111111111":e?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return n?"1777777777777777777777":e?"1000000000000000000000":"777777777777777777777";case 10:return n?"18446744073709551615":e?"9223372036854775808":"9223372036854775807";case 16:return n?"FFFFFFFFFFFFFFFF":e?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(e||10!==o.radix,o.radix,r);if(t(o.digits.toUpperCase(),i))return qn(n=r?o.sign+o.digits:o.digits,e,o.radix)}throw new Error("Input string was not in a correct format.")}function Vt(n,t,e,r){try{return[!0,Ut(n,t,e)]}catch(n){}return[!1,Zn]}const Lt=/(?:Z|[+-](\d+):?([0-5]?\d)?)\s*$/;function $t(n){const t=n<0,e=(n=Math.abs(n))%36e5/6e4;return(t?"-":"+")+s(~~(n/36e5),2)+":"+s(e,2)}function qt(n,t){const e=n.toISOString();return"first"===t?e.substring(0,e.indexOf("T")):e.substring(e.indexOf("T")+1,e.length-1)}function Gt(n,t,e){return t.replace(/(\w)\1*/g,t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const i=e?n.getUTCFullYear():n.getFullYear();r=t.length<4?i%100:i;break;case"M":r=(e?n.getUTCMonth():n.getMonth())+1;break;case"d":r=e?n.getUTCDate():n.getDate();break;case"H":r=e?n.getUTCHours():n.getHours();break;case"h":const o=e?n.getUTCHours():n.getHours();r=o>12?o%12:o;break;case"m":r=e?n.getUTCMinutes():n.getMinutes();break;case"s":r=e?n.getUTCSeconds():n.getSeconds();break;case"f":r=e?n.getUTCMilliseconds():n.getMilliseconds()}return Number.isNaN(r)?t:r<10&&t.length>1?"0"+r:""+r})}function Ht(n,t){var e,r,i;const o=new Date(n.getTime()+(null!==(e=n.offset)&&void 0!==e?e:0));if("string"!=typeof t)return o.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+$t(null!==(r=n.offset)&&void 0!==r?r:0);if(1!==t.length)return Gt(o,t,!0);switch(t){case"D":case"d":return qt(o,"first");case"T":case"t":return qt(o,"second");case"O":case"o":return function(n,t){const e=n.toISOString();return e.substring(0,e.length-1)+$t(t)}(o,null!==(i=n.offset)&&void 0!==i?i:0);default:throw new Error("Unrecognized Date print format")}}function Wt(n,t){const e=1===n.kind;if("string"!=typeof t)return e?n.toUTCString():n.toLocaleString();if(1!==t.length)return Gt(n,t,e);switch(t){case"D":case"d":return e?qt(n,"first"):n.toLocaleDateString();case"T":case"t":return e?qt(n,"second"):n.toLocaleTimeString();case"O":case"o":return function(n,t){if(t)return n.toISOString();{const t=null==n.kind||2===n.kind;return s(n.getFullYear(),4)+"-"+s(n.getMonth()+1,2)+"-"+s(n.getDate(),2)+"T"+s(n.getHours(),2)+":"+s(n.getMinutes(),2)+":"+s(n.getSeconds(),2)+"."+s(n.getMilliseconds(),3)+(t?$t(-6e4*n.getTimezoneOffset()):"")}}(n,e);default:throw new Error("Unrecognized Date print format")}}function zt(n,t,e){return null!=n.offset?Ht(n,t):Wt(n,t)}function Jt(n,t){const e=new Date(n);return e.kind=0|(null==t?0:t),e}function Zt(){return Jt(-621355968e5,0)}function Xt(n){let t=new Date(n);if(isNaN(t.getTime())){const e=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*([+-]\d+(?::\d+)?)?\s*$/.exec(n);if(null==e)throw new Error("The string is not a valid Date.");{let n,r=0;if(null!=e[2]){const n=e[2].split(":");r=3600*parseInt(n[0],10)+60*parseInt(n[1]||"0",10)+parseFloat(n[2]||"0"),null!=e[3]&&"PM"===e[3].toUpperCase()&&(r+=720)}if(null!=e[4]){if(null!=e[1])n=new Date(e[1]+" UTC");else{const t=new Date;n=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}const t=e[4].substr(1).split(":");let i=60*parseInt(t[0],10)+parseInt(t[1]||"0",10);"+"===e[4][0]&&(i*=-1),r+=60*i}else if(null!=e[1])n=new Date(e[1]);else{const t=new Date;n=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}t=new Date(n.getTime()+1e3*r),t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))}}return t}function Yt(n,t=!1){const e=Xt(n),r=Lt.exec(n),i=null!=r?t&&"Z"===r[0]?1:2:0;return Jt(e.getTime(),i)}var Kt={GetHashCode(){return h([this.s,this.e].concat(this.c))},Equals(n){return!this.cmp(n)},CompareTo(n){return this.cmp(n)}},Qt="[big.js] ",ne=Qt+"Invalid ",te=ne+"decimal places",ee=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function re(n,t){var e,r,i;if(0===t&&1/t<0)t="-0";else if(!ee.test(t+=""))throw Error(ne+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),i=t.length,r=0;r<e&&r<i&&"0"==t.charAt(r);)++r;if(r==i)n.c=[n.e=0];else for(n.e=e-r-1,n.c=[],e=0;r<i;)n.c[e++]=+t.charAt(r++);return n=ie(n,ue.DP,ue.RM)}function ie(n,t,e,r){var i=n.c,o=n.e+t+1;if(o<i.length){if(1===e)r=i[o]>=5;else if(2===e)r=i[o]>5||5==i[o]&&(r||o<0||void 0!==i[o+1]||1&i[o-1]);else if(3===e)r=r||!!i[0];else if(r=!1,0!==e)throw Error("[big.js] Invalid rounding mode");if(o<1)i.length=1,r?(n.e=-t,i[0]=1):i[0]=n.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++n.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(e<0||e>3||e!==~~e)throw Error("[big.js] Invalid rounding mode");return n}function oe(n,t,e,r){var i,o,u=n.constructor,s=!n.c[0];if(void 0!==e){if(e!==~~e||e<(3==t)||e>1e6)throw Error(3==t?ne+"precision":te);for(e=r-(n=new u(n)).e,n.c.length>++r&&ie(n,e,u.RM),2==t&&(r=n.e+e+1);n.c.length<r;)n.c.push(0)}if(i=n.e,e=(o=n.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(e>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>e)for(i-=e;i--;)o+="0";else i<e&&(o=o.slice(0,i)+"."+o.slice(i));else e>1&&(o=o.charAt(0)+"."+o.slice(1));return n.s<0&&(!s||4==t)?"-"+o:o}Kt.abs=function(){var n=new this.constructor(this);return n.s=1,n},Kt.cmp=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.c),o=n.c,u=r.s,s=n.s,c=r.e,f=n.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-s:0;if(u!=s)return u;if(t=u<0,c!=f)return c>f^t?1:-1;for(s=Math.max(i.length,o.length),u=0;u<s;u++)if((c=u<i.length?i[u]:0)!=(f=u<o.length?o[u]:0))return c>f^t?1:-1;return 0},Kt.div=function(n){var t=this.constructor,e=new t(this),r=(n=new t(n),e.c),i=n.c,o=e.s==n.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>1e6)throw Error(te);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var s,c,f,a,l,d=i.slice(),h=s=i.length,w=r.length,g=r.slice(0,s),p=g.length,m=n,y=m.c=[],v=0,b=u+(m.e=e.e-n.e)+1;for(m.s=o,o=b<0?0:b,d.unshift(0);p++<s;)g.push(0);do{for(f=0;f<10;f++){if(s!=(p=g.length))a=s>p?1:-1;else for(l=-1,a=0;++l<s;)if(i[l]!=g[l]){a=i[l]>g[l]?1:-1;break}if(!(a<0))break;for(c=p==s?i:d;p;){if(g[--p]<c[p]){for(l=p;l&&!g[--l];)g[l]=9;--g[l],g[p]+=10}g[p]-=c[p]}for(;!g[0];)g.shift()}y[v++]=a?f:++f,g[0]&&a?g[p]=r[h]||0:g=[r[h]]}while((h++<w||void 0!==g[0])&&o--);return y[0]||1==v||(y.shift(),m.e--),v>b&&ie(m,u,t.RM,void 0!==g[0]),m},Kt.eq=function(n){return!this.cmp(n)},Kt.gt=function(n){return this.cmp(n)>0},Kt.gte=function(n){return this.cmp(n)>-1},Kt.lt=function(n){return this.cmp(n)<0},Kt.lte=function(n){return this.cmp(n)<1},Kt.minus=Kt.sub=function(n){var t,e,r,i,o=this.constructor,u=new o(this),s=(n=new o(n),u.s),c=n.s;if(s!=c)return n.s=-c,u.plus(n);var f=u.c.slice(),a=u.e,l=n.c,d=n.e;if(!f[0]||!l[0])return l[0]?(n.s=-c,n):new o(f[0]?u:0);if(s=a-d){for((i=s<0)?(s=-s,r=f):(d=a,r=l),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(e=((i=f.length<l.length)?f:l).length,s=c=0;c<e;c++)if(f[c]!=l[c]){i=f[c]<l[c];break}if(i&&(r=f,f=l,l=r,n.s=-n.s),(c=(e=l.length)-(t=f.length))>0)for(;c--;)f[t++]=0;for(c=t;e>s;){if(f[--e]<l[e]){for(t=e;t&&!f[--t];)f[t]=9;--f[t],f[e]+=10}f[e]-=l[e]}for(;0===f[--c];)f.pop();for(;0===f[0];)f.shift(),--d;return f[0]||(n.s=1,f=[d=0]),n.c=f,n.e=d,n},Kt.mod=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.s),o=n.s;if(!n.c[0])throw Error("[big.js] Division by zero");return r.s=n.s=1,t=1==n.cmp(r),r.s=i,n.s=o,t?new e(r):(i=e.DP,o=e.RM,e.DP=e.RM=0,r=r.div(n),e.DP=i,e.RM=o,this.minus(r.times(n)))},Kt.plus=Kt.add=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.s),o=n.s;if(i!=o)return n.s=-o,r.minus(n);var u=r.e,s=r.c,c=n.e,f=n.c;if(!s[0]||!f[0])return f[0]?n:new e(s[0]?r:0*i);if(s=s.slice(),i=u-c){for(i>0?(c=u,t=f):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-f.length<0&&(t=f,f=s,s=t),i=f.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+f[i]+o)/10|0;for(o&&(s.unshift(o),++c),i=s.length;0===s[--i];)s.pop();return n.c=s,n.e=c,n},Kt.pow=function(n){var t=this.constructor,e=new t(this),r=new t(1),i=new t(1),o=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(ne+"exponent");for(o&&(n=-n);1&n&&(r=r.times(e)),n>>=1;)e=e.times(e);return o?i.div(r):r},Kt.round=function(n,t){var e=this.constructor;if(void 0===n)n=0;else if(n!==~~n||n<-1e6||n>1e6)throw Error(te);return ie(new e(this),n,void 0===t?e.RM:t)},Kt.sqrt=function(){var n,t,e,r=this.constructor,i=new r(this),o=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(Qt+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),n=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):n=new r(o),u=n.e+(r.DP+=4);do{e=n,n=s.times(e.plus(i.div(e)))}while(e.c.slice(0,u).join("")!==n.c.slice(0,u).join(""));return ie(n,r.DP-=4,r.RM)},Kt.times=Kt.mul=function(n){var t,e=this.constructor,r=new e(this),i=(n=new e(n),r.c),o=n.c,u=i.length,s=o.length,c=r.e,f=n.e;if(n.s=r.s==n.s?1:-1,!i[0]||!o[0])return new e(0*n.s);for(n.e=c+f,u<s&&(t=i,i=o,o=t,f=u,u=s,s=f),t=new Array(f=u+s);f--;)t[f]=0;for(c=s;c--;){for(s=0,f=u+c;f>c;)s=t[f]+o[c]*i[f-c-1]+s,t[f--]=s%10,s=s/10|0;t[f]=(t[f]+s)%10}for(s?++n.e:t.shift(),c=t.length;!t[--c];)t.pop();return n.c=t,n},Kt.toExponential=function(n){return oe(this,1,n,n)},Kt.toFixed=function(n){return oe(this,2,n,this.e+n)},Kt.toPrecision=function(n){return oe(this,3,n,n-1)},Kt.toString=function(){return oe(this)},Kt.valueOf=Kt.toJSON=function(){return oe(this,4)};var ue=function n(){function t(e){var r=this;if(!(r instanceof t))return void 0===e?n():new t(e);e instanceof t?(r.s=e.s,r.e=e.e,r.c=e.c.slice(),function(n){if((n=ie(n,28,0)).c.length>1&&!n.c[0]){let t=n.c.findIndex(n=>n);n.c=n.c.slice(t),n.e=n.e-t}}(r)):re(r,e),r.constructor=t}return t.prototype=Kt,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.version="5.2.2",t}(),se=ue,ce=se;new se(0),new se(1),new se(-1),new se("79228162514264337593543950335"),new se("-79228162514264337593543950335");function fe(n,t=0){if(0!=(-276&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Singleline and ECMAScript");let e="g";return e+=1&t?"i":"",e+=2&t?"m":"",e+=16&t?"s":"",new RegExp(n,e)}function ae(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function le(n,t,e=0){let r;if(r=n instanceof RegExp?(r=n,n=t,r.lastIndex=e,r):r=fe(t,e),!r.global)throw new Error("Non-global RegExp");let i=r.exec(n);const o=[];for(;null!==i;)o.push(i),i=r.exec(n);return o}const de=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,he=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g,we=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ge(n){return"number"==typeof n||n instanceof xt||n instanceof ce}function pe(n,t){return n instanceof xt?Bt(n,t)<0:n instanceof ce?n.cmp(t)<0:n<t}function me(n,t){return n instanceof xt?Ct(n,t):n instanceof ce?n.mul(t):n*t}function ye(n,t){return n instanceof xt?String(n)+(0).toFixed(t).substr(1):n.toFixed(t)}function ve(n,t){return n instanceof xt?String(n)+(0).toPrecision(t).substr(1):n.toPrecision(t)}function be(n,t){return n instanceof xt?String(n)+(0).toExponential(t).substr(1):n.toExponential(t)}function Se(n){return n instanceof xt?Nt(n.unsigned?n:Rt(Dt(n),!0),16):(Number(n)>>>0).toString(16)}function Ee(n){return{input:n,cont:(t=n,n=>de.test(t)?function n(t,e){return(...r)=>{let i=t;for(const n of r)i=Ce(i,n);return de.test(i)?n(i,e):e(i.replace(/%%/g,"%"))}}(t,n):n(t))};var t}function xe(n){return n.cont(n=>n)}function Oe(n){return n.cont(n=>{throw new Error(n)})}function Ce(n,t){return n.replace(de,(n,e,r,i,o,u)=>{let s="";if(ge(t))switch("x"!==u.toLowerCase()&&(pe(t,0)?(t=me(t,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":t=ye(t,o=null!=o?o:6);break;case"g":case"G":t=null!=o?ve(t,o):ve(t);break;case"e":case"E":t=null!=o?be(t,o):be(t);break;case"x":t=Se(t);break;case"X":t=Se(t).toUpperCase();break;default:t=String(t)}if(i=parseInt(i,10),isNaN(i))t=s+t;else{const n=r.indexOf("0")>=0,e=r.indexOf("-")>=0,o=e||!n?" ":"0";t="0"===o?s+(t=Te(t,i-s.length,o,e)):Te(s+t,i,o,e)}return(e+t).replace(/%/g,"%%")})}function ke(n,...t){return"object"==typeof n&&t.length>0&&(n=t[0],t.shift()),n.replace(he,(n,e,r,i,o,u)=>{let s=t[e];if(ge(s))switch(o=null==o?null:parseInt(o,10),i){case"f":case"F":s=ye(s,o=null!=o?o:2);break;case"g":case"G":s=null!=o?ve(s,o):ve(s);break;case"e":case"E":s=null!=o?be(s,o):be(s);break;case"p":case"P":o=null!=o?o:2,s=ye(me(s,100),o)+" %";break;case"d":case"D":s=null!=o?Te(String(s),o,"0"):String(s);break;case"x":case"X":s=null!=o?Te(Se(s),o,"0"):Se(s),"X"===i&&(s=s.toUpperCase());break;default:if(u){let n="";s=u.replace(/(0+)(\.0+)?/,(t,e,r)=>(pe(s,0)&&(s=me(s,-1),n="-"),s=ye(s,null!=r?r.length-1:0),Te(s,(e||"").length-n.length+(null!=r?r.length:0),"0"))),s=n+s}}else s instanceof Date&&(s=zt(s,u||i));return r=parseInt((r||" ").substring(1),10),isNaN(r)||(s=Te(String(s),Math.abs(r)," ",r<0)),s})}function Me(n,t){return Array.isArray(t)?t.join(n):Array.from(t).join(n)}function Pe(n,t){const e=function(n,...t){if(0===t.length)return n.trim();const e="["+ae(t.join(""))+"]+";return n.replace(new RegExp("^"+e),"").replace(new RegExp(e+"$"),"")}(n,"{","}").toLowerCase();if(we.test(e))return t?[!0,e]:e;if(t)return[!1,"00000000-0000-0000-0000-000000000000"];throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Te(n,t,e,r){e=e||" ",t-=n.length;for(let i=0;i<t;i++)n=r?n+e:e+n;return n}class Be{constructor(n){this.value=n}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return w(this.value)}Equals(n){return null!=n&&m(this.value,n instanceof Be?n.value:n)}CompareTo(n){return null==n?1:E(this.value,n instanceof Be?n.value:n)}}function Fe(n){return null==n||n instanceof Be?new Be(n):n}function Re(n){if(null==n)throw new Error("Option has no value");return n instanceof Be?n.value:n}function je(n,t){return null!=n?Re(n):t}function Ae(n,t){return null!=t?Fe(n(Re(t))):void 0}class De extends G{}function Ie(n,t){return 0===t.tag?(e=n(t.fields[0]),new De(0,"Ok",e)):t;var e}function Ne(n,t){return 1===t.tag?(e=n(t.fields[0]),new De(1,"Error",e)):t;var e}const _e=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Ue=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t){this.Hash=n,this.Coders=t}),J);const Ve=V((function(){this.cache=new Map([])}));function Le(){return this instanceof Ve?Ve.call(this):new Ve}function $e(n,t,e){const r=o(n.cache,t,null);if(r[0])return r[1];{const r=e();return N(n.cache,t,r),r}}const qe=Le(),Ge=Le();function He(n){return n.slice(void 0,1).toLowerCase()+n.slice(1,n.length)}function We(n,t){switch(n.tag){case 2:return function(n,t,e,r,i=0){if("string"==typeof n){const e=n;n=fe(t,null!=r?r:0),t=e,r=void 0}if("function"==typeof e)return r=null==r?-1:r,t.substring(0,i)+t.substring(i).replace(n,(function(){let n=arguments[0];if(r){r--;const t=[],i=arguments.length;for(let n=0;n<i-2;n++)t.push(arguments[n]);t.index=arguments[i-2],t.input=arguments[i-1],n=e(t)}return n}));if(e=e.replace(/\$0/g,n=>"$&"),null!=r){let o;const u=t.substring(i),s=le(n,u),c=le.length>r?(o=s[r-1],u.substring(0,o.index+o[0].length)):u;return t.substring(0,i)+c.replace(n,e)+t.substring(i+c.length)}return t.replace(n,e)}(He(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return He(t)}}class ze{constructor(n){this.iter=n}MoveNext(){const n=this.iter.next();return this.current=n.value,!n.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Je(n){return new ze(n[Symbol.iterator]())}function Ze(n){return{next:()=>n.MoveNext()?{done:!1,value:n.Current}:{done:!0,value:void 0}}}function Xe(n){const t={[Symbol.iterator]:n,toString:()=>"seq ["+Array.from(t).join("; ")+"]"};return t}function Ye(n,t){return nr(()=>{let e=!1;let r=[n[Symbol.iterator](),void 0];return hr(()=>{var n,i;let o;if(!e){if(o=null===(n=r[0])||void 0===n?void 0:n.next(),null!=o&&!o.done)return[o.value,r];e=!0,r=[void 0,t[Symbol.iterator]()]}return o=null===(i=r[1])||void 0===i?void 0:i.next(),null==o||o.done?void 0:[o.value,r]},r)})}function Ke(n){return nr(()=>{const t=n[Symbol.iterator]();let e;return hr(n=>{let r=!1;for(;!r;)if(null==n){const e=t.next();e.done?r=!0:n=e.value[Symbol.iterator]()}else{const t=n.next();t.done?n=void 0:(e=t.value,r=!0)}return null!=n?[e,n]:void 0},void 0)})}function Qe(n,t){return Ke(sr(n,t))}function nr(n){return Xe(()=>n()[Symbol.iterator]())}function tr(n){return[n]}function er(n,t){let e;for(const r=t[Symbol.iterator]();e=r.next(),!e.done;)if(n(e.value))return!0;return!1}function rr(n,t){return er(t=>m(t,n),t)}function ir(n,t,e){if(Array.isArray(e)||ArrayBuffer.isView(e))return e.reduce(n,t);{let r;for(let i=0,o=e[Symbol.iterator]();r=o.next(),!r.done;i++)t=n(t,r.value,i);return t}}function or(n,t){ir((t,e)=>{n(e)},void 0,t)}function ur(n,t){ir((t,e,r)=>{n(null!=r?r:0,e)},void 0,t)}function sr(n,t){return nr(()=>hr(t=>{const e=t.next();return e.done?void 0:[n(e.value),t]},t[Symbol.iterator]()))}function cr(n,t){return nr(()=>{let e=0;return hr(t=>{const r=t.next();return r.done?void 0:[n(e++,r.value),t]},t[Symbol.iterator]())})}function fr(n,t,e){if(0===t)throw new Error("Step cannot be 0");return nr(()=>hr(n=>t>0&&n<=e||t<0&&n>=e?[n,n+t]:void 0,n))}function ar(n,t){return Xe(()=>{const e=t[Symbol.iterator]();for(let t=1;t<=n;t++)if(e.next().done)throw new Error("Seq has not enough elements");return e})}function lr(n,t,e){return ir((t,r)=>e.Add(t,n(r)),e.GetZero(),t)}function dr(n,t,e=!1){return nr(()=>{const r=t[Symbol.iterator]();return hr(t=>{if(t<n){const n=r.next();if(!n.done)return[n.value,t+1];if(!e)throw new Error("Seq has not enough elements")}},0)})}function hr(n,t){return Xe(()=>{let e=t;return{next(){const t=n(e);if(null!=t){const n=Re(t);if(null!=n)return e=n[1],{done:!1,value:n[0]}}return{done:!0,value:void 0}}}})}const wr=V((function(n,t){const e=new Z(null);this.comparer=t,e.contents=this,this.hashMap=new Map([]),this["init@20-1"]=1,or((function(n){vr(e.contents,n[0],n[1])}),n)}));function gr(n,t){const e=0|n.comparer.GetHashCode(t),r=o(n.hashMap,e,null);return r[0]?[!0,e,r[1].findIndex((function(e){return n.comparer.Equals(t,e[0])}))]:[!1,e,-1]}function pr(n,t){const e=gr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1])[e[2]];case 1:return}}function mr(n){n.hashMap.clear()}function yr(n){return 0|lr((function(n){return n.length}),n.hashMap.values(),{GetZero:()=>0,Add:(n,t)=>n+t})}function vr(n,t,e){const r=gr(n,t);switch(r[0]&&r[2]>-1?0:1){case 0:{const n=ke("An item with the same key has already been added. Key: {0}",t);throw new Error(n)}case 1:if(r[0]){_(n.hashMap,r[1]).push([t,e])}else n.hashMap.set(r[1],[[t,e]])}}function br(n,t){const e=gr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1]).splice(e[2],1),!0;case 1:return!1}}wr.prototype[Symbol.iterator]=function(){const n=this;return Ze(Je(nr((function(){return Qe((function(n){return sr((function(n){return n}),n)}),n.hashMap.values())}))))},wr.prototype.Add=function(n){vr(this,n[0],n[1])},wr.prototype.Clear=function(){mr(this)},wr.prototype.Contains=function(n){const t=pr(this,n[0]);switch(null!=t&&m(t[1],n[1])?0:1){case 0:return!0;case 1:return!1}},wr.prototype.CopyTo=function(n,t){ur((function(e,r){n[t+e]=r}),this)},Object.defineProperty(wr.prototype,"Count",{get:function(){return 0|yr(this)}}),Object.defineProperty(wr.prototype,"IsReadOnly",{get:function(){return!1}}),wr.prototype.Remove=function(n){const t=this,e=pr(t,n[0]);if(null!=e){if(m(e[1],n[1])){br(t,n[0])}return!0}return!1},Object.defineProperty(wr.prototype,"size",{get:function(){return 0|yr(this)}}),wr.prototype.clear=function(){mr(this)},wr.prototype.delete=function(n){return br(this,n)},wr.prototype.entries=function(){return sr((function(n){return n}),this)},wr.prototype.get=function(n){return function(n,t){const e=pr(n,t);if(null!=e){return e[1]}throw new Error("The item was not found in collection")}(this,n)},wr.prototype.has=function(n){return function(n,t){const e=gr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,n)},wr.prototype.keys=function(){return sr((function(n){return n[0]}),this)},wr.prototype.set=function(n,t){return function(n,t,e){const r=gr(n,t);switch(r[0]&&r[2]>-1?0:1){case 0:_(n.hashMap,r[1])[r[2]]=[t,e];break;case 1:if(r[0]){_(n.hashMap,r[1]).push([t,e])}else n.hashMap.set(r[1],[[t,e]])}}(this,n,t),this},wr.prototype.values=function(){return sr((function(n){return n[1]}),this)};const Sr=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Er(n){return function n(t,e){n:for(;;){const r=t,i=e;switch(i.tag){case 1:return r+1|0;case 2:t=n(r+1,i.fields[2]),e=i.fields[3];continue n;default:return 0|r}break}}(0,n)}function xr(){return new Sr(0,"MapEmpty")}function Or(n){switch(n.tag){case 1:return 1;case 2:return 0|n.fields[4];default:return 0}}function Cr(n,t,e,r){switch(0===n.tag&&0===r.tag?0:1){case 0:return new Sr(1,"MapOne",t,e);case 1:{const i=0|Or(n),o=0|Or(r);return new Sr(2,"MapNode",t,e,n,r,(0|(i<o?o:i))+1)}}}function kr(n,t,e,r){const i=0|Or(n),o=0|Or(r);if(o>i+2){if(2===r.tag){if(Or(r.fields[2])>i+1){if(2===r.fields[2].tag)return Cr(Cr(n,t,e,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],Cr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return Cr(Cr(n,t,e,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>o+2){if(2===n.tag){if(Or(n.fields[3])>o+1){if(2===n.fields[3].tag)return Cr(Cr(n.fields[2],n.fields[0],n.fields[1],n.fields[3].fields[2]),n.fields[3].fields[0],n.fields[3].fields[1],Cr(n.fields[3].fields[3],t,e,r));throw new Error("re  balance")}return Cr(n.fields[2],n.fields[0],n.fields[1],Cr(n.fields[3],t,e,r))}throw new Error("rebalance")}return Cr(n,t,e,r)}function Mr(n,t,e,r){switch(r.tag){case 1:{const i=0|n.Compare(t,r.fields[0]);return i<0?new Sr(2,"MapNode",t,e,new Sr(0,"MapEmpty"),r,2):0===i?new Sr(1,"MapOne",t,e):new Sr(2,"MapNode",t,e,r,new Sr(0,"MapEmpty"),2)}case 2:{const i=0|n.Compare(t,r.fields[0]);return i<0?kr(Mr(n,t,e,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Sr(2,"MapNode",t,e,r.fields[2],r.fields[3],r.fields[4]):kr(r.fields[2],r.fields[0],r.fields[1],Mr(n,t,e,r.fields[3]))}default:return new Sr(1,"MapOne",t,e)}}function Pr(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:return 0===(0|r.Compare(i,o.fields[0]))?Fe(o.fields[1]):void 0;case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return Fe(o.fields[1]);n=r,t=i,e=o.fields[3];continue n}default:return}break}}function Tr(n,t){const e=Je(t);try{return function(n,t,e){for(;;){const r=n,i=t,o=e;if(!o.MoveNext())return i;{const u=o.Current;n=r,t=Mr(r,u[0],u[1],i),e=o}}}(n,xr(),e)}finally{i(e)&&e.Dispose()}}const Br=V((function(n,t){this.stack=n,this.started=t}),J);function Fr(n){for(;;){const t=n;if(null==t.tail)return new q;if(1===t.head.tag)return t;2!==t.head.tag?n=t.tail:n=new q(t.head.fields[2],new q(new Sr(1,"MapOne",t.head.fields[0],t.head.fields[1]),new q(t.head.fields[3],t.tail)))}}function Rr(n){return new Br(Fr(new q(n,new q)),!1)}function jr(n){if(n.started){const t=n.stack;if(null==t.tail)return function(){throw new Error("enumeration already finished")}();if(1===t.head.tag)return[t.head.fields[0],t.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const Ar=V((function(n){this.s=n,this.i=Rr(this.s)}));function Dr(n){return function(n){return this instanceof Ar?Ar.call(this,n):new Ar(n)}(n)}function Ir(n){return hr((function(n){return n.MoveNext()?[n.Current,n]:void 0}),Dr(n))}Object.defineProperty(Ar.prototype,"Current",{get:function(){return jr(this.i)}}),Ar.prototype.MoveNext=function(){return function(n){if(n.started){const t=n.stack;if(null==t.tail)return!1;if(1===t.head.tag)return n.stack=Fr(t.tail),!(null==n.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return n.started=!0,!(null==n.stack.tail)}(this.i)},Ar.prototype.Reset=function(){this.i=Rr(this.s)},Ar.prototype.Dispose=function(){};const Nr=V((function(n,t){this.comparer=n,this.tree=t}));function _r(n,t){return this instanceof Nr?Nr.call(this,n,t):new Nr(n,t)}function Ur(n){return n.tree}function Vr(n,t){return function(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return o.fields[1];n=r,t=i,e=o.fields[3];continue n}default:throw new Error("key not found")}break}}(n.comparer,t,n.tree)}function Lr(n,t){return _r(n.comparer,function n(t,e){switch(e.tag){case 1:return new Sr(1,"MapOne",e.fields[0],t(e.fields[0],e.fields[1]));case 2:{const r=n(t,e.fields[2]),i=t(e.fields[0],e.fields[1]),o=n(t,e.fields[3]);return new Sr(2,"MapNode",e.fields[0],i,r,o,e.fields[4])}default:return xr()}}(t,n.tree))}function $r(n){return Er(n.tree)}function qr(n,t){return function(n,t,e){n:for(;;){const r=n,i=t,o=e;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:{const u=0|r.Compare(i,o.fields[0]);if(u<0){n=r,t=i,e=o.fields[2];continue n}if(0===u)return!0;n=r,t=i,e=o.fields[3];continue n}default:return!1}break}}(n.comparer,t,n.tree)}function Gr(n,t,e){return i=n,o=t,_r((r=e).comparer,Mr(r.comparer,i,o,r.tree));var r,i,o}function Hr(n,t){return r=n,Pr((e=t).comparer,r,e.tree);var e,r}function Wr(n,t){return Lr(t,n)}function zr(n,t){return _r(t,(e=t,r=n,ir((function(n,t){return Mr(e,t[0],t[1],n)}),xr(),r)));var e,r}function Jr(n){return _r(n,new Sr(0,"MapEmpty"))}Nr.prototype.toString=function(){let n,t;return t=sr((function(n){return ke("({0}, {1})",n[0],n[1])}),this),n=Me("; ",t),"map ["+n+"]"},Nr.prototype.GetHashCode=function(){const n=function(n,t){return(n<<1)+t+631};let t=0;const e=Dr(Ur(this));for(;e.MoveNext();){const r=e.Current;t=n(t,w(r[0])),t=n(t,w(r[1]))}return 0|Math.abs(t)},Nr.prototype.Equals=function(n){return 0===this.CompareTo(n)},Nr.prototype[Symbol.iterator]=function(){return Ze(Dr(this.tree))},Nr.prototype.CompareTo=function(n){const t=this;let e=0,r=!1;const o=Dr(Ur(t));try{const u=Dr(Ur(n));try{for(;!r&&0===e;){const n=[o.MoveNext(),u.MoveNext()];if(n[0])if(n[1]){const n=o.Current,r=u.Current,i=0|t.comparer.Compare(n[0],r[0]);e=0!==i?i:E(n[1],r[1])}else e=1;else n[1]?e=-1:r=!0}return 0|e}finally{i(u)&&u.Dispose()}}finally{i(o)&&o.Dispose()}},Object.defineProperty(Nr.prototype,"size",{get:function(){return 0|$r(this)}}),Nr.prototype.clear=function(){throw new Error("Map cannot be mutated")},Nr.prototype.delete=function(n){throw new Error("Map cannot be mutated")},Nr.prototype.entries=function(){return Ir(Ur(this))},Nr.prototype.get=function(n){return Vr(this,n)},Nr.prototype.has=function(n){return qr(this,n)},Nr.prototype.keys=function(){return sr((function(n){return n[0]}),Ir(Ur(this)))},Nr.prototype.set=function(n,t){throw new Error("Map cannot be mutated")},Nr.prototype.values=function(){return sr((function(n){return n[1]}),Ir(Ur(this)))};const Zr=V((function(n,t){const e=new Z(null);this.comparer=t,e.contents=this,this.hashMap=new Map([]),this["init@21-2"]=1,or((function(n){Qr(e.contents,n)}),n)}));function Xr(n,t){const e=0|n.comparer.GetHashCode(t),r=o(n.hashMap,e,null);return r[0]?[!0,e,r[1].findIndex((function(e){return n.comparer.Equals(t,e)}))]:[!1,e,-1]}function Yr(n){n.hashMap.clear()}function Kr(n){return 0|lr((function(n){return n.length}),n.hashMap.values(),{GetZero:()=>0,Add:(n,t)=>n+t})}function Qr(n,t){const e=Xr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!1;case 1:if(e[0]){_(n.hashMap,e[1]).push(t);return!0}return n.hashMap.set(e[1],[t]),!0}}function ni(n,t){const e=Xr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return!0;case 1:return!1}}function ti(n,t){const e=Xr(n,t);switch(e[0]&&e[2]>-1?0:1){case 0:return _(n.hashMap,e[1]).splice(e[2],1),!0;case 1:return!1}}Zr.prototype[Symbol.iterator]=function(){const n=this;return Ze(Je(nr((function(){return Qe((function(n){return sr((function(n){return n}),n)}),n.hashMap.values())}))))},Zr.prototype.Add=function(n){Qr(this,n)},Zr.prototype.Clear=function(){Yr(this)},Zr.prototype.Contains=function(n){return ni(this,n)},Zr.prototype.CopyTo=function(n,t){ur((function(e,r){n[t+e]=r}),this)},Object.defineProperty(Zr.prototype,"Count",{get:function(){return 0|Kr(this)}}),Object.defineProperty(Zr.prototype,"IsReadOnly",{get:function(){return!1}}),Zr.prototype.Remove=function(n){return ti(this,n)},Object.defineProperty(Zr.prototype,"size",{get:function(){return 0|Kr(this)}}),Zr.prototype.add=function(n){Qr(this,n);return this},Zr.prototype.add_=function(n){return Qr(this,n)},Zr.prototype.clear=function(){Yr(this)},Zr.prototype.delete=function(n){return ti(this,n)},Zr.prototype.has=function(n){return ni(this,n)},Zr.prototype.keys=function(){return sr((function(n){return n}),this)},Zr.prototype.values=function(){return sr((function(n){return n}),this)},Zr.prototype.entries=function(){return sr((function(n){return[n,n]}),this)};const ei=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function ri(n){return new ei(2,"SetOne",n)}function ii(n,t,e,r){return new ei(1,"SetNode",n,t,e,r)}function oi(n){switch(n.tag){case 2:return 1;case 1:return 0|n.fields[3];default:return 0}}function ui(n,t,e){switch(0===n.tag&&0===e.tag?0:1){case 0:return ri(t);case 1:{const r=0|oi(n),i=0|oi(e);return ii(t,n,e,(0|(r<i?i:r))+1)}}}function si(n,t,e){const r=0|oi(n),i=0|oi(e);if(i>r+2){if(1===e.tag){if(oi(e.fields[1])>r+1){if(1===e.fields[1].tag)return ui(ui(n,t,e.fields[1].fields[1]),e.fields[1].fields[0],ui(e.fields[1].fields[2],e.fields[0],e.fields[2]));throw new Error("rebalance")}return ui(ui(n,t,e.fields[1]),e.fields[0],e.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===n.tag){if(oi(n.fields[2])>i+1){if(1===n.fields[2].tag)return ui(ui(n.fields[1],n.fields[0],n.fields[2].fields[1]),n.fields[2].fields[0],ui(n.fields[2].fields[2],t,e));throw new Error("rebalance")}return ui(n.fields[1],n.fields[0],ui(n.fields[2],t,e))}throw new Error("rebalance")}return ui(n,t,e)}function ci(n,t,e){switch(e.tag){case 2:{const r=0|n.Compare(t,e.fields[0]);return r<0?ii(t,new ei(0,"SetEmpty"),e,2):0===r?e:ii(t,e,new ei(0,"SetEmpty"),2)}case 0:return ri(t);default:{const r=0|n.Compare(t,e.fields[0]);return r<0?si(ci(n,t,e.fields[1]),e.fields[0],e.fields[2]):0===r?e:si(e.fields[1],e.fields[0],ci(n,t,e.fields[2]))}}}const fi=V((function(n,t){this.stack=n,this.started=t}),J);function ai(n){for(;;){const t=n;if(null==t.tail)return new q;if(2===t.head.tag)return t;1!==t.head.tag?n=t.tail:n=new q(t.head.fields[1],new q(ri(t.head.fields[0]),new q(t.head.fields[2],t.tail)))}}function li(n){return new fi(ai(new q(n,new q)),!1)}function di(n){if(n.started){const t=n.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(2===t.head.tag)return t.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const hi=V((function(n){this.s=n,this.i=li(this.s)}));function wi(n){return function(n){return this instanceof hi?hi.call(this,n):new hi(n)}(n)}function gi(n,t,e){return 0===t.tag?0===e.tag?0:-1:0===e.tag?1:0|function(n,t,e){n:for(;;){const U=n,V=t,L=e;var r,i,o,u,s,c,f,a,l,d,h,w,g,p,m,y,v,b,S,E,x,O,C,k,M,P,T,B,F,R,j,A,D,I,N,_;switch(null!=V.tail?null!=L.tail?2===L.head.tag?2===V.head.tag?(r=4,u=V.head.fields[0],s=L.head.fields[0],c=V.tail,f=L.tail):1===V.head.tag?0===V.head.fields[1].tag?(r=6,g=V.head.fields[1],p=V.head.fields[0],m=V.head.fields[2],y=L.head.fields[0],v=V.tail,b=L.tail):(r=9,T=V.head.fields[0],B=V.head.fields[1],F=V.head.fields[2],R=V.tail):(r=10,j=L.head.fields[0],A=L.tail):1===L.head.tag?0===L.head.fields[1].tag?2===V.head.tag?(r=5,a=V.head.fields[0],l=L.head.fields[0],d=L.head.fields[2],h=V.tail,w=L.tail):1===V.head.tag?0===V.head.fields[1].tag?(r=7,S=V.head.fields[0],E=V.head.fields[2],x=L.head.fields[0],O=L.head.fields[2],C=V.tail,k=L.tail):(r=9,T=V.head.fields[0],B=V.head.fields[1],F=V.head.fields[2],R=V.tail):(r=11,D=L.head.fields[0],I=L.head.fields[1],N=L.head.fields[2],_=L.tail):2===V.head.tag?(r=8,M=V.head.fields[0],P=V.tail):1===V.head.tag?(r=9,T=V.head.fields[0],B=V.head.fields[1],F=V.head.fields[2],R=V.tail):(r=11,D=L.head.fields[0],I=L.head.fields[1],N=L.head.fields[2],_=L.tail):2===V.head.tag?(r=8,M=V.head.fields[0],P=V.tail):1===V.head.tag?(r=9,T=V.head.fields[0],B=V.head.fields[1],F=V.head.fields[2],R=V.tail):(r=3,i=V.tail,o=L.tail):r=2:r=null!=L.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:n=U,t=i,e=o;continue n;case 4:{const r=0|U.Compare(u,s);if(0!==r)return 0|r;n=U,t=c,e=f;continue n}case 5:{const r=0|U.Compare(a,l);if(0!==r)return 0|r;n=U,t=new q(new ei(0,"SetEmpty"),h),e=new q(d,w);continue n}case 6:{const r=0|U.Compare(p,y);if(0!==r)return 0|r;n=U,t=new q(m,v),e=new q(g,b);continue n}case 7:{const r=0|U.Compare(S,x);if(0!==r)return 0|r;n=U,t=new q(E,C),e=new q(O,k);continue n}case 8:n=U,t=new q(new ei(0,"SetEmpty"),new q(ri(M),P)),e=L;continue n;case 9:n=U,t=new q(B,new q(ii(T,new ei(0,"SetEmpty"),F,0),R)),e=L;continue n;case 10:n=U,t=V,e=new q(new ei(0,"SetEmpty"),new q(ri(j),A));continue n;case 11:n=U,t=V,e=new q(I,new q(ii(D,new ei(0,"SetEmpty"),N,0),_));continue n}break}}(n,new q(t,new q),new q(e,new q))}function pi(n,t){const e=Je(t);try{return function(n,t,e){for(;;){const r=n,i=t,o=e;if(!o.MoveNext())return i;n=r,t=ci(r,o.Current,i),e=o}}(n,new ei(0,"SetEmpty"),e)}finally{i(e)&&e.Dispose()}}Object.defineProperty(hi.prototype,"Current",{get:function(){return di(this.i)}}),hi.prototype.MoveNext=function(){return function(n){if(n.started){const t=n.stack;if(null==t.tail)return!1;if(2===t.head.tag)return n.stack=ai(t.tail),!(null==n.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return n.started=!0,!(null==n.stack.tail)}(this.i)},hi.prototype.Reset=function(){this.i=li(this.s)},hi.prototype.Dispose=function(){};const mi=V((function(n,t){this.comparer=n,this.tree=t}));function yi(n,t){return this instanceof mi?mi.call(this,n,t):new mi(n,t)}function vi(n){return n.comparer}function bi(n){return n.tree}function Si(n,t){return yi(t,pi(t,n))}mi.prototype.toString=function(){return"set ["+(Me("; ",sr((function(n){return String(n)}),this))+"]")},mi.prototype.GetHashCode=function(){let n=0;const t=wi(bi(this));for(;t.MoveNext();){n=((0|n)<<1)+(0|w(t.Current))+631}return 0|Math.abs(n)},mi.prototype.Equals=function(n){return 0===gi(vi(this),bi(this),bi(n))},mi.prototype.CompareTo=function(n){return 0|gi(vi(this),bi(this),bi(n))},mi.prototype[Symbol.iterator]=function(){return Ze(wi(bi(this)))};function Ei(n,t,e,r){return n.fill(r,t,t+e),n}function xi(n,t,e){if(ArrayBuffer.isView(t)){const r=0|t.length,i=new e(r);for(let e=0;e<=r-1;e++)i[e]=n(t[e]);return i}return t.map((function(t){return n(t)}))}function Oi(n,t,e){if(n<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=new e(n);for(let e=0;e<=n-1;e++)r[e]=t(e);return r}function Ci(n,t,e){return e.reduce((function(t,e){return n(t,e)}),t)}function ki(n,t,e,r){return function(n,t,e,r){let i=r;if(t.length!==e.length)throw new Error("Arrays had different lengths");const o=0|t.length;for(let r=1;r<=o;r++)i=n(r-1,t[o-r],e[o-r],i);return i}((function(t,e,r,i){return n(e,r,i)}),t,e,r)}function Mi(n,t){return t.from(n)}const Pi=V((function(n,t){this.bound=0|n,this.digits=t}),J);function Ti(n,t){for(;;){const e=n,r=t;if(0===r)return 1;if(r%2!=0)return e*Ti(e*e,~~(r/2))|0;n=e*e,t=~~(r/2)}}Ft(2013265921,0,!1),Ft(2013265921,0,!0);Oi(28,(function(n){return Ti(2,n)}),Int32Array);function Bi(n){return n.bound}function Fi(n,t){return n.digits[t]}function Ri(n,t){return _t(Fi(n,t),!1,2)}function ji(n,t,e){n.digits[t]=e}function Ai(n,t){for(;;){const e=n,r=t;if(0===r)return Ft(1,0,!1);if(r%2!=0)return Ct(e,Ai(Ct(e,e),~~(r/2)));n=Ct(e,e),t=~~(r/2)}}function Di(n,t){for(;;){const e=n,r=t;if(0===r)return 1;if(r%2!=0)return e*Di(e*e,~~(r/2))|0;n=e*e,t=~~(r/2)}}const Ii=Ft(16777216,0,!1),Ni=Ft(16777215,0,!1);Ft(16777215,0,!0);function _i(n){return new Pi(n,new Int32Array(n))}function Ui(n){const t=0|function(n,t){for(;;){const e=n,r=t;if(-1===r||0!==e[r])return r+1|0;n=e,t=r-1}}(n.digits,n.bound-1);return n.bound=t,n}function Vi(n){const t=0|(n<0?0:n);if(t<16777216){const n=_i(1);return n.digits[0]=t,Ui(n)}{const n=_i(2);for(let e=0;e<=1;e++)n.digits[e]=~~(t/Di(16777216,e))%16777216;return Ui(n)}}const Li=Vi(1),$i=Vi(0);function qi(n){return n.bound-1}function Gi(n){return 0===n.bound}function Hi(n,t){if(n.bound===t.bound){return function(n,t,e){for(;;){const r=n,i=t,o=e;if(-1===o)return!0;if(r[o]!==i[o])return!1;n=r,t=i,e=o-1}}(n.digits,t.digits,n.bound-1)}return!1}function Wi(n,t){if(n.bound<t.bound)return-1;if(n.bound>t.bound)return 1;return 0|function(n,t,e){for(;;){const r=n,i=t,o=e;if(-1===o)return 0;if(r[o]!==i[o])return r[o]<i[o]?-1:1;n=r,t=i,e=o-1}}(n.digits,t.digits,n.bound-1)}function zi(n,t){return-1===Wi(n,t)}function Ji(n,t,e){for(var r;;){const i=n,o=t,u=e;if(!(Bt(o,Ft(0,0,!1))>0))break;{const s=Ot(Ri(i,u),o);ji(i,u,(r=Tt(s,Ni),~~At(r))),n=i,t=kt(s,Ii),e=u+1}}}function Zi(n,t){var e;const r=0|Bi(n),i=_i(r+1|0),o=_t(t,!1,2);let u=Ft(0,0,!1);for(let t=0;t<=r-1;t++){const r=Ot(Ot(u,Ri(i,t)),Ct(Ri(n,t),o));ji(i,t,(e=Tt(r,Ni),~~At(e))),u=kt(r,Ii)}return Ji(i,u,r),Ui(i)}function Xi(n,t){const e=1===Bi(n),r=1===Bi(t);return e&&r?function(n,t){var e;const r=_i(2),i=Ct(_t(n,!1,2),_t(t,!1,2));return ji(r,0,(e=Tt(i,Ni),~~At(e))),ji(r,1,~~At(kt(i,Ii))),Ui(r)}(Fi(n,0),Fi(t,0)):e?Zi(t,Fi(n,0)):r?Zi(n,Fi(t,0)):function(n,t){var e;const r=_i(n.bound+t.bound|0);for(let i=0;i<=n.bound-1;i++){const o=_t(n.digits[i],!1,2);let u=Ft(0,0,!1),s=0|i;for(let n=0;n<=t.bound-1;n++){const i=_t(t.digits[n],!1,2),c=Ot(Ot(_t(r.digits[s],!1,2),u),Ct(o,i));r.digits[s]=(e=Tt(c,Ni),~~At(e)),u=kt(c,Ii),s+=1}Ji(r,u,s)}return Ui(r)}(n,t)}const Yi=V((function(n,t,e,r,i,o,u){this.bigL=0|n,this.twoToBigL=0|t,this.k=0|e,this.bigK=0|r,this.bigN=0|i,this.split=0|o,this.splits=u}),J);function Ki(n,t,e,r){return new Yi(n,Di(2,n),t,e,r,~~(24/n),Oi(~~(24/n),(function(t){return Di(2,n*t)}),Int32Array))}const Qi=[Ki(1,28,268435456,268435456),Ki(2,26,67108864,134217728),Ki(3,24,16777216,50331648),Ki(4,22,4194304,16777216),Ki(5,20,1048576,5242880),Ki(6,18,262144,1572864),Ki(7,16,65536,458752),Ki(8,14,16384,131072),Ki(9,12,4096,36864),Ki(10,10,1024,10240),Ki(11,8,256,2816),Ki(12,6,64,768),Ki(13,4,16,208)];Oi(24,(function(n){return Di(2,n)-1}),Int32Array),Oi(24,(function(n){return Di(2,n)}),Int32Array),Oi(24,(function(n){return Ai(Ft(2,0,!1),n)}),Array);Qi[0].bigN;function no(n,t){return Xi(n,t)}function to(n,t,e,r){const i=[n.digits,qi(n)],o=[e.digits,qi(e)],u=_t(t,!1,2);let s=0,c=Ct(u,_t(o[0][0],!1,2));for(;Bt(c,Ft(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let n,t;const e=Tt(c,Ni);let f;t=~~At(e),n=t;f=kt(c,Ii),n<=i[0][s+r]?i[0][s+r]=i[0][s+r]-n:(i[0][s+r]=i[0][s+r]+(16777216-n),f=Ot(f,Ft(1,0,!1))),c=s<o[1]?Ot(f,Ct(u,_t(o[0][s+1],!1,2))):f,s+=1}Ui(n)}function eo(n,t,e,r){const i=[n.digits,qi(n)],o=[e.digits,qi(e)],u=_t(t,!1,2);let s=0,c=Ct(u,_t(o[0][0],!1,2));for(;Bt(c,Ft(0,0,!1))>0||s<o[1];){if(s>i[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let n,t;const e=Tt(c,Ni);let f;t=~~At(e),n=t;f=kt(c,Ii),n<16777216-i[0][s+r]?i[0][s+r]=i[0][s+r]+n:(i[0][s+r]=n-(16777216-i[0][s+r]),f=Ot(f,Ft(1,0,!1))),c=s<o[1]?Ot(f,Ct(u,_t(o[0][s+1],!1,2))):f,s+=1}Ui(n)}function ro(n,t,e){const r=[qi(t),qi(n)];if(r[1]<r[0]+e)return 0;{let c;if(0===r[0])if(r[1]===e)c=~~(n.digits[e]/t.digits[0]);else{const e=kt(Ot(Ct(_t(n.digits[r[1]],!1,2),Ii),_t(n.digits[r[1]-1],!1,2)),_t(t.digits[0],!1,2));c=~~At(e)}else if(r[1]===r[0]+e)c=~~(n.digits[r[1]]/(t.digits[r[0]]+1));else{const e=kt(Ot(Ct(_t(n.digits[r[1]],!1,2),Ii),_t(n.digits[r[1]-1],!1,2)),Ot(_t(t.digits[r[0]],!1,2),Ft(1,0,!1)));c=~~At(e)}if(0===c){return 1!=(o=e,u=n,s=0,(i=t).bound+o<u.bound+s?-1:i.bound+o>u.bound+o?1:0|function(n,t,e){n:for(;;){const r=n,i=t,u=e;if(-1===u)return 0;{const c=0|(u<o?0:r[u-o]),f=0|(u<s?0:i[u-s]);if(c===f){n=r,t=i,e=u-1;continue n}return c<f?-1:1}}}(i.digits,u.digits,i.bound+o-1))?1:0}return 0|c}var i,o,u,s}function io(n,t){if(Gi(t))throw new Error;if(qi(n)<qi(t))return[$i,n];{const i=new Pi((e=n).bound,(r=e.digits,Int32Array,r.slice())),o=_i(qi(n)-qi(t)+1+1);let u=0|qi(n);const s=0|qi(t);let c=u-s|0;const f=function(n){};let a=!1;for(;!a;){f([o,i,c,u]);const n=0|ro(i,t,c);n>0?(to(i,n,t,c),eo(o,n,Li,c),f([o,i,c,u])):(a=0===n&&0===c,a||(u===s+c?(f([o,i,c-1,u]),c-=1):(f([o,i,c-1,u-1]),c-=1,u-=1)))}return[Ui(o),Ui(i)]}var e,r}Vi(2);function oo(n){return Vi(n)}function uo(n){return function(n){const t=Bt(n,Ft(0,0,!1))<0?Ft(0,0,!1):n,e=_i(3);for(let n=0;n<=2;n++)e.digits[n]=~~At(Mt(kt(t,Ai(Ii,n)),Ii));return Ui(e)}(n)}function so(n){const t=0|qi(n),e=function(n,e,r){for(;;){const i=n,o=e,u=r;if(qi(u)>t)return new q([o,u],i);n=new q([o,u],i),e=o+1,r=no(u,u)}}(new q,0,Vi(10)),r=function n(t,e,r,i){if(null!=i.tail){const o=io(r,i.head[1]);if(t&&Gi(o[0])){return n(t,e,o[1],i.tail)}{const r=n(!1,e,o[1],i.tail);return n(t,r,o[0],i.tail)}}{const n=0|function(n){if(1===n.bound)return 0|n.digits[0];{let t=0;for(let e=n.bound-1;e>=0;e--)t=n.digits[e]+16777216*t;return 0|t}}(r);return t&&0===n?e:new q(f(n),e)}}(!0,new q,n,e);if(null==r.tail)return"0";{let n;return n=Mi(r,Array),Me("",n)}}function co(n){return n.bound<=1}function fo(n){return 0<n.bound?0|n.digits[0]:0}const ao=V((function(n,t){this.signInt=n,this.v=t}),J);function lo(n,t){return this instanceof ao?ao.call(this,n,t):new ao(n,t)}function ho(n){return co(n)&&fo(n)<ao.smallLim?ao.smallPosTab[fo(n)]:n}function wo(n){return n.signInt}function go(n){return n.v}function po(n,t){const e=[wo(n),wo(t)];switch(-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9){case 0:case 1:return Hi(go(n),go(t));case 2:case 3:return!!Gi(go(n))&&Gi(go(t));case 4:return!0;case 5:case 6:return Gi(go(t));case 7:case 8:return Gi(go(n));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function mo(n,t){const e=[wo(n),wo(t)];switch(-1===e[0]?-1===e[1]?1:0===e[1]?8:1===e[1]?3:9:0===e[0]?-1===e[1]?6:0===e[1]?4:1===e[1]?5:9:1===e[0]?-1===e[1]?2:0===e[1]?7:1===e[1]?0:9:9){case 0:return zi(go(n),go(t));case 1:return zi(go(t),go(n));case 2:return!1;case 3:return!Gi(go(n))||!Gi(go(t));case 4:return!1;case 5:return!Gi(go(t));case 6:case 7:return!1;case 8:return!Gi(go(n));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function yo(n){return n>=0?lo.call(this,1,ho(oo(n))):-2147483648===n?lo.call(this,-1,ho(uo(Pt(_t(n,!1,2))))):lo.call(this,-1,ho(oo(jn(n))))}function vo(){return ao.one}function bo(){return ao.two}function So(){return ao.zero}function Eo(n){for(;;){const t=n;if(null==t.tail)return;if(null==t.tail.tail)return Fe(t.head);n=t.tail}}function xo(n,t,e){for(;;){const r=n,i=t,o=e;if(null==o.tail)return i;n=r,t=r(i,o.head),e=o.tail}}function Oo(n){return xo((function(n,t){return new q(t,n)}),new q,n)}function Co(n){return Oo(ir((function(n,t){return new q(t,n)}),new q,n))}function ko(n){return xo((function(n,t){return n+1}),0,n)}function Mo(n,t){return xo((function(n,t){return new q(t,n)}),t,Oo(n))}function Po(n,t){return Oo(xo((function(t,e){return new q(n(e),t)}),new q,t))}function To(n,t){xo((function(t,e){n(e)}),void 0,t)}function Bo(n){let t=new q;for(let e=function(n){if(r(n))return n.length;{let t=0;for(const e of n)t++;return t}}(n)-1;e>=0;e--)t=new q(n[e],t);return t}function Fo(n,t){return Oo(xo((function(t,e){return n(e)?new q(e,t):t}),new q,t))}ao.smallLim=4096,ao.smallPosTab=Oi(ao.smallLim,oo,Array),ao.one=yo(1),ao.two=yo(2),ao.zero=yo(0),ao.prototype.toString=function(){const n=this;switch(0|wo(n)){case-1:return Gi(go(n))?"0":"-"+so(go(n));case 0:return"0";case 1:return so(go(n));default:throw new Error("signs should be +/- 1 or 0")}},ao.prototype.Equals=function(n){return n instanceof ao&&po(this,n)},ao.prototype.GetHashCode=function(){return 0|(0===wo(n=this)?1:wo(n)+function(n){let t=0;for(let e=0;e<=n.bound-1;e++)t=n.digits[e]+(t<<3);return 0|t}(go(n))|0);var n},ao.prototype.CompareTo=function(n){if(n instanceof ao)return 0|(mo(t=this,e=n)?-1:po(t,e)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var t,e};So(),vo(),bo();So(),vo();function Ro(n,t){const e=new Date(n);return e.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),e}function jo(){return Ro(-621355968e5,0)}function Ao(n){const t=Xt(n),e=Lt.exec(n),r=null==e?-6e4*t.getTimezoneOffset():"Z"===e[0]?0:36e5*parseInt(e[1],10)+6e4*parseInt(e[2],10);return Ro(t.getTime(),r)}function Do(n){return n<0?Math.ceil(n):Math.floor(n)}function Io(n=0,t=0,e=0,r=0,i=0){switch(arguments.length){case 1:return No(arguments[0]);case 3:n=0,t=arguments[0],e=arguments[1],r=arguments[2],i=0}return 864e5*n+36e5*t+6e4*e+1e3*r+i}function No(n){return It(kt(n,1e4))}function _o(n,t="c",e){if(-1===["c","g","G"].indexOf(t))throw new Error("Custom formats are not supported");const r=Math.abs(function(n){return Do(n/864e5)}(n)),i=Math.abs(function(n){return Do(n%864e5/36e5)}(n)),o=Math.abs(function(n){return Do(n%36e5/6e4)}(n)),u=Math.abs(function(n){return Do(n%6e4/1e3)}(n)),c=Math.abs(function(n){return Do(n%1e3)}(n));return`${n<0?"-":""}${0!==r||"c"!==t&&"g"!==t?"c"===t?r+".":r+":":""}${"g"===t?i:s(i,2)}:${s(o,2)}:${s(u,2)}${0!==c||"c"!==t&&"g"!==t?"g"===t?"."+s(c,3):"."+function(n,t,e){let r=n.toString(10);for(;r.length<t;)r="0"+r;for(;r.length<e;)r+="0";return r}(c,3,7):""}`}function Uo(n){const t=n.search("\\."),e=n.search("\\:");if(-1===t&&-1===e){const t=parseInt(n,0);if(isNaN(t))throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`);return Io(t,0,0,0,0)}if(e>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(n);if(null!=t&&null!=t[4]&&null!=t[5]){let e=0,r=0,i=0;const o=null!=t[1]&&"-"===t[1]?-1:1,u=+t[4],s=+t[5];if(null!=t[3]&&(e=+t[3]),null!=t[7]&&(i=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`)}return o*Io(e,u,s,i,r)}}throw new Error(`String '${n}' was not recognized as a valid TimeSpan.`)}function Vo(n){return void 0===n}function Lo(n,t,e){try{return"Expecting "+n+" but instead got:"+(e?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+n+" but decoder failed. Couldn't report given value due to circular structure."+(e?"\n":" ")}}function $o(n,t){const e=2===t.tag?Lo(t.fields[0],t.fields[1],!0):1===t.tag?Lo(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?Lo(t.fields[0],t.fields[1],!0):4===t.tag?Lo(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+Me("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:Lo(t.fields[0],t.fields[1],!1);return 7===t.tag?e:"Error at: `"+n+"`\n"+e}function qo(n,t,e){let r;return r=D(1,t,[n])(e),1===r.tag?new De(1,"Error",$o(r.fields[0][0],r.fields[0][1])):new De(0,"Ok",r.fields[0])}function Go(n,t){try{return qo("$",n,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new De(1,"Error","Given an invalid JSON: "+n.message);throw n}}function Ho(n,t){if("string"==typeof t)return new De(0,"Ok",t);{const e=[n,new _e(0,"BadPrimitive","a string",t)];return new De(1,"Error",e)}}function Wo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-128<=e&&e<=127)return new De(0,"Ok",(e+128&255)-128);{const t=[n,new _e(1,"BadPrimitiveExtra","a sbyte",e,"Value was either too large or too small for a sbyte")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","a sbyte",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!1,8),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","a sbyte",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a sbyte",t)];return new De(1,"Error",e)}}}function zo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=255)return new De(0,"Ok",255&e);{const t=[n,new _e(1,"BadPrimitiveExtra","a byte",e,"Value was either too large or too small for a byte")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","a byte",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!0,8),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","a byte",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a byte",t)];return new De(1,"Error",e)}}}function Jo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-32768<=e&&e<=32767)return new De(0,"Ok",(e+32768&65535)-32768);{const t=[n,new _e(1,"BadPrimitiveExtra","an int16",e,"Value was either too large or too small for an int16")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","an int16",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!1,16),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","an int16",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","an int16",t)];return new De(1,"Error",e)}}}function Zo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=65535)return new De(0,"Ok",65535&e);{const t=[n,new _e(1,"BadPrimitiveExtra","an uint16",e,"Value was either too large or too small for an uint16")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","an uint16",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!0,16),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","an uint16",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","an uint16",t)];return new De(1,"Error",e)}}}function Xo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(-2147483648<=e&&e<=2147483647)return new De(0,"Ok",~~e);{const t=[n,new _e(1,"BadPrimitiveExtra","an int",e,"Value was either too large or too small for an int")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","an int",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!1,32),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","an int",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","an int",t)];return new De(1,"Error",e)}}}function Yo(n){return function(t){if("number"==typeof t){const e=t;if(isFinite(e)&&Math.floor(e)===e){if(0<=e&&e<=4294967295)return new De(0,"Ok",e>>>0);{const t=[n,new _e(1,"BadPrimitiveExtra","an uint32",e,"Value was either too large or too small for an uint32")];return new De(1,"Error",t)}}{const t=[n,new _e(1,"BadPrimitiveExtra","an uint32",e,"Value is not an integral value")];return new De(1,"Error",t)}}if("string"==typeof t){let e;if(e=Rn(t,511,!0,32),e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","an uint32",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","an uint32",t)];return new De(1,"Error",e)}}}(()=>{const n=Ft(0,2147483648,!1),t=Ft(4294967295,2147483647,!1)})(),(()=>{const n=Ft(0,0,!0),t=Ft(4294967295,4294967295,!0)})();function Ko(n,t){if("number"==typeof t)return new De(0,"Ok",t);{const e=[n,new _e(0,"BadPrimitive","a float",t)];return new De(1,"Error",e)}}function Qo(n,t){if("string"==typeof t){const r=function(n,t){try{return null==n||""===n.trim()?[!1,Zt()]:[!0,Yt(n)]}catch(n){return[!1,Zt()]}}(t,Zt());if(r[0]){const n=1===(e=r[1]).kind?e:Jt(e.getTime(),1);return new De(0,"Ok",n)}{const e=[n,new _e(0,"BadPrimitive","a datetime",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a datetime",t)];return new De(1,"Error",e)}var e}function nu(n,t){if("string"==typeof t){const e=function(n,t){try{return[!0,Ao(n)]}catch(n){return[!1,jo()]}}(t,jo());if(e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","a datetimeoffset",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a datetime",t)];return new De(1,"Error",e)}}function tu(n,t){if("string"==typeof t){const e=function(n,t){try{return[!0,Uo(n)]}catch(n){return[!1,0]}}(t);if(e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","a timespan",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a timespan",t)];return new De(1,"Error",e)}}function eu(n,t,e){let r;if(r=D(1,t,[n])(e),1===r.tag){if(null==e)return new De(0,"Ok",void 0);if(1===r.tag)return new De(1,"Error",r.fields[0]);throw new Error("The match cases were incomplete")}return new De(0,"Ok",Fe(r.fields[0]))}function ru(n,t,e){var r;const i=je(t,Me(".",new q("$",n))),o="an object with path `"+Me(".",n)+"`";return new De(1,"Error",[i,new _e(4,"BadPath",o,e,(r=Eo(n),je(r,"")))])}function iu(n,t,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[n];return Vo(i)?new De(1,"Error",[e,new _e(3,"BadField","an object with a field named `"+n+"`",r)]):t(e+"."+n,i)}return new De(1,"Error",[e,new _e(2,"BadType","an object",r)])}function ou(n,t,e,r){let i;if(i=xo((function(t,e){if(null==t[2]){if(null==t[1]){const e=ru(n,t[0],r);return[t[0],t[1],e]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const i=t[1][e];if(Vo(i)){const e=ru(n,void 0,r);return[t[0],i,e]}return[t[0]+"."+e,i,void 0]}{const n=new De(1,"Error",[t[0],new _e(2,"BadType","an object",t[1])]);return[t[0],t[1],n]}}return[t[0],t[1],t[2]]}),[e,r,void 0],n),null==i[2])return t(i[0],i[1]);return i[2]}function uu(n,t,e,r){const i=e+".["+f(n)+"]";if(Array.isArray(r)){const e=r;if(n<e.length)return t(i,e[n]);{const t="a longer array. Need index `"+f(n)+"` but there are only `"+(f(0|e.length)+"` entries"),o=[i,new _e(5,"TooSmallArray",t,r)];return new De(1,"Error",o)}}{const n=[i,new _e(0,"BadPrimitive","an array",r)];return new De(1,"Error",n)}}function su(n,t,e){if(Array.isArray(e)){let r=-1;const i=e;let o;return o=Ci((function(e,i){if(r+=1,0===e.tag){const o=n(t+".["+f(r)+"]",i);return 0===o.tag?new De(0,"Ok",new q(o.fields[0],e.fields[0])):new De(1,"Error",o.fields[0])}return e}),new De(0,"Ok",new q),i),Ie(Oo,o)}{const n=[t,new _e(0,"BadPrimitive","a list",e)];return new De(1,"Error",n)}}function cu(n,t,e){if(Array.isArray(e)){let r=-1;const i=e,o=Ei(new Array(i.length),0,i.length,null);return Ci((function(e,i){if(r+=1,0===e.tag){const o=n(t+".["+f(r)+"]",i);return 0===o.tag?(e.fields[0][r]=o.fields[0],new De(0,"Ok",e.fields[0])):new De(1,"Error",o.fields[0])}return e}),new De(0,"Ok",o),i)}{const n=[t,new _e(0,"BadPrimitive","an array",e)];return new De(1,"Error",n)}}function fu(n,t){if(null!==t&&Object.getPrototypeOf(t||!1)===Object.prototype){let n;return n=Co(Object.keys(t)),new De(0,"Ok",n)}{const e=[n,new _e(0,"BadPrimitive","an object",t)];return new De(1,"Error",e)}}function au(n,t,e){return new De(0,"Ok",n)}function lu(n,t,e){const r=[t,new _e(6,"FailMessage",n)];return new De(1,"Error",r)}function du(n,t,e,r){const i=t(e,r);return 0===i.tag?n(i.fields[0],e,r):new De(1,"Error",i.fields[0])}function hu(n,t,e,r){const i=t(e,r);return 1===i.tag?new De(1,"Error",i.fields[0]):new De(0,"Ok",n(i.fields[0]))}function wu(n,t,e,r){let i;return i=D(1,e,[t])(r),1===i.tag?(n.push(i.fields[0]),null):i.fields[0]}const gu=V((function(n,t){const e=this;e.errors=[],e.required={Field:(r,i)=>wu(e.errors,n,(function(n,t){return iu(r,i,n,t)}),t),At:(r,i)=>wu(e.errors,n,(function(n,t){return ou(r,i,n,t)}),t),Raw:r=>wu(e.errors,n,r,t)},e.optional={Field:(r,i)=>wu(e.errors,n,(function(n,t){return function(n,t,e,r){if(null!==r&&Object.getPrototypeOf(r||!1)===Object.prototype){const i=r[n];return Vo(i)?new De(0,"Ok",void 0):eu(e+"."+n,t,i)}return new De(1,"Error",[e,new _e(2,"BadType","an object",r)])}(r,i,n,t)}),t),At:(r,i)=>wu(e.errors,n,(function(n,t){return function(n,t,e,r){let i;return i=xo((function(t,e){if(null==t[2]){if(null==t[1]){const e=ru(n,t[0],r);return[t[0],t[1],e]}if(null!==t[1]&&Object.getPrototypeOf(t[1]||!1)===Object.prototype){const n=t[1][e];return[t[0]+"."+e,n,void 0]}{const n=new De(1,"Error",[t[0],new _e(2,"BadType","an object",t[1])]);return[t[0],t[1],n]}}return[t[0],t[1],t[2]]}),[e,r,void 0],n),null==i[2]?Vo(i[1])?new De(0,"Ok",void 0):eu(i[0],t,i[1]):i[2]}(r,i,n,t)}),t),Raw(r){let i;if(i=D(1,r,[n])(t),1!==i.tag)return Fe(i.fields[0]);var o,u;switch(1===i.fields[0][1].tag||2===i.fields[0][1].tag?(o=0,u=i.fields[0][1].fields[1]):3===i.fields[0][1].tag||4===i.fields[0][1].tag?o=1:5===i.fields[0][1].tag||6===i.fields[0][1].tag||7===i.fields[0][1].tag?o=2:(o=0,u=i.fields[0][1].fields[1]),o){case 0:return null==u?void 0:(e.errors.push(i.fields[0]),null);case 1:return;case 2:return e.errors.push(i.fields[0]),null}}}}));function pu(n){return _r(t={Compare:E},Tr(t,n));var t}function mu(n,t,e,r){var i,o,u,s,c,f;if(t.length!==r.length){const a=[e,(o=0|t.length,u=0|r.length,s=xe(Ee("Expected %i %s but got %i")),c=s(o),f=c(n),i=f(u),new _e(6,"FailMessage",i))];return new De(1,"Error",a)}{const n=new De(0,"Ok",new q);return ki(j(3,I((function(n){return function(t){return function(r){if(0===r.tag){return Ie((function(n){return new q(n,r.fields[0])}),t(e,n))}return r}}}),[0,[0,2],0])),r,t,n)}}function yu(n,t,e,r,i,o){let u;const s=bn(e);var c;if(c=function(n){return fn(n)===r},u=s.find(c),null!=u){const e=u;if(0===o.length){const n=Mn(e,[]);return new De(0,"Ok",n)}{let r;r=xi((function(e){return bu(n,t,!1,e[1])}),kn(e),Array);return Ie((function(n){return Mn(e,Mi(n,Array))}),mu("union fields",r,i,o))}}{const n=[i,new _e(6,"FailMessage","Cannot find case "+r+" in "+an(e))];return new De(1,"Error",n)}}function vu(n,t,e,r){const i=new Z(null);let o;const u=an(r);let s;if(o=Gr(u,i,n),On(r)){let n;const e=Sn(r);n=xi((function(n){return[We(t,fn(n)),bu(o,t,!1,n[1])]}),e,Array),s=function(t){return function(e){const i=function(n,t,e){if(null===e||Object.getPrototypeOf(e||!1)!==Object.prototype){const n=[t,new _e(0,"BadPrimitive","an object",e)];return new De(1,"Error",n)}{const o=new De(0,"Ok",new q);return r=function(n,r){return 0===r.tag?Ie((function(n){return new q(n,r.fields[0])}),n[1](t+"."+n[0])(e[n[0]])):r},i=o,n.reduceRight((function(n,t){return r(t,n)}),i)}var r,i}(n,t,e);return Ie((function(n){return Pn(r,Mi(n,Array))}),i)}}}else if(xn(r))s=function(n){return function(e){if("string"==typeof e){return yu(o,t,r,e,n,[])}if(Array.isArray(e)){const i=e;let u;return u=i[0],yu(o,t,r,u,n,i.slice(1,i.length))}{const t=[n,new _e(0,"BadPrimitive","a string or array",e)];return new De(1,"Error",t)}}};else{if(!e){let n;const t=an(r);throw n=xe(Ee("Cannot generate auto decoder for %s. Please pass an extra decoder."))(t),new Error(n)}s=function(n){return function(t){return new De(1,"Error",[n,new _e(2,"BadType","an extra coder for "+an(r),t)])}}}return i.contents=s,s}function bu(n,t,e,r){var i,o;const u=an(r),s=Hr(u,n);if(null==s){if(ln(r)){let e;const i=dn(r);return e=bu(n,t,!1,i),function(n){return function(t){return cu(j(2,e),n,t)}}}if(wn(r)){const n=an(pn(r));return"System.SByte"===n?function(n){return function(t){const e=Wo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=rr(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}}}:"System.Byte"===n?function(n){return function(t){const e=zo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=rr(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}}}:"System.Int16"===n?function(n){return function(t){const e=Jo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let u,s;if(s=mn(r),u=rr(e.fields[0],s),u){const n=vn(r,(i=(i=e.fields[0])<0&&null!=o&&10!==o?65535+i+1:i).toString(o));return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}var i,o}}:"System.UInt16"===n?function(n){return function(t){const e=Zo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=rr(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}}}:"System.Int32"===n?function(n){return function(t){const e=Xo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=rr(e.fields[0],o),i){const n=vn(r,f(e.fields[0]));return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}}}:"System.UInt32"===n?function(n){return function(t){const e=Yo(n)(t);if(1===e.tag)return new De(1,"Error",e.fields[0]);{let i,o;if(o=mn(r),i=rr(e.fields[0],o),i){const n=vn(r,e.fields[0].toString());return new De(0,"Ok",n)}{const e=[n,new _e(1,"BadPrimitiveExtra",an(r),t,"Unkown value provided for the enum")];return new De(1,"Error",e)}}}}:(i=Oe(Ee("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    ")),function(n){const t=i(n);return function(n){const e=t(n);return function(n){return e(n)}}})(an(r))}if(hn(r)){if(Cn(r)){let e;const i=En(r);return e=xi((function(e){return bu(n,t,!1,e)}),i,Array),function(n){return function(t){if(Array.isArray(t)){return Ie((function(n){return Mi(n,Array)}),mu("tuple elements",e,n,t))}{const e=[n,new _e(0,"BadPrimitive","an array",t)];return new De(1,"Error",e)}}}}{const i=an(gn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){let e,i;const o=K(r)[0];return i=bu(n,t,!0,o),e=function(n){return function(t){return e=j(2,i),r=n,null==(o=t)?new De(0,"Ok",void 0):Ie((function(n){return Fe(n)}),e(r,o));var e,r,o}},e}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i){let e,i;const o=K(r)[0];return i=bu(n,t,!1,o),e=function(n){return function(t){return su(j(2,i),n,t)}},e}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){let e;const i=K(r)[0];let u;e=bu(n,t,!1,i);const s=K(r)[1];let f;u=bu(n,t,!1,s);const l=Bo([function(n){return function(t){return function(n,t,e,r){if(null===r||Object.getPrototypeOf(r||!1)!==Object.prototype){const n=[e,new _e(0,"BadPrimitive","an object",r)];return new De(1,"Error",n)}return ir((function(i,o){if(0===i.tag){let u;if(u=D(1,n,[e])(o),0===u.tag){const n=t(e+"."+o,r[o]);if(0===n.tag){const t=new q([u.fields[0],n.fields[0]],i.fields[0]);return new De(0,"Ok",t)}return new De(1,"Error",n.fields[0])}return new De(1,"Error",u.fields[0])}return i}),new De(0,"Ok",new q),Object.keys(r))}(j(2,e),j(2,u),n,t)}},(c=j(2,e),a=j(2,u),o=function(n){return function(t){return du((function(n,t,e){return du((function(t,e,r){return au([n,t])}),(function(n,t){return uu(1,a,n,t)}),t,e)}),(function(n,t){return uu(0,c,n,t)}),n,t)}},function(n){return function(t){return su(j(2,o),n,t)}})]);return f=function(n){return function(t){return e=n,r=t,function(n,t){n:for(;;){const i=n,o=t;if(null==i.tail){const n=[e,new _e(7,"BadOneOf",o)];return new De(1,"Error",n)}{const u=qo(e,j(2,i.head),r);if(1===u.tag){n=i.tail,t=Mo(o,new q(u.fields[0],new q));continue n}return new De(0,"Ok",u.fields[0])}}}(l,new q);var e,r}},function(n){return function(t){return hu((function(n){return pu(n)}),j(2,f),n,t)}}}if("Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let e;const i=K(r)[0];return e=bu(n,t,!1,i),function(n){return function(t){const r=cu(j(2,e),n,t);if(0===r.tag){let n;return n=Si(r.fields[0],{Compare:E}),new De(0,"Ok",n)}return new De(1,"Error",r.fields[0])}}}return vu(n,t,e,r)}}return"System.Boolean"===u?function(n){return function(t){return function(n,t){if("boolean"==typeof t)return new De(0,"Ok",t);{const e=[n,new _e(0,"BadPrimitive","a boolean",t)];return new De(1,"Error",e)}}(n,t)}}:"Microsoft.FSharp.Core.Unit"===u?function(n){return function(t){return function(n,t){if(null==t)return new De(0,"Ok",void 0);{const e=[n,new _e(0,"BadPrimitive","null",t)];return new De(1,"Error",e)}}(n,t)}}:"System.String"===u?function(n){return function(t){return Ho(n,t)}}:"System.SByte"===u?Wo:"System.Byte"===u?zo:"System.Int16"===u?Jo:"System.UInt16"===u?Zo:"System.Int32"===u?Xo:"System.UInt32"===u?Yo:"System.Double"===u?function(n){return function(t){return Ko(n,t)}}:"System.Single"===u?function(n){return function(t){return function(n,t){if("number"==typeof t)return new De(0,"Ok",t);{const e=[n,new _e(0,"BadPrimitive","a float32",t)];return new De(1,"Error",e)}}(n,t)}}:"System.DateTime"===u?function(n){return function(t){return Qo(n,t)}}:"System.DateTimeOffset"===u?function(n){return function(t){return nu(n,t)}}:"System.TimeSpan"===u?function(n){return function(t){return tu(n,t)}}:"System.Guid"===u?function(n){return function(t){return function(n,t){if("string"==typeof t){const e=Pe(t,!0);if(e[0])return new De(0,"Ok",e[1]);{const e=[n,new _e(0,"BadPrimitive","a guid",t)];return new De(1,"Error",e)}}{const e=[n,new _e(0,"BadPrimitive","a guid",t)];return new De(1,"Error",e)}}(n,t)}}:"System.Object"===u?function(n){return function(n){return new De(0,"Ok",n)}}:vu(n,t,e,r)}{const n=s;return function(t){return function(e){return n.contents(t)(e)}}}var c,a}function Su(n){if(null!=n){return Wr((function(n,t){return new Z(t[1])}),n.Coders)}return Jr({Compare:v})}Object.defineProperty(gu.prototype,"Required",{get:function(){return this.required}}),Object.defineProperty(gu.prototype,"Optional",{get:function(){return this.optional}});V((function(){}));const Eu=V((function(){}));function xu(n,t,e){return function(n){return function(r){return du(e,t,n,r)}}}function Ou(n,t){return function(n){return function(n){return au(t)}}}function Cu(n,t){return A(2,t)}!function(){this instanceof Eu?Eu.call(this):new Eu}();function ku(n){return xu(0,Ho,j(3,(function(t){var e,r;return Cu(0,t===n?function(n,t){return au(void 0)}:j(2,(r=xe(Ee("Expected %s to be %s."))(t),e=r(n),function(n){return function(t){return lu(e,n)}})))})))}const Mu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Pu(){return rn("BattleResult.VehicleId",[],Mu,()=>[["VehicleId",[["Item",sn]]]])}const Tu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Bu=V((function(n,t,e,r,i){this.VehicleId=n,this.DamageDealt=0|t,this.Spots=0|e,this.Frags=0|r,this.DefencePoints=0|i}),J);const Fu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Ru=xu(0,(function(n,t){return iu("personal",fu,n,t)}),j(3,(function(n){var t,e,r,i,o;return xu(0,j(2,(e=Po((function(n){return Rn(n,511,!1,32)}),n),i=function(n){return n[0]?n[1]:void 0},o=e,t=Oo(xo((function(n,t){const e=i(t);if(null==e)return n;{const t=Re(e);return new q(t,n)}}),new q,o)),function(n,t){if(null==t)return function(t){return function(e){return lu(n,t)}};{const n=Re(t);return function(t){return function(t){return au(n)}}}}("Expected random battle to have a vehicle.",null!=(r=t).tail?Fe(r.head):void 0))),j(3,(function(n){let t;const e=Bo(["personal",f(n)]);return t=function(n){return function(t){return function(r){return ou(e,n,t,r)}}},xu(0,j(2,t((function(n,t){return iu("damageDealt",j(2,Xo),n,t)}))),j(3,(function(e){return xu(0,j(2,t((function(n,t){return iu("spotted",j(2,Xo),n,t)}))),j(3,(function(r){return xu(0,j(2,t((function(n,t){return iu("kills",j(2,Xo),n,t)}))),j(3,(function(i){return xu(0,j(2,t((function(n,t){return iu("droppedCapturePoints",j(2,Xo),n,t)}))),j(3,(function(t){return Ou(0,new Bu(new Mu(0,"VehicleId",n),e,r,i,t))})))})))})))})))})))}))),ju=xu(0,j(2,(Au=Bo(["common","bonusType"]),function(n){return function(t){return ou(Au,j(2,Xo),n,t)}})),j(3,(function(n){return 1===n?xu(0,j(2,Ru),j(3,(function(n){return Ou(0,new Fu(0,"RandomBattle",n))}))):Ou(0,new Fu(1,"Other"))})));var Au;const Du=V((function(n,t){this.Outcome=n,this.BonusType=t}),J);function Iu(){return en("BattleResult.BattleResult",[],Du,()=>[["Outcome",rn("BattleResult.Outcome",[],Tu,()=>["Victory","DrawOrLoss"])],["BonusType",rn("BattleResult.BonusType",[],Fu,()=>[["RandomBattle",[["Item",en("BattleResult.RandomBattle",[],Bu,()=>[["VehicleId",Pu()],["DamageDealt",sn],["Spots",sn],["Frags",sn],["DefencePoints",sn]])]]],"Other"])]])}function Nu(){var n;return xu(0,j(2,(n=Bo(["common","winnerTeam"]),function(t){return function(e){return ou(n,j(2,Xo),t,e)}})),j(3,(function(n){var t;return xu(0,j(2,(t=Bo(["personal","avatar","team"]),function(n){return function(e){return ou(t,j(2,Xo),n,e)}})),j(3,(function(t){const e=n===t?new Tu(0,"Victory"):new Tu(1,"DrawOrLoss");return xu(0,j(2,ju),j(3,(function(n){return Ou(0,new Du(e,n))})))})))})))}function _u(n){return 0===n.BonusType.tag}const Uu=V((function(){}));function Vu(n,t){return{then(n,e){try{return t().then(n,e)}catch(n){if(m(e,null)){return Promise.reject(n)}try{return Promise.resolve(e(n))}catch(n){return Promise.reject(n)}}},catch(n){try{return t().catch(n)}catch(t){try{return Promise.resolve(n(t))}catch(n){return Promise.reject(n)}}}}}function Lu(n,t){return new Promise((function(n,e){try{let r;r=Promise.resolve(t),r.then(n,e)}catch(n){e(n)}}))}const $u=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const qu=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function Gu(n){return n}function Hu(n){const t={};return or((function(n){t[n[0]]=n[1]}),n),t}function Wu(n){return Array.from(n)}function zu(n){return zt(n,"O")}function Ju(n){return _o(n)}function Zu(n){return String(n)}function Xu(n){return String(n)}function Yu(n){return String(n)}function Ku(n){return String(n)}function Qu(n){return zt(n,"O")}function ns(n,t){return JSON.stringify(t,j(2,null),Fe(n))}function ts(n){return function(t){let e;return e=Ae(n,t),i=function(){return null},null!=(r=e)?Re(r):i();var r,i}}function es(n,t,e,r){const i=new Z(null);let o;const u=an(r);let s;if(o=Gr(u,i,n),On(r)){let n;const i=Sn(r);n=xi((function(n){const r=We(t,fn(n)),i=rs(o,t,e,n[1]);return function(t){return function(o){const u=function(n,t){return n[t[0]]}(t,n);return(!e||e&&null!=u)&&(o[r]=i(u)),o}}}),i,Array),s=function(t){return ir(j(2,I((function(n){return function(e){return e(t,n)}}),[0,[0,2]])),{},n)}}else{if(!xn(r)){let n;const t=an(r);throw n=xe(Ee("Cannot generate auto encoder for %s. Please pass an extra encoder."))(t),new Error(n)}s=function(n){const i=function(n,t){const e=bn(t)[n.tag];if(null==e)throw new Error(`Cannot find case ${n.name} in union type`);return[e,n.fields]}(n,r),u=0|i[1].length;if(0===u){return fn(i[0])}{const n=kn(i[0]),r=Ei(new Array(u+1),0,u+1,null),s=fn(i[0]);r[0]=s;for(let s=1;s<=u;s++){const u=rs(o,t,e,n[s-1][1]);r[s]=u(i[1][s-1])}return r}}}return i.contents=s,s}function rs(n,t,e,r){var i;const o=an(r),s=Hr(o,n);if(null==s){if(ln(r)){let i;const o=dn(r);return i=rs(n,t,e,o),function(n){let t;return t=sr(i,n),Wu(t)}}if(wn(r)){const n=an(pn(r));return"System.SByte"===n?Zu:"System.Byte"===n?Xu:"System.Int16"===n?Yu:"System.UInt16"===n?Ku:"System.Int32"===n?function(n){return n}:"System.UInt32"===n?function(n){return n}:(i=Oe(Ee("Cannot generate auto encoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra encoder.\n                    ")),function(n){const t=i(n);return function(n){return t(n)}})(an(r))}if(hn(r)){if(Cn(r)){let i;const o=En(r);return i=xi((function(r){return rs(n,t,e,r)}),o,Array),function(n){let t;return t=cr((function(n,t){return i[n](t)}),n),Wu(t)}}{const i=an(gn(r));if("Microsoft.FSharp.Core.FSharpOption`1[System.Object]"===i){const i=new u((function(){let i,o;const u=K(r)[0];return o=rs(n,t,e,u),i=ts(o),i}));return function(n){return null==n?null:i.Value(n)}}if("Microsoft.FSharp.Collections.FSharpList`1[System.Object]"===i||"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"===i){let i;const o=K(r)[0];return i=rs(n,t,e,o),function(n){let t;return t=sr(i,n),Wu(t)}}if("Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"===i){const i=K(r)[0];let o;const u=K(r)[1];if(o=rs(n,t,e,u),"System.String"===an(i)||"System.Guid"===an(i))return function(n){return ir((function(n,t){const e=t;return n[e[0]]=o(e[1]),n}),{},n)};{let r;const u=rs(n,t,e,i);return r=function(n){return u(n)},function(n){let t;return t=sr((function(n){const t=n;return[r(t[0]),o(t[1])]}),n),Wu(t)}}}return es(n,t,e,r)}}return"System.Boolean"===o?function(n){return n}:"Microsoft.FSharp.Core.Unit"===o?function(){return null}:"System.String"===o?function(n){return n}:"System.SByte"===o?Zu:"System.Byte"===o?Xu:"System.Int16"===o?Yu:"System.UInt16"===o?Ku:"System.Int32"===o?function(n){return n}:"System.UInt32"===o?function(n){return n}:"System.Double"===o?function(n){return n}:"System.Single"===o?function(n){return n}:"System.DateTime"===o?Qu:"System.DateTimeOffset"===o?zu:"System.TimeSpan"===o?Ju:"System.Guid"===o?Gu:"System.Object"===o?function(n){return n}:es(n,t,e,r)}{const n=s;return function(t){return n.contents(t)}}}function is(n){if(null!=n){return Wr((function(n,t){return new Z(t[0])}),n.Coders)}return Jr({Compare:v})}V((function(){}));!function(){this instanceof Uu?Uu.call(this):new Uu}();const os=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function us(n,t,e,r){return ns(0,function(n,t,e,r){const i=r.ResolveType(),o=je(n,new Ue(0,"PascalCase")),u=je(e,!0);let s,c;const f=an(i);let a,l;return c=String(o)+f,l=Ae((function(n){return n.Hash}),t),a=je(l,""),s=a+c,$e(qe,s,(function(){return rs(is(t),o,u,i)}))}(t,e,void 0,r)(n))}function ss(n,t,e,r,i){let o;const u=function(n,t,e){const r=e.ResolveType(),i=je(n,new Ue(0,"PascalCase"));let o,u;const s=an(r);let c,f;return u=String(i)+s,f=Ae((function(n){return n.Hash}),t),c=je(f,""),o=c+u,$e(Ge,o,(function(){return bu(Su(t),i,!1,r)}))}(t,e,i);let s;o=je(A(2,r),u);const c=i;return s=function(n){return t=n,"Microsoft.FSharp.Core.Unit"===an(c.ResolveType())?new De(0,"Ok",void 0):t();var t},Lu(0,Vu(0,(function(){var t,e;return(n.ok?Lu(0,Vu(0,(function(){return n.text().then((function(n){return Promise.resolve(s((function(){let t;if(t=Go(j(2,o),n),1===t.tag){const n=new os(1,"DecodingFailed",t.fields[0]);return new De(1,"Error",n)}return new De(0,"Ok",t.fields[0])})))}))}))):(e=new os(2,"FetchFailed",n),t=new De(1,"Error",e),Promise.resolve(t))).then((function(n){return Promise.resolve(n)}))})))}V((function(){}));function cs(n,t,e,r,i,o,u,s,c,f){var a,l,d,h,w;try{let g,p;const m=Bo([(a=je(r,"GET"),new qu(0,"Method",a)),(d=je(o,new q),h=e,w=d,l=null!=h?new q(new $u(11,"Content-Type","application/json"),w):w,new qu(1,"Headers",R(l,0)))]);let y;return p=function(n,t,e,r,i){let o;return o=Ae((function(n){let o,u;return u=us(n,t,e,r),o=new qu(2,"Body",u),new q(o,i)}),n),je(o,i)}(e,u,s,f,m),g=function(n,t){let e;return e=Ae((function(n){return Mo(t,n)}),n),je(e,t)}(i,p),y=Lu(0,Vu(0,(function(){return(e=n,r=g,fetch(e,R(r,1))).then((function(n){return ss(n,u,s,t,c)}));var e,r}))),y.then(void 0,(function(n){let t;return t=new os(3,"NetworkError",n),new De(1,"Error",t)}))}catch(n){return Lu(0,Vu(0,(function(){var t;return Promise.resolve((t=new os(0,"PreparingRequestFailed",n),new De(1,"Error",t)))})))}}function fs(n,t,e,r,i,o,u,s,c,a){return Lu(0,Vu(0,(function(){return cs(n,t,e,r,i,o,u,s,c,a).then((function(n){let t;if(1===n.tag)throw new Error(function(n){switch(n.tag){case 1:return"[Thoth.Fetch] Error while decoding the response:\n\n"+n.fields[0];case 2:return"[Thoth.Fetch] Request failed:\n\n"+f(n.fields[0].status)+" "+n.fields[0].statusText+" for URL "+n.fields[0].url;case 3:return"[Thoth.Fetch] A network error occured:\n\n"+n.fields[0].message;default:return"[Thoth.Fetch] Request preparation failed:\n\n"+n.fields[0].message}}(n.fields[0]));return t=n.fields[0],Promise.resolve(t)}))})))}const as=V((function(n,t,e,r,i){this.DamageDealtTarget=n,this.SpotsTarget=t,this.FragsTarget=e,this.DefencePointsTarget=r,this.WinRateTarget=i}),J);function ls(){return en("ExpectedValues.ExpectedValues",[],as,()=>[["DamageDealtTarget",cn],["SpotsTarget",cn],["FragsTarget",cn],["DefencePointsTarget",cn],["WinRateTarget",cn]])}const ds=(()=>{let n,t,e;return e=xu(0,(function(n,t){return iu("IDNum",j(2,Xo),n,t)}),j(3,(function(n){return xu(0,(function(n,t){return iu("expDamage",Ko,n,t)}),j(3,(function(t){return xu(0,(function(n,t){return iu("expSpot",Ko,n,t)}),j(3,(function(e){return xu(0,(function(n,t){return iu("expFrag",Ko,n,t)}),j(3,(function(r){return xu(0,(function(n,t){return iu("expDef",Ko,n,t)}),j(3,(function(i){return xu(0,(function(n,t){return iu("expWinRate",Ko,n,t)}),j(3,(function(o){return Ou(0,[new Mu(0,"VehicleId",n),new as(t,e,r,i,o/100)])})))})))})))})))})))}))),t=function(n){return function(t){return su(j(2,e),n,t)}},n=function(n){return function(e){return iu("data",j(2,t),n,e)}},function(t){return function(e){return hu((function(n){return zr(n,{Compare:(n,t)=>n.CompareTo(t)})}),j(2,n),t,e)}}})();function hs(){return n="https://static.modxvm.com/wn8-data-exp/json/wn8exp.json",t=void 0,e=void 0,r=void 0,i=void 0,o=void 0,u=j(2,ds),fs(n,u,t,void 0,e,r,i,o,{ResolveType:()=>tn("Microsoft.FSharp.Collections.FSharpMap`2",[Pu(),ls()])},{ResolveType:()=>un});var n,t,e,r,i,o,u}function ws(n,t){return Hu([["jsonrpc","2.0"],["method",n],["params",t],["id",n]])}function gs(n,t){var e;return xu(0,j(2,(e=ku(n),function(n){return function(t){return iu("id",j(2,e),n,t)}})),j(3,(function(){return Cu(0,(function(n,e){return iu("result",t,n,e)}))})))}const ps=V((function(n){this.BattleResultsOffset=0|n}),J);function ms(n){var t,e;return e=Bo([ws("subscribe",null),(t=Hu([["after",n.BattleResultsOffset]]),ws("get_battle_results",t))]),Array.from(e)}const ys=V((function(n,t){this.BattleResultsOffset=0|n,this.BattleResults=t}),J);const vs=V((function(n,t){this.BattleResultsOffset=0|n,this.BattleResult=t}),J);function bs(){let n;return n=xu(0,(function(n,t){return iu("timestamp",j(2,Xo),n,t)}),j(3,(function(n){var t;return xu(0,j(2,(t=Nu(),function(n){return function(e){return iu("battleResult",j(2,t),n,e)}})),j(3,(function(t){return Ou(0,new vs(n,t))})))}))),t="subscription",e=j(2,n),xu(0,j(2,(r=ku(t),function(n){return function(t){return iu("method",j(2,r),n,t)}})),j(3,(function(){return Cu(0,(function(n,t){return iu("params",e,n,t)}))})));var t,e,r}class Ss{constructor(n=!1){this._id=0,this._cancelled=n,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,n]of this._listeners)n()}}addListener(n){const t=this._id;return this._listeners.set(this._id++,n),t}removeListener(n){return this._listeners.delete(n)}register(n,t){const e=this,r=this.addListener(null==t?n:()=>n(t));return{Dispose(){e.removeListener(r)}}}}class Es extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Es.prototype)}}function xs(n){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Es);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{n(t)}catch(n){t.onError(n)}});else try{n(t)}catch(n){t.onError(n)}}}function Os(n,t){return xs(e=>{n({onSuccess:n=>{try{t(n)(e)}catch(n){e.onError(n)}},onError:e.onError,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline})})}function Cs(n){return xs(t=>t.onSuccess(n))}new class{Bind(n,t){return Os(n,t)}Combine(n,t){return this.Bind(n,()=>t)}Delay(n){return xs(t=>n()(t))}For(n,t){const e=n[Symbol.iterator]();let r=e.next();return this.While(()=>!r.done,this.Delay(()=>{const n=t(r.value);return r=e.next(),n}))}Return(n){return Cs(n)}ReturnFrom(n){return n}TryFinally(n,t){return xs(e=>{n({onSuccess:n=>{t(),e.onSuccess(n)},onError:n=>{t(),e.onError(n)},onCancel:n=>{t(),e.onCancel(n)},cancelToken:e.cancelToken,trampoline:e.trampoline})})}TryWith(n,t){return xs(e=>{n({onSuccess:e.onSuccess,onCancel:e.onCancel,cancelToken:e.cancelToken,trampoline:e.trampoline,onError:n=>{try{t(n)(e)}catch(n){e.onError(n)}}})})}Using(n,t){return this.TryFinally(t(n),()=>n.Dispose())}While(n,t){return n()?this.Bind(t,()=>this.While(n,t)):this.Return(void 0)}Zero(){return xs(n=>n.onSuccess(void 0))}};new Ss;function ks(n,t){console.error(Fe(n),t)}function Ms(n,t){To((function(t){t(n)}),t)}function Ps(){return new q}function Ts(n){return t=n,Oo(ir((function(n,t){return xo((function(n,t){return new q(t,n)}),n,t)}),new q,t));var t}function Bs(n){return new q((function(t){t(n)}),new q)}V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n){this.__html=n}),J);const Fs=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const Rs=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function js(n){const t=Me(" ",n);return new Rs(24,"ClassName",t)}const As=V((function(){}));!function(){this instanceof As?As.call(this):new As}();var Ds=e(0);function Is(n,t){return E(t,n)<0?Fe(void 0):void 0}function Ns(n){if(null!=Is(.45,n))return["bg-r-very-bad","text-r-very-bad-fg"];if(null!=Is(.47,n))return["bg-r-bad","text-r-bad-fg"];if(null!=Is(.49,n))return["bg-r-below-average","text-r-below-average-fg"];if(null!=Is(.52,n))return["bg-r-average","text-r-average-fg"];if(null!=Is(.54,n))return["bg-r-good","text-r-good-fg"];if(null!=Is(.56,n))return["bg-r-very-good","text-r-very-good-fg"];if(null!=Is(.6,n))return["bg-r-great","text-r-great-fg"];return null!=Is(.65,n)?["bg-r-unicum","text-r-unicum-fg"]:["bg-r-super-unicum","text-r-super-unicum-fg"]}function _s(n){const t=100*n;return xe(Ee("%.0f%%"))(t)}function Us(n){if(null!=Is(300,n))return["bg-r-very-bad","text-r-very-bad-fg"];if(null!=Is(600,n))return["bg-r-bad","text-r-bad-fg"];if(null!=Is(900,n))return["bg-r-below-average","text-r-below-average-fg"];if(null!=Is(1250,n))return["bg-r-average","text-r-average-fg"];if(null!=Is(1600,n))return["bg-r-good","text-r-good-fg"];if(null!=Is(1900,n))return["bg-r-very-good","text-r-very-good-fg"];if(null!=Is(2350,n))return["bg-r-great","text-r-great-fg"];return null!=Is(2900,n)?["bg-r-unicum","text-r-unicum-fg"]:["bg-r-super-unicum","text-r-super-unicum-fg"]}function Vs(n){return xe(Ee("%.0f"))(n)}const Ls=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);const $s=V((function(n){this.state=new Ls(0,"Writable",Ei(new Array(O(v,n,10)),0,O(v,n,10),null),0)}));function qs(n){const t=n.state;if(1===t.tag){const e=(t.fields[2]+1)%t.fields[0].length|0,r=e===t.fields[1];return n.state=r?new Ls(0,"Writable",t.fields[0],t.fields[1]):new Ls(1,"ReadWritable",t.fields[0],t.fields[1],e),Fe(t.fields[0][t.fields[2]])}}function Gs(n,t){const e=n.state;if(1===e.tag){e.fields[0][e.fields[1]]=t;const u=(e.fields[1]+1)%e.fields[0].length|0,s=u===e.fields[2];n.state=s?new Ls(1,"ReadWritable",(r=e.fields[2],i=e.fields[0],o=nr((function(){return Ye(ar(r,i),nr((function(){return Ye(dr(r,i),nr((function(){return Qe((function(n){return tr(null)}),fr(0,1,i.length))})))})))})),Array.from(o)),e.fields[0].length,0):new Ls(1,"ReadWritable",e.fields[0],u,e.fields[2])}else{e.fields[0][e.fields[1]]=t;const r=(e.fields[1]+1)%e.fields[0].length|0;n.state=new Ls(1,"ReadWritable",e.fields[0],r,e.fields[1])}var r,i,o}const Hs=V((function(n,t,e,r,i,o,u){this.init=n,this.update=t,this.subscribe=e,this.view=r,this.setState=i,this.onError=o,this.syncDispatch=u}),J);function Ws(n,t){return new Hs(t.init,t.update,t.subscribe,t.view,n,t.onError,t.syncDispatch)}function zs(n){return A(2,n.view)}function Js(n,t){const e=t.init(n),r=function(n){return this instanceof $s?$s.call(this,n):new $s(n)}(10);let i=!1,o=e[0];const u=D(1,t.syncDispatch,[function(n){var e;if(i)Gs(r,n);else{i=!0;let s=Fe(n);for(;null!=s;){const n=Re(s);try{const e=t.update(n,o);t.setState(e[0],u),Ms(u,e[1]),o=e[0]}catch(r){t.onError([(e=xe(Ee("Unable to process the message: %A")),e(n)),r])}s=qs(r)}i=!1}}]);let s;t.setState(e[0],u);try{s=t.subscribe(e[0])}catch(n){t.onError(["Unable to subscribe:",n]),s=Ps()}const c=Mo(s,e[1]);Ms(u,c)}const Zs=V((function(n,t,e){this.model=n,this.render=t,this.equal=e}),J);const Xs=V((function(n){Ds.a.call(this,n)}),Ds.a);function Ys(n,t,e,r){const i=new Zs(e,(function(){return t(e,r)}),n);let o;return o=Xs,Ds.c(o,i)}function Ks(n,t,e){let r=void 0;return Ws((function(i,o){if(null!=r){const n=r;window.cancelAnimationFrame(n)}r=window.requestAnimationFrame((function(r){Ds.f(n((function(n,t){return n===t}),j(2,zs(e)),i,o),document.getElementById(t))}))}),e)}Xs.prototype.shouldComponentUpdate=function(n,t){return!this.props.equal(this.props.model,n.model)},Xs.prototype.render=function(){return this.props.render()};const Qs=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function nc(){return rn("App.ConnectionState",[],Qs,()=>["Connecting","Subscribed","Disconnected","ProtocolError"])}const tc=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function ec(n){return rn("App.LoadingState`1",[n],tc,()=>["Loading",["Loaded",[["Item",n]]],"Errored"])}const rc=V((function(n,t,e,r){this.ConnectionState=n,this.ExpectedValues=t,this.BattleResults=e,this.BattleResultsOffset=0|r}),J);function ic(){return en("App.Model",[],rc,()=>[["ConnectionState",nc()],["ExpectedValues",ec(tn("Microsoft.FSharp.Collections.FSharpMap`2",[Pu(),ls()]))],["BattleResults",on(Iu())],["BattleResultsOffset",sn]])}const oc=V((function(n,t,...e){this.tag=0|n,this.name=t,this.fields=e}),G);function uc(){return rn("App.Msg",[],oc,()=>["Connect",["ConnectionStateChanged",[["Item",nc()]]],["GotInitResponse",[["Item",en("Protocol.InitResponse",[],ys,()=>[["BattleResultsOffset",sn],["BattleResults",on(Iu())]])]]],["GotSubscriptionNotification",[["Item",en("Protocol.SubscriptionNotification",[],vs,()=>[["BattleResultsOffset",sn],["BattleResult",Iu()]])]]],"FetchExpectedValues",["GotExpectedValues",[["Item",tn("Microsoft.FSharp.Collections.FSharpMap`2",[Pu(),ls()])]]],"FetchingExpectedValuesErrored"])}function sc(n,t){const e=new WebSocket("ws://localhost:15455"),r=function(){e.onclose=function(n){},e.close(),t(new oc(1,"ConnectionStateChanged",new Qs(3,"ProtocolError")))};e.onopen=function(t){let r,i,o;r=void 0;o=ms(new ps(n)),i=ns(0,o),e.send(i)},e.onclose=function(n){let e;e=void 0,t(new oc(1,"ConnectionStateChanged",new Qs(2,"Disconnected")))},e.onmessage=function(n){let i,o,u;u=n.data;const s=function(){var n;let t;return t=xu(0,(function(n,t){return iu("end",j(2,Xo),n,t)}),j(3,(function(n){var t,e;return xu(0,j(2,(e=Nu(),t=function(n){return function(t){return su(j(2,e),n,t)}},function(n){return function(e){return iu("battleResults",j(2,t),n,e)}})),j(3,(function(t){return Ou(0,new ys(n,t))})))}))),xu(0,j(2,(n=gs("subscribe",(function(n,t){return au(void 0)})),function(t){return function(e){return uu(0,j(2,n),t,e)}})),j(3,(function(){var n;return Cu(0,j(2,(n=gs("get_battle_results",j(2,t)),function(t){return function(e){return uu(1,j(2,n),t,e)}})))})))}();return o=Go(j(2,s),u),i=Ie((function(n){e.onmessage=function(n){let e,i,o;o=n.data;return i=Go(j(2,bs()),o),e=Ie((function(n){t(new oc(3,"GotSubscriptionNotification",n))}),i),Ne((function(n){r()}),e)},t(new oc(1,"ConnectionStateChanged",new Qs(1,"Subscribed"))),t(new oc(2,"GotInitResponse",n))}),o),Ne((function(n){r()}),i)},t(new oc(1,"ConnectionStateChanged",new Qs(0,"Connecting")))}function cc(){var n,t;return[new rc(new Qs(2,"Disconnected"),new tc(0,"Loading"),new q,0),Ts(Bo([(n=new oc(0,"Connect"),Bs(n)),(t=new oc(4,"FetchExpectedValues"),Bs(t))]))]}function fc(n,t){var e,r,i,o,u,s,c,f,a,l;switch(n.tag){case 1:return[new rc(n.fields[0],t.ExpectedValues,t.BattleResults,t.BattleResultsOffset),Ps()];case 3:return[(e=Mo(t.BattleResults,new q(n.fields[0].BattleResult,new q)),new rc(t.ConnectionState,t.ExpectedValues,e,n.fields[0].BattleResultsOffset)),Ps()];case 2:return[(r=Mo(t.BattleResults,n.fields[0].BattleResults),new rc(t.ConnectionState,t.ExpectedValues,r,n.fields[0].BattleResultsOffset)),Ps()];case 4:return[(i=new tc(0,"Loading"),new rc(t.ConnectionState,i,t.BattleResults,t.BattleResultsOffset)),(c=function(){return hs()},f=void 0,a=function(n){return new oc(5,"GotExpectedValues",n)},l=function(n){return new oc(6,"FetchingExpectedValuesErrored")},new q((function(n){c(f).then((function(t){return n(a(t))})).catch((function(t){return n(l(t))}))}),new q))];case 5:return[(o=new tc(1,"Loaded",n.fields[0]),new rc(t.ConnectionState,o,t.BattleResults,t.BattleResultsOffset)),Ps()];case 6:return[(u=new tc(2,"Errored"),new rc(t.ConnectionState,u,t.BattleResults,t.BattleResultsOffset)),Ps()];default:return 2===t.ConnectionState.tag?[t,(s=function(n){sc(t.BattleResultsOffset,n)},new q(s,new q))]:[t,Ps()]}}function ac(n,t){var e,r,i,o,u,s,c,f,a,l,d,h,w,g,p,m,y,v,b,S;const E=function(n,e){const r=[new Fs(40,"OnClick",(function(n){t(e)})),js(["bg-gray-100","hover:bg-gray-300","text-sm","py-1","px-4","border-solid","border-2","border-gray-300","rounded"])],i=[n];return Ds.c("button",R(r,1),...i)};if(0===n.ConnectionState.tag){const n=[js(["bg-blue-400","p-2"])],t=[(e=[],r=["Connecting to battle results server ",(i=[new Rs(24,"ClassName","font-bold")],o=["..."],Ds.c("span",R(i,1),...o))],Ds.c("h3",R(e,1),...r))];return Ds.c("aside",R(n,1),...t)}if(2===n.ConnectionState.tag){const n=[js(["bg-red-600","p-2","space-x-8","flex","items-center"])],t=[(u=[new Rs(24,"ClassName","flex-grow")],s=[(c=[new Rs(24,"ClassName","font-bold")],f=["Disconnected."],Ds.c("h3",R(c,1),...f)),(a=[],l=["Could not connect to the battle results server. Please make sure that WoT is running and that the ",(d=[new Rs(54,"Href","https://wgmods.net/4662/"),new Rs(24,"ClassName","underline")],h=["Battle Results Server"],Ds.c("a",R(d,1),...h))," mod is installed correctly."],Ds.c("p",R(a,1),...l))],Ds.c("div",R(u,1),...s)),E("Connect",new oc(0,"Connect"))];return Ds.c("aside",R(n,1),...t)}if(3===n.ConnectionState.tag){const n=[js(["bg-red-600","p-2"])],t=[(w=[new Rs(24,"ClassName","font-bold")],g=["Oh no."],Ds.c("h3",R(w,1),...g)),(p=[],m=["Something went wrong. Please make sure that the the latest version of the ",(y=[new Rs(54,"Href","https://wgmods.net/4662/"),new Rs(24,"ClassName","underline")],v=["Battle Results Server"],Ds.c("a",R(y,1),...v))," mod is installed."],Ds.c("p",R(p,1),...m))];return Ds.c("aside",R(n,1),...t)}if(2===n.ExpectedValues.tag){const n=[js(["bg-red-600","p-2","space-x-8","flex","items-center"])],t=[(b=[new Rs(24,"ClassName","flex-grow")],S=["Could not fetch expected values for WN8 calculation."],Ds.c("h3",R(b,1),...S)),E("Retry",new oc(4,"FetchExpectedValues"))];return Ds.c("aside",R(n,1),...t)}return null}function lc(n){var t,e,r,i,o,u;let s;s=Fo(_u,n.BattleResults);const c=function(n){if(null!=n.tail){return ko(Fo((function(n){return 1!==n.Outcome.tag}),n))/ko(n)}}(s);let f,a,l,d;a=Ae(Ns,c),f=je(a,["bg-black","text-white"]),d=Ae(_s,c),l=je(d,"N/A");const h=[js(["col-span-1","row-span-1",f[0],"flex","items-center","justify-center"])],w=[(t=[js(["text-center",f[1],"leading-tight"])],e=[(r=[new Rs(24,"ClassName","text-xl")],i=["Win Rate"],Ds.c("h2",R(r,1),...i)),(o=[new Rs(24,"ClassName","text-6xl")],u=[l],Ds.c("p",R(o,1),...u))],Ds.c("div",R(t,1),...e))];return Ds.c("section",R(h,1),...w)}function dc(n){var t,e,r,i,o,u;const s=1===n.ExpectedValues.tag?function(n,t){let e=0,r=0,i=0,o=0,u=0,s=0,c=0,f=0,a=0,l=0;or((function(t){if(0===t.BonusType.tag){const d=Hr(t.BonusType.fields[0].VehicleId,n);if(null==d);else{const n=d;e+=t.BonusType.fields[0].DamageDealt,r+=t.BonusType.fields[0].Spots,i+=t.BonusType.fields[0].Frags,o+=t.BonusType.fields[0].DefencePoints,u=0===t.Outcome.tag?u+1:u,s+=n.DamageDealtTarget,c+=n.SpotsTarget,f+=n.FragsTarget,a+=n.DefencePointsTarget,l+=n.WinRateTarget}}}),t);const d=[s,c,f,a,l];switch(0===d[0]&&0===d[1]&&0===d[2]&&0===d[3]&&0===d[4]?0:1){case 0:return;case 1:{const n=e/s,t=r/c,d=i/f,h=o/a,w=function(n,t){return(n-t)/(1-t)},g=O(v,0,w(u/l,.71)),p=O(v,0,w(n,.22)),m=O(v,0,x(v,p+.2,w(d,.12)));return 980*p+210*p*m+155*m*O(v,0,x(v,p+.1,w(t,.38)))+75*O(v,0,x(v,p+.1,w(h,.1)))*m+14.5*x(v,1.8,g)}}}(n.ExpectedValues.fields[0],n.BattleResults):void 0;let c,f,a,l;f=Ae(Us,s),c=je(f,["bg-black","text-white"]),l=Ae(Vs,s),a=je(l,"N/A");const d=[js(["col-span-1","row-span-1",c[0],"flex","items-center","justify-center"])],h=[(t=[js(["text-center",c[1],"leading-tight"])],e=[(r=[new Rs(24,"ClassName","text-xl")],i=["WN8"],Ds.c("h2",R(r,1),...i)),(o=[new Rs(24,"ClassName","text-6xl")],u=[a],Ds.c("p",R(o,1),...u))],Ds.c("div",R(t,1),...e))];return Ds.c("section",R(d,1),...h)}function hc(n,t){var e,r,i,o,u,s;const c=[ac(n,t),(e=[js(["bg-gray-900","text-white","p-2"])],r=[(i=[],o=["WoT Session Dashboard"],Ds.c("h1",R(i,1),...o))],Ds.c("header",R(e,1),...r)),(u=[js(["grid","grid-flow-row-dense","grid-rows-h-48","grid-cols-fill-w-64"])],s=[lc(n),dc(n)],Ds.c("main",R(u,1),...s))];return Ds.c(Ds.b,R([],1),...c)}!function(){let n;const t=new Hs((function(){return cc()}),fc,(function(n){return Ps()}),e=hc,(function(n,t){e(n,t)}),(function(n){ks(n[0],n[1])}),j(2,(function(n){return n})));var e;n=Ks(Ys,"elmish-app",t),Js(void 0,n)}()}]);
//# sourceMappingURL=main.de185acf5a819723ec0f.js.map